<!DOCTYPE html><html><head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<link rel="stylesheet" type="text/css" href="style.css">
		<link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,700" rel="stylesheet" type="text/css">
	<title>Capital Punishment in Japan </title></head>
	<body>
	

<script>window.Flourish = {"static_prefix":".","environment":"live","is_read_only":true};</script><script>var template=function(t){"use strict";var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function n(t){var e={exports:{}};return t(e,e.exports),e.exports}function r(t){return t&&t.Math==Math&&t}function g(t){try{return!!t()}catch(t){return!0}}function y(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}function s(t){return u.call(t).slice(8,-1)}function f(t){if(null==t)throw TypeError("Can't call method on "+t);return t}function l(t){return w(f(t))}function v(t){return"object"==typeof t?null!==t:"function"==typeof t}function h(t,e){if(!v(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!v(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!v(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!v(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")}function x(t){return Object(f(t))}function d(t,e){return k.call(x(t),e)}function i(t){return T?M.createElement(t):{}}function S(t){if(!v(t))throw TypeError(String(t)+" is not an object");return t}function p(e,n){try{z(m,e,n)}catch(t){m[e]=n}return n}var m=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof e&&e)||function(){return this}()||Function("return this")(),_=!g(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}),o={}.propertyIsEnumerable,a=Object.getOwnPropertyDescriptor,b={f:a&&!o.call({1:2},1)?function(t){var e=a(this,t);return!!e&&e.enumerable}:o},u={}.toString,c="".split,w=g(function(){return!Object("z").propertyIsEnumerable(0)})?function(t){return"String"==s(t)?c.call(t,""):Object(t)}:Object,k={}.hasOwnProperty,M=m.document,T=v(M)&&v(M.createElement),A=!_&&!g(function(){return 7!=Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a}),E=Object.getOwnPropertyDescriptor,N={f:_?E:function(t,e){if(t=l(t),e=h(e,!0),A)try{return E(t,e)}catch(t){}if(d(t,e))return y(!b.f.call(t,e),t[e])}},C=Object.defineProperty,O={f:_?C:function(t,e,n){if(S(t),e=h(e,!0),S(n),A)try{return C(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},z=_?function(t,e,n){return O.f(t,e,y(1,n))}:function(t,e,n){return t[e]=n,t},j="__core-js_shared__",D=m[j]||p(j,{}),F=Function.toString;"function"!=typeof D.inspectSource&&(D.inspectSource=function(t){return F.call(t)});function P(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++$+V).toString(36)}function L(t){return W[t]||(W[t]=P(t))}var R,U,I,H=D.inspectSource,q=m.WeakMap,Y="function"==typeof q&&/native code/.test(H(q)),B=n(function(t){(t.exports=function(t,e){return D[t]||(D[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.12.0",mode:"global",copyright:"Â© 2021 Denis Pushkarev (zloirock.ru)"})}),$=0,V=Math.random(),W=B("keys"),X={},G="Object already initialized",Z=m.WeakMap;if(Y){var Q=D.state||(D.state=new Z),J=Q.get,K=Q.has,tt=Q.set;R=function(t,e){if(K.call(Q,t))throw new TypeError(G);return e.facade=t,tt.call(Q,t,e),e},U=function(t){return J.call(Q,t)||{}},I=function(t){return K.call(Q,t)}}else{var et=L("state");X[et]=!0,R=function(t,e){if(d(t,et))throw new TypeError(G);return e.facade=t,z(t,et,e),e},U=function(t){return d(t,et)?t[et]:{}},I=function(t){return d(t,et)}}function nt(t){return"function"==typeof t?t:void 0}function rt(t,e){return arguments.length<2?nt(bt[t])||nt(m[t]):bt[t]&&bt[t][e]||m[t]&&m[t][e]}function it(t){return isNaN(t=+t)?0:(0<t?wt:xt)(t)}function ot(t){return 0<t?kt(it(t),9007199254740991):0}function at(t,e){var n=it(t);return n<0?Mt(n+e,0):Tt(n,e)}function ut(u){return function(t,e,n){var r,i=l(t),o=ot(i.length),a=at(n,o);if(u&&e!=e){for(;a<o;)if((r=i[a++])!=r)return!0}else for(;a<o;a++)if((u||a in i)&&i[a]===e)return u||a||0;return!u&&-1}}function ct(t,e){var n,r=l(t),i=0,o=[];for(n in r)!d(X,n)&&d(r,n)&&o.push(n);for(;e.length>i;)d(r,n=e[i++])&&(~At(o,n)||o.push(n));return o}function lt(t,e){for(var n=zt(e),r=O.f,i=N.f,o=0;o<n.length;o++){var a=n[o];d(t,a)||r(t,a,i(e,a))}}function st(t,e){var n=Ft[Dt(t)];return n==Lt||n!=Pt&&("function"==typeof e?g(e):!!e)}function ft(t,e){var n,r,i,o,a,u=t.target,c=t.global,l=t.stat;if(n=c?m:l?m[u]||p(u,{}):(m[u]||{}).prototype)for(r in e){if(o=e[r],i=t.noTargetGet?(a=Ut(n,r))&&a.value:n[r],!Rt(c?r:u+(l?".":"#")+r,t.forced)&&void 0!==i){if(typeof o==typeof i)continue;lt(o,i)}(t.sham||i&&i.sham)&&z(o,"sham",!0),mt(n,r,o,t)}}function ht(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t}function dt(r,i,t){if(ht(r),void 0===i)return r;switch(t){case 0:return function(){return r.call(i)};case 1:return function(t){return r.call(i,t)};case 2:return function(t,e){return r.call(i,t,e)};case 3:return function(t,e,n){return r.call(i,t,e,n)}}return function(){return r.apply(i,arguments)}}function pt(t){var e=t.return;if(void 0!==e)return S(e.call(t)).value}function _t(e,t,n,r){try{return r?t(S(n)[0],n[1]):t(n)}catch(t){throw pt(e),t}}var gt,yt,vt={set:R,get:U,has:I,enforce:function(t){return I(t)?U(t):R(t,{})},getterFor:function(n){return function(t){var e;if(!v(t)||(e=U(t)).type!==n)throw TypeError("Incompatible receiver, "+n+" required");return e}}},mt=n(function(t){var e=vt.get,c=vt.enforce,l=String(String).split("String");(t.exports=function(t,e,n,r){var i,o=!!r&&!!r.unsafe,a=!!r&&!!r.enumerable,u=!!r&&!!r.noTargetGet;"function"==typeof n&&("string"!=typeof e||d(n,"name")||z(n,"name",e),(i=c(n)).source||(i.source=l.join("string"==typeof e?e:""))),t!==m?(o?!u&&t[e]&&(a=!0):delete t[e],a?t[e]=n:z(t,e,n)):a?t[e]=n:p(e,n)})(Function.prototype,"toString",function(){return"function"==typeof this&&e(this).source||H(this)})}),bt=m,xt=Math.ceil,wt=Math.floor,kt=Math.min,Mt=Math.max,Tt=Math.min,St={includes:ut(!0),indexOf:ut(!1)},At=St.indexOf,Et=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Nt=Et.concat("length","prototype"),Ct={f:Object.getOwnPropertyNames||function(t){return ct(t,Nt)}},Ot={f:Object.getOwnPropertySymbols},zt=rt("Reflect","ownKeys")||function(t){var e=Ct.f(S(t)),n=Ot.f;return n?e.concat(n(t)):e},jt=/#|\.prototype\./,Dt=st.normalize=function(t){return String(t).replace(jt,".").toLowerCase()},Ft=st.data={},Pt=st.NATIVE="N",Lt=st.POLYFILL="P",Rt=st,Ut=N.f,It=rt("navigator","userAgent")||"",Ht=m.process,qt=Ht&&Ht.versions,Yt=qt&&qt.v8;Yt?yt=(gt=Yt.split("."))[0]<4?1:gt[0]+gt[1]:It&&(!(gt=It.match(/Edge\/(\d+)/))||74<=gt[1])&&(gt=It.match(/Chrome\/(\d+)/))&&(yt=gt[1]);function Bt(t){return d(Zt,t)&&(Xt||"string"==typeof Zt[t])||(Xt&&d(Qt,t)?Zt[t]=Qt[t]:Zt[t]=Jt("Symbol."+t)),Zt[t]}function $t(t){return void 0!==t&&(Kt.Array===t||ee[te]===t)}function Vt(t,e,n){var r=h(e);r in t?O.f(t,r,y(0,n)):t[r]=n}var Wt=yt&&+yt,Xt=!!Object.getOwnPropertySymbols&&!g(function(){return!String(Symbol())||!Symbol.sham&&Wt&&Wt<41}),Gt=Xt&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,Zt=B("wks"),Qt=m.Symbol,Jt=Gt?Qt:Qt&&Qt.withoutSetter||P,Kt={},te=Bt("iterator"),ee=Array.prototype,ne={};ne[Bt("toStringTag")]="z";function re(t){if(null!=t)return t[ce]||t["@@iterator"]||Kt[ue(t)]}var ie="[object z]"===String(ne),oe=Bt("toStringTag"),ae="Arguments"==s(function(){return arguments}()),ue=ie?s:function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),oe))?n:ae?s(e):"Object"==(r=s(e))&&"function"==typeof e.callee?"Arguments":r},ce=Bt("iterator"),le=Bt("iterator"),se=!1;try{var fe=0,he={next:function(){return{done:!!fe++}},return:function(){se=!0}};he[le]=function(){return this},Array.from(he,function(){throw 2})}catch(t){}function de(t,e){if(!e&&!se)return!1;var n=!1;try{var r={};r[le]=function(){return{next:function(){return{done:n=!0}}}},t(r)}catch(t){}return n}var pe=!de(function(t){Array.from(t)});ft({target:"Array",stat:!0,forced:pe},{from:function(t,e,n){var r,i,o,a,u,c,l=x(t),s="function"==typeof this?this:Array,f=arguments.length,h=1<f?e:void 0,d=void 0!==h,p=re(l),_=0;if(d&&(h=dt(h,2<f?n:void 0,2)),null==p||s==Array&&$t(p))for(i=new s(r=ot(l.length));_<r;_++)c=d?h(l[_],_):l[_],Vt(i,_,c);else for(u=(a=p.call(l)).next,i=new s;!(o=u.call(a)).done;_++)c=d?_t(a,h,[o.value,_],!0):o.value,Vt(i,_,c);return i.length=_,i}});function _e(u){return function(t,e){var n,r,i=String(f(t)),o=it(e),a=i.length;return o<0||a<=o?u?"":void 0:(n=i.charCodeAt(o))<55296||56319<n||o+1===a||(r=i.charCodeAt(o+1))<56320||57343<r?u?i.charAt(o):n:u?i.slice(o,o+2):r-56320+(n-55296<<10)+65536}}var ge,ye,ve,me={codeAt:_e(!1),charAt:_e(!0)},be=!g(function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}),xe=L("IE_PROTO"),we=Object.prototype,ke=be?Object.getPrototypeOf:function(t){return t=x(t),d(t,xe)?t[xe]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?we:null},Me=Bt("iterator"),Te=!1;[].keys&&("next"in(ve=[].keys())?(ye=ke(ke(ve)))!==Object.prototype&&(ge=ye):Te=!0),null!=ge&&!g(function(){var t={};return ge[Me].call(t)!==t})||(ge={}),d(ge,Me)||z(ge,Me,function(){return this});function Se(){}function Ae(t){return"<script>"+t+"</"+De+">"}var Ee,Ne={IteratorPrototype:ge,BUGGY_SAFARI_ITERATORS:Te},Ce=Object.keys||function(t){return ct(t,Et)},Oe=_?Object.defineProperties:function(t,e){S(t);for(var n,r=Ce(e),i=r.length,o=0;o<i;)O.f(t,n=r[o++],e[n]);return t},ze=rt("document","documentElement"),je="prototype",De="script",Fe=L("IE_PROTO"),Pe=function(){try{Ee=document.domain&&new ActiveXObject("htmlfile")}catch(t){}Pe=Ee?function(t){t.write(Ae("")),t.close();var e=t.parentWindow.Object;return t=null,e}(Ee):function(){var t,e=i("iframe");return e.style.display="none",ze.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(Ae("document.F=Object")),t.close(),t.F}();for(var t=Et.length;t--;)delete Pe[je][Et[t]];return Pe()};X[Fe]=!0;function Le(t,e,n){t&&!d(t=n?t:t.prototype,Ye)&&qe(t,Ye,{configurable:!0,value:e})}function Re(){return this}function Ue(){return this}function Ie(t,e,n,r,i,o,a){function u(t){if(t===i&&_)return _;if(!We&&t in d)return d[t];switch(t){case"keys":case Ge:case Ze:return function(){return new n(this,t)}}return function(){return new n(this)}}!function(t,e,n){var r=e+" Iterator";t.prototype=He(Be,{next:y(1,n)}),Le(t,r,!1),Kt[r]=Re}(n,e,r);var c,l,s,f=e+" Iterator",h=!1,d=t.prototype,p=d[Xe]||d["@@iterator"]||i&&d[i],_=!We&&p||u(i),g="Array"==e&&d.entries||p;if(g&&(c=ke(g.call(new t)),Ve!==Object.prototype&&c.next&&(ke(c)!==Ve&&($e?$e(c,Ve):"function"!=typeof c[Xe]&&z(c,Xe,Ue)),Le(c,f,!0))),i==Ge&&p&&p.name!==Ge&&(h=!0,_=function(){return p.call(this)}),d[Xe]!==_&&z(d,Xe,_),Kt[e]=_,i)if(l={values:u(Ge),keys:o?_:u("keys"),entries:u(Ze)},a)for(s in l)!We&&!h&&s in d||mt(d,s,l[s]);else ft({target:e,proto:!0,forced:We||h},l);return l}var He=Object.create||function(t,e){var n;return null!==t?(Se[je]=S(t),n=new Se,Se[je]=null,n[Fe]=t):n=Pe(),void 0===e?n:Oe(n,e)},qe=O.f,Ye=Bt("toStringTag"),Be=Ne.IteratorPrototype,$e=Object.setPrototypeOf||("__proto__"in{}?function(){var n,r=!1,t={};try{(n=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(t,[]),r=t instanceof Array}catch(t){}return function(t,e){return S(t),function(t){if(!v(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype")}(e),r?n.call(t,e):t.__proto__=e,t}}():void 0),Ve=Ne.IteratorPrototype,We=Ne.BUGGY_SAFARI_ITERATORS,Xe=Bt("iterator"),Ge="values",Ze="entries",Qe=me.charAt,Je="String Iterator",Ke=vt.set,tn=vt.getterFor(Je);Ie(String,"String",function(t){Ke(this,{type:Je,string:String(t),index:0})},function(){var t,e=tn(this),n=e.string,r=e.index;return r>=n.length?{value:void 0,done:!0}:(t=Qe(n,r),e.index+=t.length,{value:t,done:!1})});var en=ie?{}.toString:function(){return"[object "+ue(this)+"]"};ie||mt(Object.prototype,"toString",en,{unsafe:!0});function nn(t,e,n){var r,i;return $e&&"function"==typeof(r=e.constructor)&&r!==n&&v(i=r.prototype)&&i!==n.prototype&&$e(t,i),t}function rn(n){return function(t){var e=String(f(t));return 1&n&&(e=e.replace(sn,"")),2&n&&(e=e.replace(fn,"")),e}}function on(t){var e,n,r,i,o,a,u,c,l=h(t,!1);if("string"==typeof l&&2<l.length)if(43===(e=(l=gn(l)).charCodeAt(0))||45===e){if(88===(n=l.charCodeAt(2))||120===n)return NaN}else if(48===e){switch(l.charCodeAt(1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+l}for(a=(o=l.slice(2)).length,u=0;u<a;u++)if((c=o.charCodeAt(u))<48||i<c)return NaN;return parseInt(o,r)}return+l}var an,un,cn="\t\n\v\f\r Â áââââââââââââ¯âã\u2028\u2029\ufeff",ln="["+cn+"]",sn=RegExp("^"+ln+ln+"*"),fn=RegExp(ln+ln+"*$"),hn={start:rn(1),end:rn(2),trim:rn(3)},dn=Ct.f,pn=N.f,_n=O.f,gn=hn.trim,yn="Number",vn=m[yn],mn=vn.prototype,bn=s(He(mn))==yn;if(Rt(yn,!vn(" 0o1")||!vn("0b1")||vn("+0x1"))){for(var xn,wn=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof wn&&(bn?g(function(){mn.valueOf.call(n)}):s(n)!=yn)?nn(new vn(on(e)),n,wn):on(e)},kn=_?dn(vn):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),Mn=0;kn.length>Mn;Mn++)d(vn,xn=kn[Mn])&&!d(wn,xn)&&_n(wn,xn,pn(vn,xn));(wn.prototype=mn).constructor=wn,mt(m,yn,wn)}function Tn(t){return"function"==typeof t||"[object Function]"===an.call(t)}function Sn(t){var e=function(t){var e=Number(t);return isNaN(e)?0:0!==e&&isFinite(e)?(0<e?1:-1)*Math.floor(Math.abs(e)):e}(t);return Math.min(Math.max(e,0),un)}Array.from||(Array.from=(an=Object.prototype.toString,un=Math.pow(2,53)-1,function(t,e,n){var r=Object(t);if(null==t)throw new TypeError("Array.from requires an array-like object - not null or undefined");var i,o=1<arguments.length?e:void 0;if(void 0!==o){if(!Tn(o))throw new TypeError("Array.from: when provided, the second argument must be a function");2<arguments.length&&(i=n)}for(var a,u=Sn(r.length),c=Tn(this)?Object(new this(u)):new Array(u),l=0;l<u;)a=r[l],c[l]=o?void 0===i?o(a,l):o.call(i,a,l):a,l+=1;return c.length=u,c}));var An={},En={height_mode:"auto",padding_right:6,padding_left:0,padding_top:0,padding_bottom:0,play_mode:"all",zoom_steps_to_show:3,color_mode:"line",color:{},color_single:"#333333",color_single_overrides:"CDU: red",start_circle_r:.3,end_circle_r:1.5,end_circle_stroke:.3,end_circle_stroke_bg:!0,circle_space_between:2,horse_images:!0,labels:{},hide_labels:!1,animate_scores:!0,rank_outside_picture:!0,rank_inside_color:"#ffffff",label_divider:" ",line_opacity:1,line_width:.3,curve:"curveLinear",shade:!0,shade_opacity:.1,shade_width:1,missing:!1,missing_opacity:1,missing_stroke_dash:.5,missing_width:.1,stage_duration:1500,update_duration:500,value_type:"scores",higher_scores_win:!0,ties_mode:"competition",target_position:null,selected_horse:null,mouseover_horse:null,x:{title_mode:"custom",nice:!1,axis_position:"top"},y:{title_mode:"custom",nice:!1},zoom_y_axis:!1,chart_bg:{},show_buttons:!0,toggle_control:{control_type:"buttons",button_group_width_mode:"auto"},show_replay:!0,filter_control:{},filter_include_all:!0,filter_all_label:"All",filter_value:null,label_ranks:"Ranks",label_scores:"Scores",label_replay:"Replay",controls_style:{},button_style:{background_hover:"#eeeeee"},dropdown_style:{},caption_mode:"text_legend",caption_font_size:1,caption_text_color:null,caption_text_weight:"normal",caption_background_color:null,caption_opacity:1,caption_border_color:"#ffffff",caption_text_align_h:"center",caption_text_align_v:"center",caption_border_radius:.2,caption_padding:1,caption_position:"center-center",caption_space_between:1,caption_text_width:15,caption_image_width:15,caption_image_position:"column",formatting:{},layout:{}};var Nn=O.f,Cn=Function.prototype,On=Cn.toString,zn=/^\s*function ([^ (]*)/;!_||"name"in Cn||Nn(Cn,"name",{configurable:!0,get:function(){try{return On.call(this).match(zn)[1]}catch(t){return""}}});function jn(t,e){var n;return Fn(t)&&("function"!=typeof(n=t.constructor)||n!==Array&&!Fn(n.prototype)?v(n)&&null===(n=n[Pn])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===e?0:e)}function Dn(e){return 51<=Wt||!g(function(){var t=[];return(t.constructor={})[Ln]=function(){return{foo:1}},1!==t[e](Boolean).foo})}var Fn=Array.isArray||function(t){return"Array"==s(t)},Pn=Bt("species"),Ln=Bt("species"),Rn=Dn("splice"),Un=Math.max,In=Math.min;ft({target:"Array",proto:!0,forced:!Rn},{splice:function(t,e){var n,r,i,o,a,u,c=x(this),l=ot(c.length),s=at(t,l),f=arguments.length;if(0===f?n=r=0:r=1===f?(n=0,l-s):(n=f-2,In(Un(it(e),0),l-s)),9007199254740991<l+n-r)throw TypeError("Maximum allowed length exceeded");for(i=jn(c,r),o=0;o<r;o++)(a=s+o)in c&&Vt(i,o,c[a]);if(n<(i.length=r)){for(o=s;o<l-r;o++)u=o+n,(a=o+r)in c?c[u]=c[a]:delete c[u];for(o=l;l-r+n<o;o--)delete c[o-1]}else if(r<n)for(o=l-r;s<o;o--)u=o+n-1,(a=o+r-1)in c?c[u]=c[a]:delete c[u];for(o=0;o<n;o++)c[o+s]=arguments[o+2];return c.length=l-r+n,i}});function Hn(t,e){var n=[][t];return!!n&&g(function(){n.call(null,e||function(){throw 1},1)})}var qn=[].join,Yn=w!=Object,Bn=Hn("join",",");ft({target:"Array",proto:!0,forced:Yn||!Bn},{join:function(t){return qn.call(l(this),void 0===t?",":t)}});function $n(){var t=S(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}function Vn(t,e){return RegExp(t,e)}var Wn,Xn,Gn={UNSUPPORTED_Y:g(function(){var t=Vn("a","y");return t.lastIndex=2,null!=t.exec("abcd")}),BROKEN_CARET:g(function(){var t=Vn("^r","gy");return t.lastIndex=2,null!=t.exec("str")})},Zn=RegExp.prototype.exec,Qn=B("native-string-replace",String.prototype.replace),Jn=Zn,Kn=(Wn=/a/,Xn=/b*/g,Zn.call(Wn,"a"),Zn.call(Xn,"a"),0!==Wn.lastIndex||0!==Xn.lastIndex),tr=Gn.UNSUPPORTED_Y||Gn.BROKEN_CARET,er=void 0!==/()??/.exec("")[1];(Kn||er||tr)&&(Jn=function(t){var e,n,r,i,o=this,a=tr&&o.sticky,u=$n.call(o),c=o.source,l=0,s=t;return a&&(-1===(u=u.replace("y","")).indexOf("g")&&(u+="g"),s=String(t).slice(o.lastIndex),0<o.lastIndex&&(!o.multiline||o.multiline&&"\n"!==t[o.lastIndex-1])&&(c="(?: "+c+")",s=" "+s,l++),n=new RegExp("^(?:"+c+")",u)),er&&(n=new RegExp("^"+c+"$(?!\\s)",u)),Kn&&(e=o.lastIndex),r=Zn.call(a?n:o,s),a?r?(r.input=r.input.slice(l),r[0]=r[0].slice(l),r.index=o.lastIndex,o.lastIndex+=r[0].length):o.lastIndex=0:Kn&&r&&(o.lastIndex=o.global?r.index+r[0].length:e),er&&r&&1<r.length&&Qn.call(r[0],n,function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(r[i]=void 0)}),r});var nr=Jn;ft({target:"RegExp",proto:!0,forced:/./.exec!==nr},{exec:nr});function rr(n,t,e,r){var i=Bt(n),o=!g(function(){var t={};return t[i]=function(){return 7},7!=""[n](t)}),a=o&&!g(function(){var t=!1,e=/a/;return"split"===n&&((e={constructor:{}}).constructor[cr]=function(){return e},e.flags="",e[i]=/./[i]),e.exec=function(){return t=!0,null},e[i](""),!t});if(!o||!a||"replace"===n&&(!lr||!sr||hr)||"split"===n&&!dr){var u=/./[i],c=e(i,""[n],function(t,e,n,r,i){return e.exec===RegExp.prototype.exec?o&&!i?{done:!0,value:u.call(e,n,r)}:{done:!0,value:t.call(n,e,r)}:{done:!1}},{REPLACE_KEEPS_$0:sr,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:hr}),l=c[0],s=c[1];mt(String.prototype,n,l),mt(RegExp.prototype,i,2==t?function(t,e){return s.call(t,this,e)}:function(t){return s.call(t,this)})}r&&z(RegExp.prototype[i],"sham",!0)}function ir(t){var e;return v(t)&&(void 0!==(e=t[pr])?!!e:"RegExp"==s(t))}function or(t,e){var n,r=S(t).constructor;return void 0===r||null==(n=S(r)[_r])?e:ht(n)}function ar(t,e,n){return e+(n?gr(t,e).length:1)}function ur(t,e){var n=t.exec;if("function"==typeof n){var r=n.call(t,e);if("object"!=typeof r)throw TypeError("RegExp exec method returned something other than an Object or null");return r}if("RegExp"!==s(t))throw TypeError("RegExp#exec called on incompatible receiver");return nr.call(t,e)}var cr=Bt("species"),lr=!g(function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}),sr="$0"==="a".replace(/./,"$0"),fr=Bt("replace"),hr=!!/./[fr]&&""===/./[fr]("a","$0"),dr=!g(function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}),pr=Bt("match"),_r=Bt("species"),gr=me.charAt,yr=Gn.UNSUPPORTED_Y,vr=[].push,mr=Math.min,br=4294967295;rr("split",2,function(i,g,y){var v;return v="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||1<".".split(/()()/).length||"".split(/.?/).length?function(t,e){var n=String(f(this)),r=void 0===e?br:e>>>0;if(0==r)return[];if(void 0===t)return[n];if(!ir(t))return g.call(n,t,r);for(var i,o,a,u=[],c=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),l=0,s=new RegExp(t.source,c+"g");(i=nr.call(s,n))&&!(l<(o=s.lastIndex)&&(u.push(n.slice(l,i.index)),1<i.length&&i.index<n.length&&vr.apply(u,i.slice(1)),a=i[0].length,l=o,u.length>=r));)s.lastIndex===i.index&&s.lastIndex++;return l===n.length?!a&&s.test("")||u.push(""):u.push(n.slice(l)),u.length>r?u.slice(0,r):u}:"0".split(void 0,0).length?function(t,e){return void 0===t&&0===e?[]:g.call(this,t,e)}:g,[function(t,e){var n=f(this),r=null==t?void 0:t[i];return void 0!==r?r.call(t,n,e):v.call(String(n),t,e)},function(t,e){var n=y(v,t,this,e,v!==g);if(n.done)return n.value;var r=S(t),i=String(this),o=or(r,RegExp),a=r.unicode,u=(r.ignoreCase?"i":"")+(r.multiline?"m":"")+(r.unicode?"u":"")+(yr?"g":"y"),c=new o(yr?"^(?:"+r.source+")":r,u),l=void 0===e?br:e>>>0;if(0==l)return[];if(0===i.length)return null===ur(c,i)?[i]:[];for(var s=0,f=0,h=[];f<i.length;){c.lastIndex=yr?0:f;var d,p=ur(c,yr?i.slice(f):i);if(null===p||(d=mr(ot(c.lastIndex+(yr?f:0)),i.length))===s)f=ar(i,f,a);else{if(h.push(i.slice(s,f)),h.length===l)return h;for(var _=1;_<=p.length-1;_++)if(h.push(p[_]),h.length===l)return h;f=s=d}}return h.push(i.slice(s)),h}]},yr);var xr=Dn("slice"),wr=Bt("species"),kr=[].slice,Mr=Math.max;ft({target:"Array",proto:!0,forced:!xr},{slice:function(t,e){var n,r,i,o=l(this),a=ot(o.length),u=at(t,a),c=at(void 0===e?a:e,a);if(Fn(o)&&("function"!=typeof(n=o.constructor)||n!==Array&&!Fn(n.prototype)?v(n)&&null===(n=n[wr])&&(n=void 0):n=void 0,n===Array||void 0===n))return kr.call(o,u,c);for(r=new(void 0===n?Array:n)(Mr(c-u,0)),i=0;u<c;u++,i++)u in o&&Vt(r,i,o[u]);return r.length=i,r}});var Tr="http://www.w3.org/1999/xhtml",Sr={svg:"http://www.w3.org/2000/svg",xhtml:Tr,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Ar(t){var e=t+="",n=e.indexOf(":");return 0<=n&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),Sr.hasOwnProperty(e)?{space:Sr[e],local:t}:t}function Er(t){var e=Ar(t);return(e.local?function(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}:function(n){return function(){var t=this.ownerDocument,e=this.namespaceURI;return e===Tr&&t.documentElement.namespaceURI===Tr?t.createElement(n):t.createElementNS(e,n)}})(e)}function Nr(){}function Cr(t){return null==t?Nr:function(){return this.querySelector(t)}}function Or(){return[]}function zr(t){return null==t?Or:function(){return this.querySelectorAll(t)}}function jr(t){return function(){return this.matches(t)}}function Dr(d){var p=1==d,_=2==d,g=3==d,y=4==d,v=6==d,m=7==d,b=5==d||v;return function(t,e,n,r){for(var i,o,a=x(t),u=w(a),c=dt(e,n,3),l=ot(u.length),s=0,f=r||jn,h=p?f(t,l):_||m?f(t,0):void 0;s<l;s++)if((b||s in u)&&(o=c(i=u[s],s,a),d))if(p)h[s]=o;else if(o)switch(d){case 3:return!0;case 5:return i;case 6:return s;case 2:Fr.call(h,i)}else switch(d){case 4:return!1;case 7:Fr.call(h,i)}return v?-1:g||y?y:h}}var Fr=[].push,Pr={forEach:Dr(0),map:Dr(1),filter:Dr(2),some:Dr(3),every:Dr(4),find:Dr(5),findIndex:Dr(6),filterOut:Dr(7)},Lr=Pr.map,Rr=Dn("map");function Ur(t){return new Array(t.length)}function Ir(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}ft({target:"Array",proto:!0,forced:!Rr},{map:function(t,e){return Lr(this,t,1<arguments.length?e:void 0)}}),Ir.prototype={constructor:Ir,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var Hr="$";function qr(t,e,n,r,i,o){for(var a,u=0,c=e.length,l=o.length;u<l;++u)(a=e[u])?(a.__data__=o[u],r[u]=a):n[u]=new Ir(t,o[u]);for(;u<c;++u)(a=e[u])&&(i[u]=a)}function Yr(t,e,n,r,i,o,a){var u,c,l,s={},f=e.length,h=o.length,d=new Array(f);for(u=0;u<f;++u)(c=e[u])&&(d[u]=l=Hr+a.call(c,c.__data__,u,e),l in s?i[u]=c:s[l]=c);for(u=0;u<h;++u)(c=s[l=Hr+a.call(t,o[u],u,o)])?((r[u]=c).__data__=o[u],s[l]=null):n[u]=new Ir(t,o[u]);for(u=0;u<f;++u)(c=e[u])&&s[d[u]]===c&&(i[u]=c)}function Br(t,e){return t<e?-1:e<t?1:e<=t?0:NaN}function $r(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Vr(t,e){return t.style.getPropertyValue(e)||$r(t).getComputedStyle(t,null).getPropertyValue(e)}var Wr,Xr=hn.trim;function Gr(t){return t.trim().split(/^|\s+/)}function Zr(t){return t.classList||new Qr(t)}function Qr(t){this._node=t,this._names=Gr(t.getAttribute("class")||"")}function Jr(t,e){for(var n=Zr(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function Kr(t,e){for(var n=Zr(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function ti(){this.textContent=""}function ei(){this.innerHTML=""}function ni(){this.nextSibling&&this.parentNode.appendChild(this)}function ri(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function ii(){return null}function oi(){var t=this.parentNode;t&&t.removeChild(this)}function ai(){return this.parentNode.insertBefore(this.cloneNode(!1),this.nextSibling)}function ui(){return this.parentNode.insertBefore(this.cloneNode(!0),this.nextSibling)}ft({target:"String",proto:!0,forced:(Wr="trim",g(function(){return!!cn[Wr]()||"âÂá "!="âÂá "[Wr]()||cn[Wr].name!==Wr}))},{trim:function(){return Xr(this)}}),Qr.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);0<=e&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return 0<=this._names.indexOf(t)}};var ci={},li=null;"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(ci={mouseenter:"mouseover",mouseleave:"mouseout"}));function si(n,t,e){return n=fi(n,t,e),function(t){var e=t.relatedTarget;e&&(e===this||8&e.compareDocumentPosition(this))||n.call(this,t)}}function fi(n,r,i){return function(t){var e=li;li=t;try{n.call(this,this.__data__,r,i)}finally{li=e}}}function hi(o){return function(){var t=this.__on;if(t){for(var e,n=0,r=-1,i=t.length;n<i;++n)e=t[n],o.type&&e.type!==o.type||e.name!==o.name?t[++r]=e:this.removeEventListener(e.type,e.listener,e.capture);++r?t.length=r:delete this.__on}}}function di(c,l,s){var f=ci.hasOwnProperty(c.type)?si:fi;return function(t,e,n){var r,i=this.__on,o=f(l,e,n);if(i)for(var a=0,u=i.length;a<u;++a)if((r=i[a]).type===c.type&&r.name===c.name)return this.removeEventListener(r.type,r.listener,r.capture),this.addEventListener(r.type,r.listener=o,r.capture=s),void(r.value=l);this.addEventListener(c.type,o,s),r={type:c.type,name:c.name,value:l,listener:o,capture:s},i?i.push(r):this.__on=[r]}}function pi(t,e,n){var r=$r(t),i=r.CustomEvent;"function"==typeof i?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}var _i=[null];function gi(t,e){this._groups=t,this._parents=e}function yi(){return new gi([[document.documentElement]],_i)}function vi(t){return"string"==typeof t?new gi([[document.querySelector(t)]],[document.documentElement]):new gi([[t]],_i)}gi.prototype=yi.prototype={constructor:gi,select:function(t){"function"!=typeof t&&(t=Cr(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a,u=e[i],c=u.length,l=r[i]=new Array(c),s=0;s<c;++s)(o=u[s])&&(a=t.call(o,o.__data__,s,u))&&("__data__"in o&&(a.__data__=o.__data__),l[s]=a);return new gi(r,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=zr(t));for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var a,u=e[o],c=u.length,l=0;l<c;++l)(a=u[l])&&(r.push(t.call(a,a.__data__,l,u)),i.push(a));return new gi(r,i)},filter:function(t){"function"!=typeof t&&(t=jr(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a=e[i],u=a.length,c=r[i]=[],l=0;l<u;++l)(o=a[l])&&t.call(o,o.__data__,l,a)&&c.push(o);return new gi(r,this._parents)},data:function(t,e){if(!t)return d=new Array(this.size()),l=-1,this.each(function(t){d[++l]=t}),d;var n=e?Yr:qr,r=this._parents,i=this._groups;"function"!=typeof t&&(t=function(t){return function(){return t}}(t));for(var o=i.length,a=new Array(o),u=new Array(o),c=new Array(o),l=0;l<o;++l){var s=r[l],f=i[l],h=f.length,d=t.call(s,s&&s.__data__,l,r),p=d.length,_=u[l]=new Array(p),g=a[l]=new Array(p);n(s,f,_,g,c[l]=new Array(h),d,e);for(var y,v,m=0,b=0;m<p;++m)if(y=_[m]){for(b<=m&&(b=m+1);!(v=g[b])&&++b<p;);y._next=v||null}}return(a=new gi(a,r))._enter=u,a._exit=c,a},enter:function(){return new gi(this._enter||this._groups.map(Ur),this._parents)},exit:function(){return new gi(this._exit||this._groups.map(Ur),this._parents)},join:function(t,e,n){var r=this.enter(),i=this,o=this.exit();return r="function"==typeof t?t(r):r.append(t+""),null!=e&&(i=e(i)),null==n?o.remove():n(o),r&&i?r.merge(i).order():i},merge:function(t){for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),u=0;u<o;++u)for(var c,l=e[u],s=n[u],f=l.length,h=a[u]=new Array(f),d=0;d<f;++d)(c=l[d]||s[d])&&(h[d]=c);for(;u<r;++u)a[u]=e[u];return new gi(a,this._parents)},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],o=i.length-1,a=i[o];0<=--o;)(r=i[o])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(n){function t(t,e){return t&&e?n(t.__data__,e.__data__):!t-!e}n=n||Br;for(var e=this._groups,r=e.length,i=new Array(r),o=0;o<r;++o){for(var a,u=e[o],c=u.length,l=i[o]=new Array(c),s=0;s<c;++s)(a=u[s])&&(l[s]=a);l.sort(t)}return new gi(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),e=-1;return this.each(function(){t[++e]=this}),t},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},size:function(){var t=0;return this.each(function(){++t}),t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,o=e[n],a=0,u=o.length;a<u;++a)(i=o[a])&&t.call(i,i.__data__,a,o);return this},attr:function(t,e){var n=Ar(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}}:"function"==typeof e?n.local?function(e,n){return function(){var t=n.apply(this,arguments);null==t?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,t)}}:function(e,n){return function(){var t=n.apply(this,arguments);null==t?this.removeAttribute(e):this.setAttribute(e,t)}}:n.local?function(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}:function(t,e){return function(){this.setAttribute(t,e)}})(n,e))},style:function(t,e,n){return 1<arguments.length?this.each((null==e?function(t){return function(){this.style.removeProperty(t)}}:"function"==typeof e?function(e,n,r){return function(){var t=n.apply(this,arguments);null==t?this.style.removeProperty(e):this.style.setProperty(e,t,r)}}:function(t,e,n){return function(){this.style.setProperty(t,e,n)}})(t,e,null==n?"":n)):Vr(this.node(),t)},property:function(t,e){return 1<arguments.length?this.each((null==e?function(t){return function(){delete this[t]}}:"function"==typeof e?function(e,n){return function(){var t=n.apply(this,arguments);null==t?delete this[e]:this[e]=t}}:function(t,e){return function(){this[t]=e}})(t,e)):this.node()[t]},classed:function(t,e){var n=Gr(t+"");if(arguments.length<2){for(var r=Zr(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof e?function(t,e){return function(){(e.apply(this,arguments)?Jr:Kr)(this,t)}}:e?function(t){return function(){Jr(this,t)}}:function(t){return function(){Kr(this,t)}})(n,e))},text:function(t){return arguments.length?this.each(null==t?ti:("function"==typeof t?function(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}:function(t){return function(){this.textContent=t}})(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?ei:("function"==typeof t?function(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}:function(t){return function(){this.innerHTML=t}})(t)):this.node().innerHTML},raise:function(){return this.each(ni)},lower:function(){return this.each(ri)},append:function(t){var e="function"==typeof t?t:Er(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})},insert:function(t,e){var n="function"==typeof t?t:Er(t),r=null==e?ii:"function"==typeof e?e:Cr(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})},remove:function(){return this.each(oi)},clone:function(t){return this.select(t?ui:ai)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var r,i,o=function(t){return t.trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");return 0<=n&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}})}(t+""),a=o.length;if(!(arguments.length<2)){for(u=e?di:hi,null==n&&(n=!1),r=0;r<a;++r)this.each(u(o[r],e,n));return this}var u=this.node().__on;if(u)for(var c,l=0,s=u.length;l<s;++l)for(r=0,c=u[l];r<a;++r)if((i=o[r]).type===c.type&&i.name===c.name)return c.value},dispatch:function(t,e){return this.each(("function"==typeof e?function(t,e){return function(){return pi(this,t,e.apply(this,arguments))}}:function(t,e){return function(){return pi(this,t,e)}})(t,e))}};var mi="toString",bi=RegExp.prototype,xi=bi[mi],wi=g(function(){return"/a/b"!=xi.call({source:"a",flags:"b"})}),ki=xi.name!=mi;function Mi(t){var e=function(){for(var t,e=li;t=e.sourceEvent;)e=t;return e}();return e.changedTouches&&(e=e.changedTouches[0]),function(t,e){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}(t,e)}function Ti(t){return"string"==typeof t?new gi([document.querySelectorAll(t)],[document.documentElement]):new gi([null==t?[]:t],_i)}(wi||ki)&&mt(RegExp.prototype,mi,function(){var t=S(this),e=String(t.source),n=t.flags;return"/"+e+"/"+String(void 0===n&&t instanceof RegExp&&!("flags"in bi)?$n.call(t):n)},{unsafe:!0});function Si(t){if(!v(t))return!1;var e=t[Ai];return void 0!==e?!!e:Fn(t)}var Ai=Bt("isConcatSpreadable"),Ei=9007199254740991,Ni="Maximum allowed index exceeded",Ci=51<=Wt||!g(function(){var t=[];return t[Ai]=!1,t.concat()[0]!==t}),Oi=Dn("concat");ft({target:"Array",proto:!0,forced:!Ci||!Oi},{concat:function(t){var e,n,r,i,o,a=x(this),u=jn(a,0),c=0;for(e=-1,r=arguments.length;e<r;e++)if(Si(o=-1===e?a:arguments[e])){if(i=ot(o.length),Ei<c+i)throw TypeError(Ni);for(n=0;n<i;n++,c++)n in o&&Vt(u,c,o[n])}else{if(Ei<=c)throw TypeError(Ni);Vt(u,c++,o)}return u.length=c,u}});var zi={value:function(){}};function ji(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new Di(r)}function Di(t){this._=t}function Fi(t,e){for(var n,r=0,i=t.length;r<i;++r)if((n=t[r]).name===e)return n.value}function Pi(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=zi,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}function Li(t){return(Li="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ri(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ui(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=t&&("undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"]);if(null==n)return;var r,i,o=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);a=!0);}catch(t){u=!0,i=t}finally{try{a||null==n.return||n.return()}finally{if(u)throw i}}return o}(t,e)||Hi(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ii(t){return function(t){if(Array.isArray(t))return qi(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||Hi(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Hi(t,e){if(t){if("string"==typeof t)return qi(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?qi(t,e):void 0}}function qi(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Yi(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=Hi(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw o}}}}Di.prototype=ji.prototype={constructor:Di,on:function(t,e){var n,r=this._,i=function(t,r){return t.trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");if(0<=n&&(e=t.slice(n+1),t=t.slice(0,n)),t&&!r.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}})}(t+"",r),o=-1,a=i.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++o<a;)if(n=(t=i[o]).type)r[n]=Pi(r[n],t.name,e);else if(null==e)for(n in r)r[n]=Pi(r[n],t.name,null);return this}for(;++o<a;)if((n=(t=i[o]).type)&&(n=Fi(r[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Di(t)},call:function(t,e){if(0<(n=arguments.length-2))for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,n=(r=this._[t]).length;o<n;++o)r[o].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};var Bi,$i,Vi=0,Wi=0,Xi=0,Gi=1e3,Zi=0,Qi=0,Ji=0,Ki="object"===("undefined"==typeof performance?"undefined":Li(performance))&&performance.now?performance:Date,to="object"===("undefined"==typeof window?"undefined":Li(window))&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function eo(){return Qi||(to(no),Qi=Ki.now()+Ji)}function no(){Qi=0}function ro(){this._call=this._time=this._next=null}function io(t,e,n){var r=new ro;return r.restart(t,e,n),r}function oo(){eo(),++Vi;for(var t,e=Bi;e;)0<=(t=Qi-e._time)&&e._call.call(null,t),e=e._next;--Vi}function ao(){Qi=(Zi=Ki.now())+Ji,Vi=Wi=0;try{oo()}finally{Vi=0,function(){var t,e,n=Bi,r=1/0;for(;n;)n=n._call?(r>n._time&&(r=n._time),(t=n)._next):(e=n._next,n._next=null,t?t._next=e:Bi=e);$i=t,co(r)}(),Qi=0}}function uo(){var t=Ki.now(),e=t-Zi;Gi<e&&(Ji-=e,Zi=t)}function co(t){Vi||(Wi=Wi&&clearTimeout(Wi),24<t-Qi?(t<1/0&&(Wi=setTimeout(ao,t-Ki.now()-Ji)),Xi=Xi&&clearInterval(Xi)):(Xi||(Zi=Ki.now(),Xi=setInterval(uo,Gi)),Vi=1,to(ao)))}function lo(e,n,t){var r=new ro;return n=null==n?0:+n,r.restart(function(t){r.stop(),e(t+n)},n,t),r}ro.prototype=io.prototype={constructor:ro,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?eo():+n)+(null==e?0:+e),this._next||$i===this||($i?$i._next=this:Bi=this,$i=this),this._call=t,this._time=n,co()},stop:function(){this._call&&(this._call=null,this._time=1/0,co())}};var so=ji("start","end","cancel","interrupt"),fo=[],ho=0,po=1,_o=2,go=3,yo=4,vo=5,mo=6;function bo(t,e,n,r,i,o){var a=t.__transition;if(a){if(n in a)return}else t.__transition={};!function(o,a,u){var c,l=o.__transition;function s(t){var e,n,r,i;if(u.state!==po)return h();for(e in l)if((i=l[e]).name===u.name){if(i.state===go)return lo(s);i.state===yo?(i.state=mo,i.timer.stop(),i.on.call("interrupt",o,o.__data__,i.index,i.group),delete l[e]):+e<a&&(i.state=mo,i.timer.stop(),i.on.call("cancel",o,o.__data__,i.index,i.group),delete l[e])}if(lo(function(){u.state===go&&(u.state=yo,u.timer.restart(f,u.delay,u.time),f(t))}),u.state=_o,u.on.call("start",o,o.__data__,u.index,u.group),u.state===_o){for(u.state=go,c=new Array(r=u.tween.length),e=0,n=-1;e<r;++e)(i=u.tween[e].value.call(o,o.__data__,u.index,u.group))&&(c[++n]=i);c.length=n+1}}function f(t){for(var e=t<u.duration?u.ease.call(null,t/u.duration):(u.timer.restart(h),u.state=vo,1),n=-1,r=c.length;++n<r;)c[n].call(o,e);u.state===vo&&(u.on.call("end",o,o.__data__,u.index,u.group),h())}function h(){for(var t in u.state=mo,u.timer.stop(),delete l[a],l)return;delete o.__transition}(l[a]=u).timer=io(function(t){u.state=po,u.timer.restart(s,u.delay,u.time),u.delay<=t&&s(t-u.delay)},0,u.time)}(t,n,{name:e,index:r,group:i,on:so,tween:fo,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:ho})}function xo(t,e){var n=ko(t,e);if(n.state>ho)throw new Error("too late; already scheduled");return n}function wo(t,e){var n=ko(t,e);if(n.state>go)throw new Error("too late; already running");return n}function ko(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function Mo(t){var e=rt(t),n=O.f;_&&e&&!e[To]&&n(e,To,{configurable:!0,get:function(){return this}})}var To=Bt("species"),So=O.f,Ao=Ct.f,Eo=vt.enforce,No=Bt("match"),Co=m.RegExp,Oo=Co.prototype,zo=/a/g,jo=/a/g,Do=new Co(zo)!==zo,Fo=Gn.UNSUPPORTED_Y;if(_&&Rt("RegExp",!Do||Fo||g(function(){return jo[No]=!1,Co(zo)!=zo||Co(jo)==jo||"/a/i"!=Co(zo,"i")}))){for(var Po=function(t,e){var n,r=this instanceof Po,i=ir(t),o=void 0===e;if(!r&&i&&t.constructor===Po&&o)return t;Do?i&&!o&&(t=t.source):t instanceof Po&&(o&&(e=$n.call(t)),t=t.source),Fo&&(n=!!e&&-1<e.indexOf("y"))&&(e=e.replace(/y/g,""));var a=nn(Do?new Co(t,e):Co(t,e),r?this:Oo,Po);Fo&&n&&(Eo(a).sticky=!0);return a},Lo=function(e){e in Po||So(Po,e,{configurable:!0,get:function(){return Co[e]},set:function(t){Co[e]=t}})},Ro=Ao(Co),Uo=0;Ro.length>Uo;)Lo(Ro[Uo++]);(Oo.constructor=Po).prototype=Oo,mt(m,"RegExp",Po)}Mo("RegExp");var Io=Object.assign,Ho=Object.defineProperty,qo=!Io||g(function(){if(_&&1!==Io({b:1},Io(Ho({},"a",{enumerable:!0,get:function(){Ho(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach(function(t){e[t]=t}),7!=Io({},t)[n]||Ce(Io({},e)).join("")!=r})?function(t,e){for(var n=x(t),r=arguments.length,i=1,o=Ot.f,a=b.f;i<r;)for(var u,c=w(arguments[i++]),l=o?Ce(c).concat(o(c)):Ce(c),s=l.length,f=0;f<s;)u=l[f++],_&&!a.call(c,u)||(n[u]=c[u]);return n}:Io;function Yo(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Bo(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function $o(){}ft({target:"Object",stat:!0,forced:Object.assign!==qo},{assign:qo});var Vo=1/.7,Wo="\\s*([+-]?\\d+)\\s*",Xo="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Go="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Zo=/^#([0-9a-f]{3,8})$/,Qo=new RegExp("^rgb\\("+[Wo,Wo,Wo]+"\\)$"),Jo=new RegExp("^rgb\\("+[Go,Go,Go]+"\\)$"),Ko=new RegExp("^rgba\\("+[Wo,Wo,Wo,Xo]+"\\)$"),ta=new RegExp("^rgba\\("+[Go,Go,Go,Xo]+"\\)$"),ea=new RegExp("^hsl\\("+[Xo,Go,Go]+"\\)$"),na=new RegExp("^hsla\\("+[Xo,Go,Go,Xo]+"\\)$"),ra={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function ia(){return this.rgb().formatHex()}function oa(){return this.rgb().formatRgb()}function aa(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Zo.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?ua(e):3===n?new fa(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?new fa(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?new fa(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=Qo.exec(t))?new fa(e[1],e[2],e[3],1):(e=Jo.exec(t))?new fa(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=Ko.exec(t))?ca(e[1],e[2],e[3],e[4]):(e=ta.exec(t))?ca(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=ea.exec(t))?_a(e[1],e[2]/100,e[3]/100,1):(e=na.exec(t))?_a(e[1],e[2]/100,e[3]/100,e[4]):ra.hasOwnProperty(t)?ua(ra[t]):"transparent"===t?new fa(NaN,NaN,NaN,0):null}function ua(t){return new fa(t>>16&255,t>>8&255,255&t,1)}function ca(t,e,n,r){return r<=0&&(t=e=n=NaN),new fa(t,e,n,r)}function la(t){return t instanceof $o||(t=aa(t)),t?new fa((t=t.rgb()).r,t.g,t.b,t.opacity):new fa}function sa(t,e,n,r){return 1===arguments.length?la(t):new fa(t,e,n,null==r?1:r)}function fa(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function ha(){return"#"+pa(this.r)+pa(this.g)+pa(this.b)}function da(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function pa(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function _a(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||1<=n?t=e=NaN:e<=0&&(t=NaN),new va(t,e,n,r)}function ga(t){if(t instanceof va)return new va(t.h,t.s,t.l,t.opacity);if(t instanceof $o||(t=aa(t)),!t)return new va;if(t instanceof va)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,u=o-i,c=(o+i)/2;return u?(a=e===o?(n-r)/u+6*(n<r):n===o?(r-e)/u+2:(e-n)/u+4,u/=c<.5?o+i:2-o-i,a*=60):u=0<c&&c<1?0:a,new va(a,u,c,t.opacity)}function ya(t,e,n,r){return 1===arguments.length?ga(t):new va(t,e,n,null==r?1:r)}function va(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function ma(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}Yo($o,aa,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:ia,formatHex:ia,formatHsl:function(){return ga(this).formatHsl()},formatRgb:oa,toString:oa}),Yo(fa,sa,Bo($o,{brighter:function(t){return t=null==t?Vo:Math.pow(Vo,t),new fa(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new fa(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ha,formatHex:ha,formatRgb:da,toString:da})),Yo(va,ya,Bo($o,{brighter:function(t){return t=null==t?Vo:Math.pow(Vo,t),new va(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new va(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new fa(ma(240<=t?t-240:120+t,i,r),ma(t,i,r),ma(t<120?240+t:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var ba=Math.PI/180,xa=180/Math.PI,wa=.96422,ka=1,Ma=.82521,Ta=4/29,Sa=6/29,Aa=3*Sa*Sa,Ea=Sa*Sa*Sa;function Na(t){if(t instanceof Oa)return new Oa(t.l,t.a,t.b,t.opacity);if(t instanceof La)return Ra(t);t instanceof fa||(t=la(t));var e,n,r=Fa(t.r),i=Fa(t.g),o=Fa(t.b),a=za((.2225045*r+.7168786*i+.0606169*o)/ka);return r===i&&i===o?e=n=a:(e=za((.4360747*r+.3850649*i+.1430804*o)/wa),n=za((.0139322*r+.0971045*i+.7141733*o)/Ma)),new Oa(116*a-16,500*(e-a),200*(a-n),t.opacity)}function Ca(t,e,n,r){return 1===arguments.length?Na(t):new Oa(t,e,n,null==r?1:r)}function Oa(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}function za(t){return Ea<t?Math.pow(t,1/3):t/Aa+Ta}function ja(t){return Sa<t?t*t*t:Aa*(t-Ta)}function Da(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function Fa(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Pa(t,e,n,r){return 1===arguments.length?function(t){if(t instanceof La)return new La(t.h,t.c,t.l,t.opacity);if(t instanceof Oa||(t=Na(t)),0===t.a&&0===t.b)return new La(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*xa;return new La(e<0?360+e:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}(t):new La(t,e,n,null==r?1:r)}function La(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}function Ra(t){if(isNaN(t.h))return new Oa(t.l,0,0,t.opacity);var e=t.h*ba;return new Oa(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}Yo(Oa,Ca,Bo($o,{brighter:function(t){return new Oa(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new Oa(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return new fa(Da(3.1338561*(e=wa*ja(e))-1.6168667*(t=ka*ja(t))-.4906146*(n=Ma*ja(n))),Da(-.9787684*e+1.9161415*t+.033454*n),Da(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}})),Yo(La,Pa,Bo($o,{brighter:function(t){return new La(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new La(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return Ra(this).rgb()}}));var Ua=1.78277,Ia=-.29227,Ha=-.90649,qa=1.97294,Ya=qa*Ha,Ba=qa*Ua,$a=Ua*Ia- -.14861*Ha;function Va(t,e,n,r){return 1===arguments.length?function(t){if(t instanceof Wa)return new Wa(t.h,t.s,t.l,t.opacity);t instanceof fa||(t=la(t));var e=t.r/255,n=t.g/255,r=t.b/255,i=($a*r+Ya*e-Ba*n)/($a+Ya-Ba),o=r-i,a=(qa*(n-i)-Ia*o)/Ha,u=Math.sqrt(a*a+o*o)/(qa*i*(1-i)),c=u?Math.atan2(a,o)*xa-120:NaN;return new Wa(c<0?c+360:c,u,i,t.opacity)}(t):new Wa(t,e,n,null==r?1:r)}function Wa(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function Xa(t){return function(){return t}}function Ga(e,n){return function(t){return e+t*n}}function Za(t,e){var n=e-t;return n?Ga(t,180<n||n<-180?n-360*Math.round(n/360):n):Xa(isNaN(t)?e:t)}function Qa(n){return 1==(n=+n)?Ja:function(t,e){return e-t?function(e,n,r){return e=Math.pow(e,r),n=Math.pow(n,r)-e,r=1/r,function(t){return Math.pow(e+t*n,r)}}(t,e,n):Xa(isNaN(t)?e:t)}}function Ja(t,e){var n=e-t;return n?Ga(t,n):Xa(isNaN(t)?e:t)}Yo(Wa,Va,Bo($o,{brighter:function(t){return t=null==t?Vo:Math.pow(Vo,t),new Wa(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Wa(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*ba,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),i=Math.sin(t);return new fa(255*(e+n*(-.14861*r+Ua*i)),255*(e+n*(Ia*r+Ha*i)),255*(e+qa*r*n),this.opacity)}}));var Ka=function t(e){var a=Qa(e);function n(e,t){var n=a((e=sa(e)).r,(t=sa(t)).r),r=a(e.g,t.g),i=a(e.b,t.b),o=Ja(e.opacity,t.opacity);return function(t){return e.r=n(t),e.g=r(t),e.b=i(t),e.opacity=o(t),e+""}}return n.gamma=t,n}(1);var tu,eu=(tu=function(a){var u=a.length-1;return function(t){var e=t<=0?t=0:1<=t?u-(t=1):Math.floor(t*u),n=a[e],r=a[e+1],i=0<e?a[e-1]:2*n-r,o=e<u-1?a[e+2]:2*r-n;return function(t,e,n,r,i){var o=t*t,a=o*t;return((1-3*t+3*o-a)*e+(4-6*o+3*a)*n+(1+3*t+3*o-3*a)*r+a*i)/6}((t-e/u)*u,i,n,r,o)}},function(t){var e,n,r=t.length,i=new Array(r),o=new Array(r),a=new Array(r);for(e=0;e<r;++e)n=sa(t[e]),i[e]=n.r||0,o[e]=n.g||0,a[e]=n.b||0;return i=tu(i),o=tu(o),a=tu(a),n.opacity=1,function(t){return n.r=i(t),n.g=o(t),n.b=a(t),n+""}});function nu(e,n){return n-=e=+e,function(t){return e+n*t}}var ru=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,iu=new RegExp(ru.source,"g");function ou(t,r){var e,n,i,o=ru.lastIndex=iu.lastIndex=0,a=-1,u=[],c=[];for(t+="",r+="";(e=ru.exec(t))&&(n=iu.exec(r));)(i=n.index)>o&&(i=r.slice(o,i),u[a]?u[a]+=i:u[++a]=i),(e=e[0])===(n=n[0])?u[a]?u[a]+=n:u[++a]=n:(u[++a]=null,c.push({i:a,x:nu(e,n)})),o=iu.lastIndex;return o<r.length&&(i=r.slice(o),u[a]?u[a]+=i:u[++a]=i),u.length<2?c[0]?function(e){return function(t){return e(t)+""}}(c[0].x):function(t){return function(){return t}}(r):(r=c.length,function(t){for(var e,n=0;n<r;++n)u[(e=c[n]).i]=e.x(t);return u.join("")})}function au(t,e){var n,r=Li(e);return null==e||"boolean"===r?Xa(e):("number"===r?nu:"string"===r?(n=aa(e))?(e=n,Ka):ou:e instanceof aa?Ka:e instanceof Date?function(e,n){var r=new Date;return n-=e=+e,function(t){return r.setTime(e+n*t),r}}:Array.isArray(e)?function(t,e){var n,r=e?e.length:0,i=t?Math.min(r,t.length):0,o=new Array(i),a=new Array(r);for(n=0;n<i;++n)o[n]=au(t[n],e[n]);for(;n<r;++n)a[n]=e[n];return function(t){for(n=0;n<i;++n)a[n]=o[n](t);return a}}:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?function(t,e){var n,r={},i={};for(n in null!==t&&"object"===Li(t)||(t={}),null!==e&&"object"===Li(e)||(e={}),e)n in t?r[n]=au(t[n],e[n]):i[n]=e[n];return function(t){for(n in r)i[n]=r[n](t);return i}}:nu)(t,e)}function uu(e,n){return n-=e=+e,function(t){return Math.round(e+n*t)}}var cu,lu,su,fu,hu=180/Math.PI,du={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function pu(t,e,n,r,i,o){var a,u,c;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(c=t*n+e*r)&&(n-=t*c,r-=e*c),(u=Math.sqrt(n*n+r*r))&&(n/=u,r/=u,c/=u),t*r<e*n&&(t=-t,e=-e,c=-c,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*hu,skewX:Math.atan(c)*hu,scaleX:a,scaleY:u}}function _u(n,u,c,a){function l(t){return t.length?t.pop()+" ":""}return function(t,e){var i=[],o=[];return t=n(t),e=n(e),function(t,e,n,r,i,o){if(t!==n||e!==r){var a=i.push("translate(",null,u,null,c);o.push({i:a-4,x:nu(t,n)},{i:a-2,x:nu(e,r)})}else(n||r)&&i.push("translate("+n+u+r+c)}(t.translateX,t.translateY,e.translateX,e.translateY,i,o),function(t,e,n,r){t!==e?(180<t-e?e+=360:180<e-t&&(t+=360),r.push({i:n.push(l(n)+"rotate(",null,a)-2,x:nu(t,e)})):e&&n.push(l(n)+"rotate("+e+a)}(t.rotate,e.rotate,i,o),function(t,e,n,r){t!==e?r.push({i:n.push(l(n)+"skewX(",null,a)-2,x:nu(t,e)}):e&&n.push(l(n)+"skewX("+e+a)}(t.skewX,e.skewX,i,o),function(t,e,n,r,i,o){if(t!==n||e!==r){var a=i.push(l(i)+"scale(",null,",",null,")");o.push({i:a-4,x:nu(t,n)},{i:a-2,x:nu(e,r)})}else 1===n&&1===r||i.push(l(i)+"scale("+n+","+r+")")}(t.scaleX,t.scaleY,e.scaleX,e.scaleY,i,o),t=e=null,function(t){for(var e,n=-1,r=o.length;++n<r;)i[(e=o[n]).i]=e.x(t);return i.join("")}}}var gu=_u(function(t){return"none"===t?du:(cu||(cu=document.createElement("DIV"),lu=document.documentElement,su=document.defaultView),cu.style.transform=t,t=su.getComputedStyle(lu.appendChild(cu),null).getPropertyValue("transform"),lu.removeChild(cu),pu(+(t=t.slice(7,-1).split(","))[0],+t[1],+t[2],+t[3],+t[4],+t[5]))},"px, ","px)","deg)"),yu=_u(function(t){return null==t?du:((fu=fu||document.createElementNS("http://www.w3.org/2000/svg","g")).setAttribute("transform",t),(t=fu.transform.baseVal.consolidate())?pu((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):du)},", ",")",")");var vu,mu=(vu=Za,function(e,t){var n=vu((e=ya(e)).h,(t=ya(t)).h),r=Ja(e.s,t.s),i=Ja(e.l,t.l),o=Ja(e.opacity,t.opacity);return function(t){return e.h=n(t),e.s=r(t),e.l=i(t),e.opacity=o(t),e+""}});function bu(e,t){var n=Ja((e=Ca(e)).l,(t=Ca(t)).l),r=Ja(e.a,t.a),i=Ja(e.b,t.b),o=Ja(e.opacity,t.opacity);return function(t){return e.l=n(t),e.a=r(t),e.b=i(t),e.opacity=o(t),e+""}}var xu,wu=(xu=Za,function(e,t){var n=xu((e=Pa(e)).h,(t=Pa(t)).h),r=Ja(e.c,t.c),i=Ja(e.l,t.l),o=Ja(e.opacity,t.opacity);return function(t){return e.h=n(t),e.c=r(t),e.l=i(t),e.opacity=o(t),e+""}});function ku(u){return function t(a){function e(e,t){var n=u((e=Va(e)).h,(t=Va(t)).h),r=Ja(e.s,t.s),i=Ja(e.l,t.l),o=Ja(e.opacity,t.opacity);return function(t){return e.h=n(t),e.s=r(t),e.l=i(Math.pow(t,a)),e.opacity=o(t),e+""}}return a=+a,e.gamma=t,e}(1)}ku(Za);var Mu=ku(Ja);function Tu(t,e,n){var r=t._id;return t.each(function(){var t=wo(this,r);(t.value||(t.value={}))[e]=n.apply(this,arguments)}),function(t){return ko(t,r).value[e]}}function Su(t,e){var n;return("number"==typeof e?nu:e instanceof aa?Ka:(n=aa(e))?(e=n,Ka):ou)(t,e)}var Au=yi.prototype.constructor;function Eu(t){return function(){this.style.removeProperty(t)}}function Nu(t,e,n){for(var r in e)mt(t,r,e[r],n);return t}function Cu(t,e,n){if(!(t instanceof e))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return t}function Ou(t,e){this.stopped=t,this.result=e}function zu(t,e,n){function r(t){return o&&pt(o),new Ou(!0,t)}function i(t){return d?(S(t),_?g(t[0],t[1],r):g(t[0],t[1])):_?g(t,r):g(t)}var o,a,u,c,l,s,f,h=n&&n.that,d=!(!n||!n.AS_ENTRIES),p=!(!n||!n.IS_ITERATOR),_=!(!n||!n.INTERRUPTED),g=dt(e,h,1+d+_);if(p)o=t;else{if("function"!=typeof(a=re(t)))throw TypeError("Target is not iterable");if($t(a)){for(u=0,c=ot(t.length);u<c;u++)if((l=i(t[u]))&&l instanceof Ou)return l;return new Ou(!1)}o=a.call(t)}for(s=o.next;!(f=s.call(o)).done;){try{l=i(f.value)}catch(t){throw pt(o),t}if("object"==typeof l&&l&&l instanceof Ou)return l}return new Ou(!1)}function ju(t){if(Zu.hasOwnProperty(t)){var e=Zu[t];delete Zu[t],e()}}function Du(t){return function(){ju(t)}}function Fu(t){ju(t.data)}function Pu(t){m.postMessage(t+"",Yu.protocol+"//"+Yu.host)}var Lu,Ru,Uu,Iu=m.Promise,Hu=/(?:iphone|ipod|ipad).*applewebkit/i.test(It),qu="process"==s(m.process),Yu=m.location,Bu=m.setImmediate,$u=m.clearImmediate,Vu=m.process,Wu=m.MessageChannel,Xu=m.Dispatch,Gu=0,Zu={},Qu="onreadystatechange";Bu&&$u||(Bu=function(t){for(var e=[],n=1;n<arguments.length;)e.push(arguments[n++]);return Zu[++Gu]=function(){("function"==typeof t?t:Function(t)).apply(void 0,e)},Lu(Gu),Gu},$u=function(t){delete Zu[t]},qu?Lu=function(t){Vu.nextTick(Du(t))}:Xu&&Xu.now?Lu=function(t){Xu.now(Du(t))}:Wu&&!Hu?(Uu=(Ru=new Wu).port2,Ru.port1.onmessage=Fu,Lu=dt(Uu.postMessage,Uu,1)):m.addEventListener&&"function"==typeof postMessage&&!m.importScripts&&Yu&&"file:"!==Yu.protocol&&!g(Pu)?(Lu=Pu,m.addEventListener("message",Fu,!1)):Lu=Qu in i("script")?function(t){ze.appendChild(i("script"))[Qu]=function(){ze.removeChild(this),ju(t)}}:function(t){setTimeout(Du(t),0)});var Ju,Ku,tc,ec,nc,rc,ic,oc,ac={set:Bu,clear:$u},uc=/web0s(?!.*chrome)/i.test(It),cc=N.f,lc=ac.set,sc=m.MutationObserver||m.WebKitMutationObserver,fc=m.document,hc=m.process,dc=m.Promise,pc=cc(m,"queueMicrotask"),_c=pc&&pc.value;_c||(Ju=function(){var t,e;for(qu&&(t=hc.domain)&&t.exit();Ku;){e=Ku.fn,Ku=Ku.next;try{e()}catch(t){throw Ku?ec():tc=void 0,t}}tc=void 0,t&&t.enter()},ec=Hu||qu||uc||!sc||!fc?dc&&dc.resolve?((ic=dc.resolve(void 0)).constructor=dc,oc=ic.then,function(){oc.call(ic,Ju)}):qu?function(){hc.nextTick(Ju)}:function(){lc.call(m,Ju)}:(nc=!0,rc=fc.createTextNode(""),new sc(Ju).observe(rc,{characterData:!0}),function(){rc.data=nc=!nc}));function gc(t){var n,r;this.promise=new t(function(t,e){if(void 0!==n||void 0!==r)throw TypeError("Bad Promise constructor");n=t,r=e}),this.resolve=ht(n),this.reject=ht(r)}function yc(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}}function vc(t){var e;return!(!v(t)||"function"!=typeof(e=t.then))&&e}function mc(f,h){if(!f.notified){f.notified=!0;var d=f.reactions;Ac(function(){for(var t=f.value,e=1==f.state,n=0;d.length>n;){var r,i,o,a=d[n++],u=e?a.ok:a.fail,c=a.resolve,l=a.reject,s=a.domain;try{u?(e||(2===f.rejection&&Jc(f),f.rejection=1),!0===u?r=t:(s&&s.enter(),r=u(t),s&&(s.exit(),o=!0)),r===a.promise?l(Uc("Promise-chain cycle")):(i=vc(r))?i.call(r,c,l):c(r)):l(t)}catch(t){s&&!o&&s.exit(),l(t)}}f.reactions=[],f.notified=!1,h&&!f.rejection&&Zc(f)})}}function bc(t,e,n){var r,i;Bc?((r=Ic.createEvent("Event")).promise=e,r.reason=n,r.initEvent(t,!1,!0),m.dispatchEvent(r)):r={promise:e,reason:n},!$c&&(i=m["on"+t])?i(r):t===Vc&&function(t,e){var n=m.console;n&&n.error&&(1===arguments.length?n.error(t):n.error(t,e))}("Unhandled promise rejection",n)}function xc(e,n,r){return function(t){e(n,t,r)}}function wc(t,e,n){t.done||(t.done=!0,n&&(t=n),t.value=e,t.state=2,mc(t,!0))}var kc,Mc,Tc,Sc,Ac=_c||function(t){var e={fn:t,next:void 0};tc&&(tc.next=e),Ku||(Ku=e,ec()),tc=e},Ec={f:function(t){return new gc(t)}},Nc="object"==typeof window,Cc=ac.set,Oc=Bt("species"),zc="Promise",jc=vt.get,Dc=vt.set,Fc=vt.getterFor(zc),Pc=Iu&&Iu.prototype,Lc=Iu,Rc=Pc,Uc=m.TypeError,Ic=m.document,Hc=m.process,qc=Ec.f,Yc=qc,Bc=!!(Ic&&Ic.createEvent&&m.dispatchEvent),$c="function"==typeof PromiseRejectionEvent,Vc="unhandledrejection",Wc=!1,Xc=Rt(zc,function(){var t=H(Lc)!==String(Lc);if(!t&&66===Wt)return!0;if(51<=Wt&&/native code/.test(Lc))return!1;function e(t){t(function(){},function(){})}var n=new Lc(function(t){t(1)});return(n.constructor={})[Oc]=e,!(Wc=n.then(function(){})instanceof e)||!t&&Nc&&!$c}),Gc=Xc||!de(function(t){Lc.all(t).catch(function(){})}),Zc=function(r){Cc.call(m,function(){var t,e=r.facade,n=r.value;if(Qc(r)&&(t=yc(function(){qu?Hc.emit("unhandledRejection",n,e):bc(Vc,e,n)}),r.rejection=qu||Qc(r)?2:1,t.error))throw t.value})},Qc=function(t){return 1!==t.rejection&&!t.parent},Jc=function(e){Cc.call(m,function(){var t=e.facade;qu?Hc.emit("rejectionHandled",t):bc("rejectionhandled",t,e.value)})},Kc=function(n,t,e){if(!n.done){n.done=!0,e&&(n=e);try{if(n.facade===t)throw Uc("Promise can't be resolved itself");var r=vc(t);r?Ac(function(){var e={done:!1};try{r.call(t,xc(Kc,e,n),xc(wc,e,n))}catch(t){wc(e,t,n)}}):(n.value=t,n.state=1,mc(n,!1))}catch(t){wc({done:!1},t,n)}}};if(Xc&&(Rc=(Lc=function(t){Cu(this,Lc,zc),ht(t),kc.call(this);var e=jc(this);try{t(xc(Kc,e),xc(wc,e))}catch(t){wc(e,t)}}).prototype,(kc=function(t){Dc(this,{type:zc,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=Nu(Rc,{then:function(t,e){var n=Fc(this),r=qc(or(this,Lc));return r.ok="function"!=typeof t||t,r.fail="function"==typeof e&&e,r.domain=qu?Hc.domain:void 0,n.parent=!0,n.reactions.push(r),0!=n.state&&mc(n,!1),r.promise},catch:function(t){return this.then(void 0,t)}}),Mc=function(){var t=new kc,e=jc(t);this.promise=t,this.resolve=xc(Kc,e),this.reject=xc(wc,e)},Ec.f=qc=function(t){return t===Lc||t===Tc?new Mc(t):Yc(t)},"function"==typeof Iu&&Pc!==Object.prototype)){Sc=Pc.then,Wc||(mt(Pc,"then",function(t,e){var n=this;return new Lc(function(t,e){Sc.call(n,t,e)}).then(t,e)},{unsafe:!0}),mt(Pc,"catch",Rc.catch,{unsafe:!0}));try{delete Pc.constructor}catch(t){}$e&&$e(Pc,Rc)}ft({global:!0,wrap:!0,forced:Xc},{Promise:Lc}),Le(Lc,zc,!1),Mo(zc),Tc=rt(zc),ft({target:zc,stat:!0,forced:Xc},{reject:function(t){var e=qc(this);return e.reject.call(void 0,t),e.promise}}),ft({target:zc,stat:!0,forced:Xc},{resolve:function(t){return function(t,e){if(S(t),v(e)&&e.constructor===t)return e;var n=Ec.f(t);return(0,n.resolve)(e),n.promise}(this,t)}}),ft({target:zc,stat:!0,forced:Gc},{all:function(t){var u=this,e=qc(u),c=e.resolve,l=e.reject,n=yc(function(){var r=ht(u.resolve),i=[],o=0,a=1;zu(t,function(t){var e=o++,n=!1;i.push(void 0),a++,r.call(u,t).then(function(t){n||(n=!0,i[e]=t,--a||c(i))},l)}),--a||c(i)});return n.error&&l(n.value),e.promise},race:function(t){var n=this,r=qc(n),i=r.reject,e=yc(function(){var e=ht(n.resolve);zu(t,function(t){e.call(n,t).then(r.resolve,i)})});return e.error&&i(e.value),r.promise}});var tl=0;function el(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function nl(){return++tl}var rl=yi.prototype;function il(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}el.prototype={constructor:el,select:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=Cr(t));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var u,c,l=r[a],s=l.length,f=o[a]=new Array(s),h=0;h<s;++h)(u=l[h])&&(c=t.call(u,u.__data__,h,l))&&("__data__"in u&&(c.__data__=u.__data__),f[h]=c,bo(f[h],e,n,h,f,ko(u,n)));return new el(o,this._parents,e,n)},selectAll:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=zr(t));for(var r=this._groups,i=r.length,o=[],a=[],u=0;u<i;++u)for(var c,l=r[u],s=l.length,f=0;f<s;++f)if(c=l[f]){for(var h,d=t.call(c,c.__data__,f,l),p=ko(c,n),_=0,g=d.length;_<g;++_)(h=d[_])&&bo(h,e,n,_,d,p);o.push(d),a.push(c)}return new el(o,a,e,n)},filter:function(t){"function"!=typeof t&&(t=jr(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a=e[i],u=a.length,c=r[i]=[],l=0;l<u;++l)(o=a[l])&&t.call(o,o.__data__,l,a)&&c.push(o);return new el(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),u=0;u<o;++u)for(var c,l=e[u],s=n[u],f=l.length,h=a[u]=new Array(f),d=0;d<f;++d)(c=l[d]||s[d])&&(h[d]=c);for(;u<r;++u)a[u]=e[u];return new el(a,this._parents,this._name,this._id)},selection:function(){return new Au(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=nl(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a,u=r[o],c=u.length,l=0;l<c;++l)if(a=u[l]){var s=ko(a,e);bo(a,t,n,l,u,{time:s.time+s.delay+s.duration,delay:0,duration:s.duration,ease:s.ease})}return new el(r,this._parents,t,n)},call:rl.call,nodes:rl.nodes,node:rl.node,size:rl.size,empty:rl.empty,each:rl.each,on:function(t,e){var n=this._id;return arguments.length<2?ko(this.node(),n).on.on(t):this.each(function(n,r,i){var o,a,u=function(t){return(t+"").trim().split(/^|\s+/).every(function(t){var e=t.indexOf(".");return 0<=e&&(t=t.slice(0,e)),!t||"start"===t})}(r)?xo:wo;return function(){var t=u(this,n),e=t.on;e!==o&&(a=(o=e).copy()).on(r,i),t.on=a}}(n,t,e))},attr:function(t,e){var n=Ar(t),r="transform"===n?yu:Su;return this.attrTween(t,"function"==typeof e?(n.local?function(r,i,o){var a,u,c;return function(){var t,e,n=o(this);if(null!=n)return(t=this.getAttributeNS(r.space,r.local))===(e=n+"")?null:t===a&&e===u?c:(u=e,c=i(a=t,n));this.removeAttributeNS(r.space,r.local)}}:function(r,i,o){var a,u,c;return function(){var t,e,n=o(this);if(null!=n)return(t=this.getAttribute(r))===(e=n+"")?null:t===a&&e===u?c:(u=e,c=i(a=t,n));this.removeAttribute(r)}})(n,r,Tu(this,"attr."+t,e)):null==e?(n.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}})(n):(n.local?function(e,n,r){var i,o,a=r+"";return function(){var t=this.getAttributeNS(e.space,e.local);return t===a?null:t===i?o:o=n(i=t,r)}}:function(e,n,r){var i,o,a=r+"";return function(){var t=this.getAttribute(e);return t===a?null:t===i?o:o=n(i=t,r)}})(n,r,e))},attrTween:function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var r=Ar(t);return this.tween(n,(r.local?function(e,n){var r,i;function t(){var t=n.apply(this,arguments);return t!==i&&(r=(i=t)&&function(e,n){return function(t){this.setAttributeNS(e.space,e.local,n.call(this,t))}}(e,t)),r}return t._value=n,t}:function(e,n){var r,i;function t(){var t=n.apply(this,arguments);return t!==i&&(r=(i=t)&&function(e,n){return function(t){this.setAttribute(e,n.call(this,t))}}(e,t)),r}return t._value=n,t})(r,e))},style:function(t,e,n){var r="transform"==(t+="")?gu:Su;return null==e?this.styleTween(t,function(n,r){var i,o,a;return function(){var t=Vr(this,n),e=(this.style.removeProperty(n),Vr(this,n));return t===e?null:t===i&&e===o?a:a=r(i=t,o=e)}}(t,r)).on("end.style."+t,Eu(t)):"function"==typeof e?this.styleTween(t,function(r,i,o){var a,u,c;return function(){var t=Vr(this,r),e=o(this),n=e+"";return null==e&&(this.style.removeProperty(r),n=e=Vr(this,r)),t===n?null:t===a&&n===u?c:(u=n,c=i(a=t,e))}}(t,r,Tu(this,"style."+t,e))).each(function(r,i){var o,a,u,c,l="style."+i,s="end."+l;return function(){var t=wo(this,r),e=t.on,n=null==t.value[l]?c=c||Eu(i):void 0;e===o&&u===n||(a=(o=e).copy()).on(s,u=n),t.on=a}}(this._id,t)):this.styleTween(t,function(e,n,r){var i,o,a=r+"";return function(){var t=Vr(this,e);return t===a?null:t===i?o:o=n(i=t,r)}}(t,r,e),n).on("end.style."+t,null)},styleTween:function(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw new Error;return this.tween(r,function(e,n,r){var i,o;function t(){var t=n.apply(this,arguments);return t!==o&&(i=(o=t)&&function(e,n,r){return function(t){this.style.setProperty(e,n.call(this,t),r)}}(e,t,r)),i}return t._value=n,t}(t,e,null==n?"":n))},text:function(t){return this.tween("text","function"==typeof t?function(e){return function(){var t=e(this);this.textContent=null==t?"":t}}(Tu(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw new Error;return this.tween(e,function(e){var n,r;function t(){var t=e.apply(this,arguments);return t!==r&&(n=(r=t)&&function(e){return function(t){this.textContent=e.call(this,t)}}(t)),n}return t._value=e,t}(t))},remove:function(){return this.on("end.remove",function(n){return function(){var t=this.parentNode;for(var e in this.__transition)if(+e!==n)return;t&&t.removeChild(this)}}(this._id))},tween:function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r,i=ko(this.node(),n).tween,o=0,a=i.length;o<a;++o)if((r=i[o]).name===t)return r.value;return null}return this.each((null==e?function(i,o){var a,u;return function(){var t=wo(this,i),e=t.tween;if(e!==a)for(var n=0,r=(u=a=e).length;n<r;++n)if(u[n].name===o){(u=u.slice()).splice(n,1);break}t.tween=u}}:function(o,a,u){var c,l;if("function"!=typeof u)throw new Error;return function(){var t=wo(this,o),e=t.tween;if(e!==c){l=(c=e).slice();for(var n={name:a,value:u},r=0,i=l.length;r<i;++r)if(l[r].name===a){l[r]=n;break}r===i&&l.push(n)}t.tween=l}})(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?function(t,e){return function(){xo(this,t).delay=+e.apply(this,arguments)}}:function(t,e){return e=+e,function(){xo(this,t).delay=e}})(e,t)):ko(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?function(t,e){return function(){wo(this,t).duration=+e.apply(this,arguments)}}:function(t,e){return e=+e,function(){wo(this,t).duration=e}})(e,t)):ko(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(function(t,e){if("function"!=typeof e)throw new Error;return function(){wo(this,t).ease=e}}(e,t)):ko(this.node(),e).ease},end:function(){var i,o,a=this,u=a._id,c=a.size();return new Promise(function(t,e){var n={value:e},r={value:function(){0==--c&&t()}};a.each(function(){var t=wo(this,u),e=t.on;e!==i&&((o=(i=e).copy())._.cancel.push(n),o._.interrupt.push(n),o._.end.push(r)),t.on=o})})}};var ol={time:null,delay:0,duration:250,ease:il};function al(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))return ol.time=eo(),ol;return n}yi.prototype.interrupt=function(t){return this.each(function(){!function(t,e){var n,r,i,o=t.__transition,a=!0;if(o){for(i in e=null==e?null:e+"",o)(n=o[i]).name===e?(r=n.state>_o&&n.state<vo,n.state=mo,n.timer.stop(),n.on.call(r?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete o[i]):a=!1;a&&delete t.__transition}}(this,t)})},yi.prototype.transition=function(t){var e,n;t=t instanceof el?(e=t._id,t._name):(e=nl(),(n=ol).time=eo(),null==t?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a,u=r[o],c=u.length,l=0;l<c;++l)(a=u[l])&&bo(a,t,e,l,u,n||al(a,e));return new el(r,this._parents,t,e)};var ul=Math.PI,cl=2*ul,ll=1e-6,sl=cl-ll;function fl(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function hl(){return new fl}function dl(t){return function(){return t}}fl.prototype=hl.prototype={constructor:fl,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,r){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(t,e,n,r,i,o){this._+="C"+ +t+","+ +e+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(t,e,n,r,i){t=+t,e=+e,n=+n,r=+r,i=+i;var o=this._x1,a=this._y1,u=n-t,c=r-e,l=o-t,s=a-e,f=l*l+s*s;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(ll<f)if(Math.abs(s*u-c*l)>ll&&i){var h=n-o,d=r-a,p=u*u+c*c,_=h*h+d*d,g=Math.sqrt(p),y=Math.sqrt(f),v=i*Math.tan((ul-Math.acos((p+f-_)/(2*g*y)))/2),m=v/y,b=v/g;Math.abs(m-1)>ll&&(this._+="L"+(t+m*l)+","+(e+m*s)),this._+="A"+i+","+i+",0,0,"+ +(l*d<s*h)+","+(this._x1=t+b*u)+","+(this._y1=e+b*c)}else this._+="L"+(this._x1=t)+","+(this._y1=e);else;},arc:function(t,e,n,r,i,o){t=+t,e=+e,o=!!o;var a=(n=+n)*Math.cos(r),u=n*Math.sin(r),c=t+a,l=e+u,s=1^o,f=o?r-i:i-r;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+c+","+l:(Math.abs(this._x1-c)>ll||Math.abs(this._y1-l)>ll)&&(this._+="L"+c+","+l),n&&(f<0&&(f=f%cl+cl),sl<f?this._+="A"+n+","+n+",0,1,"+s+","+(t-a)+","+(e-u)+"A"+n+","+n+",0,1,"+s+","+(this._x1=c)+","+(this._y1=l):ll<f&&(this._+="A"+n+","+n+",0,"+ +(ul<=f)+","+s+","+(this._x1=t+n*Math.cos(i))+","+(this._y1=e+n*Math.sin(i))))},rect:function(t,e,n,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};var pl=Math.abs,_l=Math.atan2,gl=Math.cos,yl=Math.max,vl=Math.min,ml=Math.sin,bl=Math.sqrt,xl=1e-12,wl=Math.PI,kl=wl/2,Ml=2*wl;function Tl(t){return 1<=t?kl:t<=-1?-kl:Math.asin(t)}function Sl(t){return t.innerRadius}function Al(t){return t.outerRadius}function El(t){return t.startAngle}function Nl(t){return t.endAngle}function Cl(t){return t&&t.padAngle}function Ol(t,e,n,r,i,o,a){var u=t-n,c=e-r,l=(a?o:-o)/bl(u*u+c*c),s=l*c,f=-l*u,h=t+s,d=e+f,p=n+s,_=r+f,g=(h+p)/2,y=(d+_)/2,v=p-h,m=_-d,b=v*v+m*m,x=i-o,w=h*_-p*d,k=(m<0?-1:1)*bl(yl(0,x*x*b-w*w)),M=(w*m-v*k)/b,T=(-w*v-m*k)/b,S=(w*m+v*k)/b,A=(-w*v+m*k)/b,E=M-g,N=T-y,C=S-g,O=A-y;return C*C+O*O<E*E+N*N&&(M=S,T=A),{cx:M,cy:T,x01:-s,y01:-f,x11:M*(i/x-1),y11:T*(i/x-1)}}function zl(t){this._context=t}function jl(t){return new zl(t)}function Dl(t){return t[0]}function Fl(t){return t[1]}function Pl(){var a=Dl,u=Fl,c=dl(!0),l=null,s=jl,f=null;function e(t){var e,n,r,i=t.length,o=!1;for(null==l&&(f=s(r=hl())),e=0;e<=i;++e)!(e<i&&c(n=t[e],e,t))===o&&((o=!o)?f.lineStart():f.lineEnd()),o&&f.point(+a(n,e,t),+u(n,e,t));if(r)return f=null,r+""||null}return e.x=function(t){return arguments.length?(a="function"==typeof t?t:dl(+t),e):a},e.y=function(t){return arguments.length?(u="function"==typeof t?t:dl(+t),e):u},e.defined=function(t){return arguments.length?(c="function"==typeof t?t:dl(!!t),e):c},e.curve=function(t){return arguments.length?(s=t,null!=l&&(f=s(l)),e):s},e.context=function(t){return arguments.length?(null==t?l=f=null:f=s(l=t),e):l},e}function Ll(){var s=Dl,f=null,h=dl(0),d=Fl,p=dl(!0),_=null,g=jl,y=null;function e(t){var e,n,r,i,o,a=t.length,u=!1,c=new Array(a),l=new Array(a);for(null==_&&(y=g(o=hl())),e=0;e<=a;++e){if(!(e<a&&p(i=t[e],e,t))===u)if(u=!u)n=e,y.areaStart(),y.lineStart();else{for(y.lineEnd(),y.lineStart(),r=e-1;n<=r;--r)y.point(c[r],l[r]);y.lineEnd(),y.areaEnd()}u&&(c[e]=+s(i,e,t),l[e]=+h(i,e,t),y.point(f?+f(i,e,t):c[e],d?+d(i,e,t):l[e]))}if(o)return y=null,o+""||null}function t(){return Pl().defined(p).curve(g).context(_)}return e.x=function(t){return arguments.length?(s="function"==typeof t?t:dl(+t),f=null,e):s},e.x0=function(t){return arguments.length?(s="function"==typeof t?t:dl(+t),e):s},e.x1=function(t){return arguments.length?(f=null==t?null:"function"==typeof t?t:dl(+t),e):f},e.y=function(t){return arguments.length?(h="function"==typeof t?t:dl(+t),d=null,e):h},e.y0=function(t){return arguments.length?(h="function"==typeof t?t:dl(+t),e):h},e.y1=function(t){return arguments.length?(d=null==t?null:"function"==typeof t?t:dl(+t),e):d},e.lineX0=e.lineY0=function(){return t().x(s).y(h)},e.lineY1=function(){return t().x(s).y(d)},e.lineX1=function(){return t().x(f).y(h)},e.defined=function(t){return arguments.length?(p="function"==typeof t?t:dl(!!t),e):p},e.curve=function(t){return arguments.length?(g=t,null!=_&&(y=g(_)),e):g},e.context=function(t){return arguments.length?(null==t?_=y=null:y=g(_=t),e):_},e}function Rl(t,e){return e<t?-1:t<e?1:t<=e?0:NaN}function Ul(t){return t}zl.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}};var Il=ql(jl);function Hl(t){this._curve=t}function ql(e){function t(t){return new Hl(e(t))}return t._curve=e,t}function Yl(t){var e=t.curve;return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(t){return arguments.length?e(ql(t)):e()._curve},t}function Bl(){return Yl(Pl().curve(Il))}function $l(){var t=Ll().curve(Il),e=t.curve,n=t.lineX0,r=t.lineX1,i=t.lineY0,o=t.lineY1;return t.angle=t.x,delete t.x,t.startAngle=t.x0,delete t.x0,t.endAngle=t.x1,delete t.x1,t.radius=t.y,delete t.y,t.innerRadius=t.y0,delete t.y0,t.outerRadius=t.y1,delete t.y1,t.lineStartAngle=function(){return Yl(n())},delete t.lineX0,t.lineEndAngle=function(){return Yl(r())},delete t.lineX1,t.lineInnerRadius=function(){return Yl(i())},delete t.lineY0,t.lineOuterRadius=function(){return Yl(o())},delete t.lineY1,t.curve=function(t){return arguments.length?e(ql(t)):e()._curve},t}function Vl(t,e){return[(e=+e)*Math.cos(t-=Math.PI/2),e*Math.sin(t)]}Hl.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,e){this._curve.point(e*Math.sin(t),e*-Math.cos(t))}};var Wl=Array.prototype.slice;function Xl(t){return t.source}function Gl(t){return t.target}function Zl(i){var o=Xl,a=Gl,u=Dl,c=Fl,l=null;function e(){var t,e=Wl.call(arguments),n=o.apply(this,e),r=a.apply(this,e);if(l=l||(t=hl()),i(l,+u.apply(this,(e[0]=n,e)),+c.apply(this,e),+u.apply(this,(e[0]=r,e)),+c.apply(this,e)),t)return l=null,t+""||null}return e.source=function(t){return arguments.length?(o=t,e):o},e.target=function(t){return arguments.length?(a=t,e):a},e.x=function(t){return arguments.length?(u="function"==typeof t?t:dl(+t),e):u},e.y=function(t){return arguments.length?(c="function"==typeof t?t:dl(+t),e):c},e.context=function(t){return arguments.length?(l=null==t?null:t,e):l},e}function Ql(t,e,n,r,i){t.moveTo(e,n),t.bezierCurveTo(e=(e+r)/2,n,e,i,r,i)}function Jl(t,e,n,r,i){t.moveTo(e,n),t.bezierCurveTo(e,n=(n+i)/2,r,n,r,i)}function Kl(t,e,n,r,i){var o=Vl(e,n),a=Vl(e,n=(n+i)/2),u=Vl(r,n),c=Vl(r,i);t.moveTo(o[0],o[1]),t.bezierCurveTo(a[0],a[1],u[0],u[1],c[0],c[1])}var ts={draw:function(t,e){var n=Math.sqrt(e/wl);t.moveTo(n,0),t.arc(0,0,n,0,Ml)}},es={draw:function(t,e){var n=Math.sqrt(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},ns=Math.sqrt(1/3),rs=2*ns,is={draw:function(t,e){var n=Math.sqrt(e/rs),r=n*ns;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},os=Math.sin(wl/10)/Math.sin(7*wl/10),as=Math.sin(Ml/10)*os,us=-Math.cos(Ml/10)*os,cs={draw:function(t,e){var n=Math.sqrt(.8908130915292852*e),r=as*n,i=us*n;t.moveTo(0,-n),t.lineTo(r,i);for(var o=1;o<5;++o){var a=Ml*o/5,u=Math.cos(a),c=Math.sin(a);t.lineTo(c*n,-u*n),t.lineTo(u*r-c*i,c*r+u*i)}t.closePath()}},ls={draw:function(t,e){var n=Math.sqrt(e),r=-n/2;t.rect(r,r,n,n)}},ss=Math.sqrt(3),fs={draw:function(t,e){var n=-Math.sqrt(e/(3*ss));t.moveTo(0,2*n),t.lineTo(-ss*n,-n),t.lineTo(ss*n,-n),t.closePath()}},hs=-.5,ds=Math.sqrt(3)/2,ps=1/Math.sqrt(12),_s=3*(ps/2+1),gs={draw:function(t,e){var n=Math.sqrt(e/_s),r=n/2,i=n*ps,o=r,a=n*ps+n,u=-o,c=a;t.moveTo(r,i),t.lineTo(o,a),t.lineTo(u,c),t.lineTo(hs*r-ds*i,ds*r+hs*i),t.lineTo(hs*o-ds*a,ds*o+hs*a),t.lineTo(hs*u-ds*c,ds*u+hs*c),t.lineTo(hs*r+ds*i,hs*i-ds*r),t.lineTo(hs*o+ds*a,hs*a-ds*o),t.lineTo(hs*u+ds*c,hs*c-ds*u),t.closePath()}},ys=[ts,es,is,ls,cs,fs,gs];function vs(){}function ms(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function bs(t){this._context=t}function xs(t){this._context=t}function ws(t){this._context=t}function ks(t,e){this._basis=new bs(t),this._beta=e}bs.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:ms(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:ms(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},xs.prototype={areaStart:vs,areaEnd:vs,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:ms(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},ws.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:ms(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},ks.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,n=t.length-1;if(0<n)for(var r,i=t[0],o=e[0],a=t[n]-i,u=e[n]-o,c=-1;++c<=n;)r=c/n,this._basis.point(this._beta*t[c]+(1-this._beta)*(i+r*a),this._beta*e[c]+(1-this._beta)*(o+r*u));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};var Ms=function e(n){function t(t){return 1===n?new bs(t):new ks(t,n)}return t.beta=function(t){return e(+t)},t}(.85);function Ts(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function Ss(t,e){this._context=t,this._k=(1-e)/6}Ss.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Ts(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:Ts(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var As=function e(n){function t(t){return new Ss(t,n)}return t.tension=function(t){return e(+t)},t}(0);function Es(t,e){this._context=t,this._k=(1-e)/6}Es.prototype={areaStart:vs,areaEnd:vs,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:Ts(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Ns=function e(n){function t(t){return new Es(t,n)}return t.tension=function(t){return e(+t)},t}(0);function Cs(t,e){this._context=t,this._k=(1-e)/6}Cs.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Ts(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Os=function e(n){function t(t){return new Cs(t,n)}return t.tension=function(t){return e(+t)},t}(0);function zs(t,e,n){var r=t._x1,i=t._y1,o=t._x2,a=t._y2;if(t._l01_a>xl){var u=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,c=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*u-t._x0*t._l12_2a+t._x2*t._l01_2a)/c,i=(i*u-t._y0*t._l12_2a+t._y2*t._l01_2a)/c}if(t._l23_a>xl){var l=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,s=3*t._l23_a*(t._l23_a+t._l12_a);o=(o*l+t._x1*t._l23_2a-e*t._l12_2a)/s,a=(a*l+t._y1*t._l23_2a-n*t._l12_2a)/s}t._context.bezierCurveTo(r,i,o,a,t._x2,t._y2)}function js(t,e){this._context=t,this._alpha=e}js.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:zs(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Ds=function e(n){function t(t){return n?new js(t,n):new Ss(t,0)}return t.alpha=function(t){return e(+t)},t}(.5);function Fs(t,e){this._context=t,this._alpha=e}Fs.prototype={areaStart:vs,areaEnd:vs,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:zs(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Ps=function e(n){function t(t){return n?new Fs(t,n):new Es(t,0)}return t.alpha=function(t){return e(+t)},t}(.5);function Ls(t,e){this._context=t,this._alpha=e}Ls.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:zs(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Rs=function e(n){function t(t){return n?new Ls(t,n):new Cs(t,0)}return t.alpha=function(t){return e(+t)},t}(.5);function Us(t){this._context=t}function Is(t){return t<0?-1:1}function Hs(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),u=(o*i+a*r)/(r+i);return(Is(o)+Is(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(u))||0}function qs(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Ys(t,e,n){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,u=(o-r)/3;t._context.bezierCurveTo(r+u,i+u*e,o-u,a-u*n,o,a)}function Bs(t){this._context=t}function $s(t){this._context=new Vs(t)}function Vs(t){this._context=t}function Ws(t){this._context=t}function Xs(t){var e,n,r=t.length-1,i=new Array(r),o=new Array(r),a=new Array(r);for(o[i[0]=0]=2,a[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,o[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,o[r-1]=7,a[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/o[e-1],o[e]-=n,a[e]-=n*a[e-1];for(i[r-1]=a[r-1]/o[r-1],e=r-2;0<=e;--e)i[e]=(a[e]-i[e+1])/o[e];for(o[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function Gs(t,e){this._context=t,this._t=e}Us.prototype={areaStart:vs,areaEnd:vs,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}},Bs.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Ys(this,this._t0,qs(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(e=+e,(t=+t)!==this._x1||e!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Ys(this,qs(this,n=Hs(this,t,e)),n);break;default:Ys(this,this._t0,n=Hs(this,t,e))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}},($s.prototype=Object.create(Bs.prototype)).point=function(t,e){Bs.prototype.point.call(this,e,t)},Vs.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}},Ws.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),2===n)this._context.lineTo(t[1],e[1]);else for(var r=Xs(t),i=Xs(e),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[a],e[a]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}},Gs.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),0<=this._line&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}}this._x=t,this._y=e}};var Zs=Bt("unscopables"),Qs=Array.prototype;null==Qs[Zs]&&O.f(Qs,Zs,{configurable:!0,value:He(null)});function Js(t){Qs[Zs][t]=!0}var Ks="Array Iterator",tf=vt.set,ef=vt.getterFor(Ks),nf=Ie(Array,"Array",function(t,e){tf(this,{type:Ks,target:l(t),index:0,kind:e})},function(){var t=ef(this),e=t.target,n=t.kind,r=t.index++;return!e||r>=e.length?{value:t.target=void 0,done:!0}:"keys"==n?{value:r,done:!1}:"values"==n?{value:e[r],done:!1}:{value:[r,e[r]],done:!1}},"values");Kt.Arguments=Kt.Array,Js("keys"),Js("values"),Js("entries");var rf={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},of=Bt("iterator"),af=Bt("toStringTag"),uf=nf.values;for(var cf in rf){var lf=m[cf],sf=lf&&lf.prototype;if(sf){if(sf[of]!==uf)try{z(sf,of,uf)}catch(t){sf[of]=uf}if(sf[af]||z(sf,af,cf),rf[cf])for(var ff in nf)if(sf[ff]!==nf[ff])try{z(sf,ff,nf[ff])}catch(t){sf[ff]=nf[ff]}}}function hf(t,e){if(1<(i=t.length))for(var n,r,i,o=1,a=t[e[0]],u=a.length;o<i;++o)for(r=a,a=t[e[o]],n=0;n<u;++n)a[n][1]+=a[n][0]=isNaN(r[n][1])?r[n][0]:r[n][1]}function df(t){for(var e=t.length,n=new Array(e);0<=--e;)n[e]=e;return n}function pf(t,e){return t[e]}function _f(t){var n=t.map(gf);return df(t).sort(function(t,e){return n[t]-n[e]})}function gf(t){for(var e,n=-1,r=0,i=t.length,o=-1/0;++n<i;)(e=+t[n][1])>o&&(o=e,r=n);return r}function yf(t){var n=t.map(vf);return df(t).sort(function(t,e){return n[t]-n[e]})}function vf(t){for(var e,n=0,r=-1,i=t.length;++r<i;)(e=+t[r][1])&&(n+=e);return n}var mf=Object.freeze({__proto__:null,arc:function(){var R=Sl,U=Al,I=dl(0),H=null,q=El,Y=Nl,B=Cl,$=null;function e(){var t,e,n=+R.apply(this,arguments),r=+U.apply(this,arguments),i=q.apply(this,arguments)-kl,o=Y.apply(this,arguments)-kl,a=pl(o-i),u=i<o;if($=$||(t=hl()),r<n&&(e=r,r=n,n=e),xl<r)if(Ml-xl<a)$.moveTo(r*gl(i),r*ml(i)),$.arc(0,0,r,i,o,!u),xl<n&&($.moveTo(n*gl(o),n*ml(o)),$.arc(0,0,n,o,i,u));else{var c,l,s=i,f=o,h=i,d=o,p=a,_=a,g=B.apply(this,arguments)/2,y=xl<g&&(H?+H.apply(this,arguments):bl(n*n+r*r)),v=vl(pl(r-n)/2,+I.apply(this,arguments)),m=v,b=v;if(xl<y){var x=Tl(y/n*ml(g)),w=Tl(y/r*ml(g));(p-=2*x)>xl?(h+=x*=u?1:-1,d-=x):(p=0,h=d=(i+o)/2),(_-=2*w)>xl?(s+=w*=u?1:-1,f-=w):(_=0,s=f=(i+o)/2)}var k=r*gl(s),M=r*ml(s),T=n*gl(d),S=n*ml(d);if(xl<v){var A,E=r*gl(f),N=r*ml(f),C=n*gl(h),O=n*ml(h);if(a<wl&&(A=function(t,e,n,r,i,o,a,u){var c=n-t,l=r-e,s=a-i,f=u-o,h=f*c-s*l;if(!(h*h<xl))return[t+(h=(s*(e-o)-f*(t-i))/h)*c,e+h*l]}(k,M,C,O,E,N,T,S))){var z=k-A[0],j=M-A[1],D=E-A[0],F=N-A[1],P=1/ml(function(t){return 1<t?0:t<-1?wl:Math.acos(t)}((z*D+j*F)/(bl(z*z+j*j)*bl(D*D+F*F)))/2),L=bl(A[0]*A[0]+A[1]*A[1]);m=vl(v,(n-L)/(P-1)),b=vl(v,(r-L)/(1+P))}}xl<_?xl<b?(c=Ol(C,O,k,M,r,b,u),l=Ol(E,N,T,S,r,b,u),$.moveTo(c.cx+c.x01,c.cy+c.y01),b<v?$.arc(c.cx,c.cy,b,_l(c.y01,c.x01),_l(l.y01,l.x01),!u):($.arc(c.cx,c.cy,b,_l(c.y01,c.x01),_l(c.y11,c.x11),!u),$.arc(0,0,r,_l(c.cy+c.y11,c.cx+c.x11),_l(l.cy+l.y11,l.cx+l.x11),!u),$.arc(l.cx,l.cy,b,_l(l.y11,l.x11),_l(l.y01,l.x01),!u))):($.moveTo(k,M),$.arc(0,0,r,s,f,!u)):$.moveTo(k,M),xl<n&&xl<p?xl<m?(c=Ol(T,S,E,N,n,-m,u),l=Ol(k,M,C,O,n,-m,u),$.lineTo(c.cx+c.x01,c.cy+c.y01),m<v?$.arc(c.cx,c.cy,m,_l(c.y01,c.x01),_l(l.y01,l.x01),!u):($.arc(c.cx,c.cy,m,_l(c.y01,c.x01),_l(c.y11,c.x11),!u),$.arc(0,0,n,_l(c.cy+c.y11,c.cx+c.x11),_l(l.cy+l.y11,l.cx+l.x11),u),$.arc(l.cx,l.cy,m,_l(l.y11,l.x11),_l(l.y01,l.x01),!u))):$.arc(0,0,n,d,h,u):$.lineTo(T,S)}else $.moveTo(0,0);if($.closePath(),t)return $=null,t+""||null}return e.centroid=function(){var t=(+R.apply(this,arguments)+ +U.apply(this,arguments))/2,e=(+q.apply(this,arguments)+ +Y.apply(this,arguments))/2-wl/2;return[gl(e)*t,ml(e)*t]},e.innerRadius=function(t){return arguments.length?(R="function"==typeof t?t:dl(+t),e):R},e.outerRadius=function(t){return arguments.length?(U="function"==typeof t?t:dl(+t),e):U},e.cornerRadius=function(t){return arguments.length?(I="function"==typeof t?t:dl(+t),e):I},e.padRadius=function(t){return arguments.length?(H=null==t?null:"function"==typeof t?t:dl(+t),e):H},e.startAngle=function(t){return arguments.length?(q="function"==typeof t?t:dl(+t),e):q},e.endAngle=function(t){return arguments.length?(Y="function"==typeof t?t:dl(+t),e):Y},e.padAngle=function(t){return arguments.length?(B="function"==typeof t?t:dl(+t),e):B},e.context=function(t){return arguments.length?($=null==t?null:t,e):$},e},area:Ll,line:Pl,pie:function(){var p=Ul,_=Rl,g=null,y=dl(0),v=dl(Ml),m=dl(0);function e(n){var t,e,r,i,o,a=n.length,u=0,c=new Array(a),l=new Array(a),s=+y.apply(this,arguments),f=Math.min(Ml,Math.max(-Ml,v.apply(this,arguments)-s)),h=Math.min(Math.abs(f)/a,m.apply(this,arguments)),d=h*(f<0?-1:1);for(t=0;t<a;++t)0<(o=l[c[t]=t]=+p(n[t],t,n))&&(u+=o);for(null!=_?c.sort(function(t,e){return _(l[t],l[e])}):null!=g&&c.sort(function(t,e){return g(n[t],n[e])}),t=0,r=u?(f-a*d)/u:0;t<a;++t,s=i)e=c[t],i=s+(0<(o=l[e])?o*r:0)+d,l[e]={data:n[e],index:t,value:o,startAngle:s,endAngle:i,padAngle:h};return l}return e.value=function(t){return arguments.length?(p="function"==typeof t?t:dl(+t),e):p},e.sortValues=function(t){return arguments.length?(_=t,g=null,e):_},e.sort=function(t){return arguments.length?(g=t,_=null,e):g},e.startAngle=function(t){return arguments.length?(y="function"==typeof t?t:dl(+t),e):y},e.endAngle=function(t){return arguments.length?(v="function"==typeof t?t:dl(+t),e):v},e.padAngle=function(t){return arguments.length?(m="function"==typeof t?t:dl(+t),e):m},e},areaRadial:$l,radialArea:$l,lineRadial:Bl,radialLine:Bl,pointRadial:Vl,linkHorizontal:function(){return Zl(Ql)},linkVertical:function(){return Zl(Jl)},linkRadial:function(){var t=Zl(Kl);return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t},symbol:function(){var e=dl(ts),n=dl(64),r=null;function i(){var t;if(r=r||(t=hl()),e.apply(this,arguments).draw(r,+n.apply(this,arguments)),t)return r=null,t+""||null}return i.type=function(t){return arguments.length?(e="function"==typeof t?t:dl(t),i):e},i.size=function(t){return arguments.length?(n="function"==typeof t?t:dl(+t),i):n},i.context=function(t){return arguments.length?(r=null==t?null:t,i):r},i},symbols:ys,symbolCircle:ts,symbolCross:es,symbolDiamond:is,symbolSquare:ls,symbolStar:cs,symbolTriangle:fs,symbolWye:gs,curveBasisClosed:function(t){return new xs(t)},curveBasisOpen:function(t){return new ws(t)},curveBasis:function(t){return new bs(t)},curveBundle:Ms,curveCardinalClosed:Ns,curveCardinalOpen:Os,curveCardinal:As,curveCatmullRomClosed:Ps,curveCatmullRomOpen:Rs,curveCatmullRom:Ds,curveLinearClosed:function(t){return new Us(t)},curveLinear:jl,curveMonotoneX:function(t){return new Bs(t)},curveMonotoneY:function(t){return new $s(t)},curveNatural:function(t){return new Ws(t)},curveStep:function(t){return new Gs(t,.5)},curveStepAfter:function(t){return new Gs(t,1)},curveStepBefore:function(t){return new Gs(t,0)},stack:function(){var f=dl([]),h=df,d=hf,p=pf;function e(t){var e,n,r=f.apply(this,arguments),i=t.length,o=r.length,a=new Array(o);for(e=0;e<o;++e){for(var u,c=r[e],l=a[e]=new Array(i),s=0;s<i;++s)l[s]=u=[0,+p(t[s],c,s,t)],u.data=t[s];l.key=c}for(e=0,n=h(a);e<o;++e)a[n[e]].index=e;return d(a,n),a}return e.keys=function(t){return arguments.length?(f="function"==typeof t?t:dl(Wl.call(t)),e):f},e.value=function(t){return arguments.length?(p="function"==typeof t?t:dl(+t),e):p},e.order=function(t){return arguments.length?(h=null==t?df:"function"==typeof t?t:dl(Wl.call(t)),e):h},e.offset=function(t){return arguments.length?(d=null==t?hf:t,e):d},e},stackOffsetExpand:function(t,e){if(0<(r=t.length)){for(var n,r,i,o=0,a=t[0].length;o<a;++o){for(i=n=0;n<r;++n)i+=t[n][o][1]||0;if(i)for(n=0;n<r;++n)t[n][o][1]/=i}hf(t,e)}},stackOffsetDiverging:function(t,e){if(0<(u=t.length))for(var n,r,i,o,a,u,c=0,l=t[e[0]].length;c<l;++c)for(o=a=0,n=0;n<u;++n)0<(i=(r=t[e[n]][c])[1]-r[0])?(r[0]=o,r[1]=o+=i):i<0?(r[1]=a,r[0]=a+=i):(r[0]=0,r[1]=i)},stackOffsetNone:hf,stackOffsetSilhouette:function(t,e){if(0<(n=t.length)){for(var n,r=0,i=t[e[0]],o=i.length;r<o;++r){for(var a=0,u=0;a<n;++a)u+=t[a][r][1]||0;i[r][1]+=i[r][0]=-u/2}hf(t,e)}},stackOffsetWiggle:function(t,e){if(0<(i=t.length)&&0<(r=(n=t[e[0]]).length)){for(var n,r,i,o=0,a=1;a<r;++a){for(var u=0,c=0,l=0;u<i;++u){for(var s=t[e[u]],f=s[a][1]||0,h=(f-(s[a-1][1]||0))/2,d=0;d<u;++d){var p=t[e[d]];h+=(p[a][1]||0)-(p[a-1][1]||0)}c+=f,l+=h*f}n[a-1][1]+=n[a-1][0]=o,c&&(o-=l/c)}n[a-1][1]+=n[a-1][0]=o,hf(t,e)}},stackOrderAppearance:_f,stackOrderAscending:yf,stackOrderDescending:function(t){return yf(t).reverse()},stackOrderInsideOut:function(t){var e,n,r=t.length,i=t.map(vf),o=_f(t),a=0,u=0,c=[],l=[];for(e=0;e<r;++e)n=o[e],a<u?(a+=i[n],c.push(n)):(u+=i[n],l.push(n));return l.reverse().concat(c)},stackOrderNone:df,stackOrderReverse:function(t){return df(t).reverse()}}),bf=Pr.forEach,xf=Hn("forEach")?[].forEach:function(t,e){return bf(this,t,1<arguments.length?e:void 0)};for(var wf in rf){var kf=m[wf],Mf=kf&&kf.prototype;if(Mf&&Mf.forEach!==xf)try{z(Mf,"forEach",xf)}catch(t){Mf.forEach=xf}}var Tf=Pr.filter,Sf=Dn("filter");function Af(t,e){return t<e?-1:e<t?1:e<=t?0:NaN}ft({target:"Array",proto:!0,forced:!Sf},{filter:function(t,e){return Tf(this,t,1<arguments.length?e:void 0)}});var Ef,Nf,Cf=(1===(Nf=Af).length&&(Ef=Nf,Nf=function(t,e){return Af(Ef(t),e)}),{left:function(t,e,n,r){for(null==n&&(n=0),null==r&&(r=t.length);n<r;){var i=n+r>>>1;Nf(t[i],e)<0?n=1+i:r=i}return n},right:function(t,e,n,r){for(null==n&&(n=0),null==r&&(r=t.length);n<r;){var i=n+r>>>1;0<Nf(t[i],e)?r=i:n=1+i}return n}}).right;function Of(t){return null===t?NaN:+t}function zf(t,e){var n,r,i,o=t.length,a=-1;if(null==e){for(;++a<o;)if(null!=(n=t[a])&&n<=n)for(r=i=n;++a<o;)null!=(n=t[a])&&(n<r&&(r=n),i<n&&(i=n))}else for(;++a<o;)if(null!=(n=e(t[a],a,t))&&n<=n)for(r=i=n;++a<o;)null!=(n=e(t[a],a,t))&&(n<r&&(r=n),i<n&&(i=n));return[r,i]}function jf(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((e-t)/n)),o=new Array(i);++r<i;)o[r]=t+r*n;return o}var Df=Math.sqrt(50),Ff=Math.sqrt(10),Pf=Math.sqrt(2);function Lf(t,e,n){var r,i,o,a,u=-1;if(n=+n,(t=+t)===(e=+e)&&0<n)return[t];if((r=e<t)&&(i=t,t=e,e=i),0===(a=Rf(t,e,n))||!isFinite(a))return[];if(0<a)for(t=Math.ceil(t/a),e=Math.floor(e/a),o=new Array(i=Math.ceil(e-t+1));++u<i;)o[u]=(t+u)*a;else for(t=Math.floor(t*a),e=Math.ceil(e*a),o=new Array(i=Math.ceil(t-e+1));++u<i;)o[u]=(t-u)/a;return r&&o.reverse(),o}function Rf(t,e,n){var r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return 0<=i?(Df<=o?10:Ff<=o?5:Pf<=o?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(Df<=o?10:Ff<=o?5:Pf<=o?2:1)}function Uf(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return Df<=o?i*=10:Ff<=o?i*=5:Pf<=o&&(i*=2),e<t?-i:i}function If(t,e,n){if(null==n&&(n=Of),r=t.length){if((e=+e)<=0||r<2)return+n(t[0],0,t);if(1<=e)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),a=+n(t[o],o,t);return a+(+n(t[o+1],o+1,t)-a)*(i-o)}}function Hf(t,e){var n,r,i=t.length,o=-1;if(null==e){for(;++o<i;)if(null!=(n=t[o])&&n<=n)for(r=n;++o<i;)null!=(n=t[o])&&r<n&&(r=n)}else for(;++o<i;)if(null!=(n=e(t[o],o,t))&&n<=n)for(r=n;++o<i;)null!=(n=e(t[o],o,t))&&r<n&&(r=n);return r}function qf(t,e){var n,r,i=t.length,o=-1;if(null==e){for(;++o<i;)if(null!=(n=t[o])&&n<=n)for(r=n;++o<i;)null!=(n=t[o])&&n<r&&(r=n)}else for(;++o<i;)if(null!=(n=e(t[o],o,t))&&n<=n)for(r=n;++o<i;)null!=(n=e(t[o],o,t))&&n<r&&(r=n);return r}var Yf="$";function Bf(){}function $f(t,e){var n=new Bf;if(t instanceof Bf)t.each(function(t,e){n.set(e,t)});else if(Array.isArray(t)){var r,i=-1,o=t.length;if(null==e)for(;++i<o;)n.set(i,t[i]);else for(;++i<o;)n.set(e(r=t[i],i,t),r)}else if(t)for(var a in t)n.set(a,t[a]);return n}function Vf(){}Bf.prototype=$f.prototype={constructor:Bf,has:function(t){return Yf+t in this},get:function(t){return this[Yf+t]},set:function(t,e){return this[Yf+t]=e,this},remove:function(t){var e=Yf+t;return e in this&&delete this[e]},clear:function(){for(var t in this)t[0]===Yf&&delete this[t]},keys:function(){var t=[];for(var e in this)e[0]===Yf&&t.push(e.slice(1));return t},values:function(){var t=[];for(var e in this)e[0]===Yf&&t.push(this[e]);return t},entries:function(){var t=[];for(var e in this)e[0]===Yf&&t.push({key:e.slice(1),value:this[e]});return t},size:function(){var t=0;for(var e in this)e[0]===Yf&&++t;return t},empty:function(){for(var t in this)if(t[0]===Yf)return!1;return!0},each:function(t){for(var e in this)e[0]===Yf&&t(this[e],e.slice(1),this)}};var Wf=$f.prototype;function Xf(t,e){var n=new Vf;if(t instanceof Vf)t.each(function(t){n.add(t)});else if(t){var r=-1,i=t.length;if(null==e)for(;++r<i;)n.add(t[r]);else for(;++r<i;)n.add(e(t[r],r,t))}return n}Vf.prototype=Xf.prototype={constructor:Vf,has:Wf.has,add:function(t){return this[Yf+(t+="")]=t,this},remove:Wf.remove,clear:Wf.clear,values:Wf.keys,size:Wf.size,empty:Wf.empty,each:Wf.each};var Gf=!g(function(){return Object.isExtensible(Object.preventExtensions({}))}),Zf=n(function(t){function n(t){e(t,r,{value:{objectID:"O"+ ++i,weakData:{}}})}var e=O.f,r=P("meta"),i=0,o=Object.isExtensible||function(){return!0},a=t.exports={REQUIRED:!1,fastKey:function(t,e){if(!v(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!d(t,r)){if(!o(t))return"F";if(!e)return"E";n(t)}return t[r].objectID},getWeakData:function(t,e){if(!d(t,r)){if(!o(t))return!0;if(!e)return!1;n(t)}return t[r].weakData},onFreeze:function(t){return Gf&&a.REQUIRED&&o(t)&&!d(t,r)&&n(t),t}};X[r]=!0}),Qf=Zf.onFreeze,Jf=Object.freeze,Kf=g(function(){Jf(1)});function th(){return this.declarations=[],this}function eh(t){return this.selector=t,this.styles=[],this}ft({target:"Object",stat:!0,forced:Kf,sham:!Gf},{freeze:function(t){return Jf&&v(t)?Jf(Qf(t)):t}}),th.prototype.select=function(t){if(!t)return this;var e=new eh(t,this);return(e.parent=this).addDeclaration(e),e},th.prototype.addDeclaration=function(t){return this.declarations.push(t),this},th.prototype.print=function(){var e="";return this.declarations.forEach(function(t){e+=t.selector+" {\n",t.styles.forEach(function(t){e+="\t"+t[0]+": "+t[1]+";\n"}),e+="}\n\n"}),e},th.prototype.clear=function(){return this.declarations=[],this},eh.prototype.style=function(t,e){var n="function"==typeof value_?e():e;return""!==n&&null!=n&&this.styles.push([t,n]),this};var nh=!(eh.prototype.select=function(t){return this.parent.select(this.selector+" "+t)});function rh(){if(!nh&&"undefined"!=typeof document){var t=function(){var t=new th;return t.select(".fl-controls-container").style("display","inline-block").style("line-height","1em"),t.select(".fl-controls-title").style("display","inline-block").style("margin","0px 0.5em 0px 0px"),t.select(".fl-controls-container, .fl-controls-container *").style("box-sizing","border-box"),t.select(".slider-holder").style("margin-bottom","20px"),t.select(".fl-controls-slider, .slider-play").style("pointer-events","all").style("display","inline-block").style("vertical-align","middle"),t.select(".slider-play svg").style("height","100%").style("width","100%").style("display","block").style("cursor"," pointer",""),t.select(".fl-controls-slider svg").style("display","block"),t.select(".slider-play:hover").style("opacity","0.6"),t.select(".fl-control-slider").style("width","100%").style("bottom","0").style("align-items","center"),t.select(".fl-control").style("position","relative"),t.select(".fl-control.hidden").style("display","none"),t.select(".fl-control .button").style("display","inline-flex").style("align-items","center").style("background","#eee").style("padding","0 0.5em").style("margin-right","0.25em").style("margin-bottom","0.25em").style("line-height","1em").style("box-sizing","border-box"),t.select(".fl-control.grouped:not(.hidden)").style("display","inline-table").style("table-layout","fixed").select(".button").style("display","table-cell").style("vertical-align","middle").style("margin","0").style("text-align","center"),t.select(".fl-control .button.selected").style("background","#ddd"),t.select(".fl-control-dropdown").style("line-height","1em").style("position","relative"),t.select(".fl-control-dropdown::after").style("display","block").style("content","''").style("width","10px").style("height","10px").style("background","transparent").style("position","absolute").style("right","5px").style("left","auto").style("top","50%").style("pointer-events","none").style("transform","translateY(calc(-50% + 3px))").style("border-left","5px solid transparent").style("border-right","5px solid transparent").style("border-top","5px solid").style("box-sizing","border-box"),t.select(".is-rtl .fl-control-dropdown::after").style("left","5px").style("right","auto"),t.select(".fl-control-dropdown select").style("-webkit-appearance","none").style("-webkit-border-radius","0px").style("width","100%"),t.print()}(),e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",n.className="flourish-controls",e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t)),nh=!0}}rr("match",1,function(r,l,s){return[function(t){var e=f(this),n=null==t?void 0:t[r];return void 0!==n?n.call(t,e):new RegExp(t)[r](String(e))},function(t){var e=s(l,t,this);if(e.done)return e.value;var n=S(t),r=String(this);if(!n.global)return ur(n,r);for(var i,o=n.unicode,a=[],u=n.lastIndex=0;null!==(i=ur(n,r));){var c=String(i[0]);""===(a[u]=c)&&(n.lastIndex=ar(r,ot(n.lastIndex),o)),u++}return 0===u?null:a}]});var ih,oh,ah=(ih=document.createElement("canvas").getContext("2d"),function(t,e){return ih.font=e||"10px sans-serif",ih.measureText(t).width});var uh,ch=/"/g;ft({target:"String",proto:!0,forced:(uh="anchor",g(function(){var t=""[uh]('"');return t!==t.toLowerCase()||3<t.split('"').length}))},{anchor:function(t){return function(t,e,n,r){var i=String(f(t)),o="<"+e;return""!==n&&(o+=" "+n+'="'+String(r).replace(ch,"&quot;")+'"'),o+">"+i+"</"+e+">"}(this,"a","name",t)}});var lh=Array.prototype.slice;function sh(t){return t}var fh=1,hh=2,dh=3,ph=4,_h=1e-6;function gh(t){return"translate("+(t+.5)+",0)"}function yh(t){return"translate(0,"+(t+.5)+")"}function vh(){return!this.__axis}function mh(_,g){var y=[],v=null,m=null,b=6,x=6,w=3,k=_===fh||_===ph?-1:1,M=_===ph||_===hh?"x":"y",T=_===fh||_===dh?gh:yh;function e(t){var e=null==v?g.ticks?g.ticks.apply(g,y):g.domain():v,n=null==m?g.tickFormat?g.tickFormat.apply(g,y):sh:m,r=Math.max(b,0)+w,i=g.range(),o=+i[0]+.5,a=+i[i.length-1]+.5,u=(g.bandwidth?function(e){var n=Math.max(0,e.bandwidth()-1)/2;return e.round()&&(n=Math.round(n)),function(t){return+e(t)+n}}:function(e){return function(t){return+e(t)}})(g.copy()),c=t.selection?t.selection():t,l=c.selectAll(".domain").data([null]),s=c.selectAll(".tick").data(e,g).order(),f=s.exit(),h=s.enter().append("g").attr("class","tick"),d=s.select("line"),p=s.select("text");l=l.merge(l.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),s=s.merge(h),d=d.merge(h.append("line").attr("stroke","currentColor").attr(M+"2",k*b)),p=p.merge(h.append("text").attr("fill","currentColor").attr(M,k*r).attr("dy",_===fh?"0em":_===dh?"0.71em":"0.32em")),t!==c&&(l=l.transition(t),s=s.transition(t),d=d.transition(t),p=p.transition(t),f=f.transition(t).attr("opacity",_h).attr("transform",function(t){return isFinite(t=u(t))?T(t):this.getAttribute("transform")}),h.attr("opacity",_h).attr("transform",function(t){var e=this.parentNode.__axis;return T(e&&isFinite(e=e(t))?e:u(t))})),f.remove(),l.attr("d",_===ph||_==hh?x?"M"+k*x+","+o+"H0.5V"+a+"H"+k*x:"M0.5,"+o+"V"+a:x?"M"+o+","+k*x+"V0.5H"+a+"V"+k*x:"M"+o+",0.5H"+a),s.attr("opacity",1).attr("transform",function(t){return T(u(t))}),d.attr(M+"2",k*b),p.attr(M,k*r).text(n),c.filter(vh).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",_===hh?"start":_===ph?"end":"middle"),c.each(function(){this.__axis=u})}return e.scale=function(t){return arguments.length?(g=t,e):g},e.ticks=function(){return y=lh.call(arguments),e},e.tickArguments=function(t){return arguments.length?(y=null==t?[]:lh.call(t),e):y.slice()},e.tickValues=function(t){return arguments.length?(v=null==t?null:lh.call(t),e):v&&v.slice()},e.tickFormat=function(t){return arguments.length?(m=t,e):m},e.tickSize=function(t){return arguments.length?(b=x=+t,e):b},e.tickSizeInner=function(t){return arguments.length?(b=+t,e):b},e.tickSizeOuter=function(t){return arguments.length?(x=+t,e):x},e.tickPadding=function(t){return arguments.length?(w=+t,e):w},e}var bh=Array.prototype,xh=bh.map,wh=bh.slice;function kh(t){return+t}var Mh=[0,1];function Th(e,n){return(n-=e=+e)?function(t){return(t-e)/n}:function(t){return function(){return t}}(n)}function Sh(t,e,n,r){var i=t[0],o=t[1],a=e[0],u=e[1];return a=o<i?(i=n(o,i),r(u,a)):(i=n(i,o),r(a,u)),function(t){return a(i(t))}}function Ah(n,t,e,r){var i=Math.min(n.length,t.length)-1,o=new Array(i),a=new Array(i),u=-1;for(n[i]<n[0]&&(n=n.slice().reverse(),t=t.slice().reverse());++u<i;)o[u]=e(n[u],n[u+1]),a[u]=r(t[u],t[u+1]);return function(t){var e=Cf(n,t,1,i)-1;return a[e](o[e](t))}}function Eh(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[1<r.length?r[0]+r.slice(2):r,+t.slice(n+1)]}function Nh(t){return(t=Eh(Math.abs(t)))?t[1]:NaN}ft({target:"Array",proto:!0},{fill:function(t,e,n){for(var r=x(this),i=ot(r.length),o=arguments.length,a=at(1<o?e:void 0,i),u=2<o?n:void 0,c=void 0===u?i:at(u,i);a<c;)r[a++]=t;return r}}),Js("fill");function Ch(o,a,u,c,l,t){var s=u+o.length,f=c.length,e=Dh;return void 0!==l&&(l=x(l),e=jh),zh.call(t,e,function(t,e){var n;switch(e.charAt(0)){case"$":return"$";case"&":return o;case"`":return a.slice(0,u);case"'":return a.slice(s);case"<":n=l[e.slice(1,-1)];break;default:var r=+e;if(0==r)return t;if(f<r){var i=Oh(r/10);return 0===i?t:i<=f?void 0===c[i-1]?e.charAt(1):c[i-1]+e.charAt(1):t}n=c[r-1]}return void 0===n?"":n})}var Oh=Math.floor,zh="".replace,jh=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,Dh=/\$([$&'`]|\d{1,2})/g,Fh=Math.max,Ph=Math.min;rr("replace",2,function(i,x,w,t){var k=t.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,M=t.REPLACE_KEEPS_$0,T=k?"$":"$0";return[function(t,e){var n=f(this),r=null==t?void 0:t[i];return void 0!==r?r.call(t,n,e):x.call(String(n),t,e)},function(t,e){if(!k&&M||"string"==typeof e&&-1===e.indexOf(T)){var n=w(x,t,this,e);if(n.done)return n.value}var r=S(t),i=String(this),o="function"==typeof e;o||(e=String(e));var a=r.global;if(a){var u=r.unicode;r.lastIndex=0}for(var c=[];;){var l=ur(r,i);if(null===l)break;if(c.push(l),!a)break;""===String(l[0])&&(r.lastIndex=ar(i,ot(r.lastIndex),u))}for(var s,f="",h=0,d=0;d<c.length;d++){l=c[d];for(var p=String(l[0]),_=Fh(Ph(it(l.index),i.length),0),g=[],y=1;y<l.length;y++)g.push(void 0===(s=l[y])?s:String(s));var v=l.groups;if(o){var m=[p].concat(g,_,i);void 0!==v&&m.push(v);var b=String(e.apply(void 0,m))}else b=Ch(p,i,_,g,v,e);h<=_&&(f+=i.slice(h,_)+b,h=_+p.length)}return f+i.slice(h)}]});var Lh=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Rh(t){if(!(e=Lh.exec(t)))throw new Error("invalid format: "+t);var e;return new Uh({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function Uh(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}Rh.prototype=Uh.prototype,Uh.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};function Ih(t){var e=String(f(this)),n="",r=it(t);if(r<0||r==1/0)throw RangeError("Wrong number of repetitions");for(;0<r;(r>>>=1)&&(e+=e))1&r&&(n+=e);return n}function Hh(t,e,n){for(var r=-1,i=n;++r<6;)i+=e*t[r],t[r]=i%1e7,i=Vh(i/1e7)}function qh(t,e){for(var n=6,r=0;0<=--n;)r+=t[n],t[n]=Vh(r/e),r=r%e*1e7}function Yh(t){for(var e=6,n="";0<=--e;)if(""!==n||0===e||0!==t[e]){var r=String(t[e]);n=""===n?r:n+Ih.call("0",7-r.length)+r}return n}var Bh,$h=1..toFixed,Vh=Math.floor,Wh=function(t,e,n){return 0===e?n:e%2==1?Wh(t,e-1,n*t):Wh(t*t,e/2,n)},Xh=$h&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!g(function(){$h.call({})});function Gh(t,e){var n=Eh(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}ft({target:"Number",proto:!0,forced:Xh},{toFixed:function(t){var e,n,r,i,o=function(t){if("number"!=typeof t&&"Number"!=s(t))throw TypeError("Incorrect invocation");return+t}(this),a=it(t),u=[0,0,0,0,0,0],c="",l="0";if(a<0||20<a)throw RangeError("Incorrect fraction digits");if(o!=o)return"NaN";if(o<=-1e21||1e21<=o)return String(o);if(o<0&&(c="-",o=-o),1e-21<o)if(n=(e=function(t){for(var e=0,n=t;4096<=n;)e+=12,n/=4096;for(;2<=n;)e+=1,n/=2;return e}(o*Wh(2,69,1))-69)<0?o*Wh(2,-e,1):o/Wh(2,e,1),n*=4503599627370496,0<(e=52-e)){for(Hh(u,0,n),r=a;7<=r;)Hh(u,1e7,0),r-=7;for(Hh(u,Wh(10,r,1),0),r=e-1;23<=r;)qh(u,1<<23),r-=23;qh(u,1<<r),Hh(u,1,1),qh(u,2),l=Yh(u)}else Hh(u,0,n),Hh(u,1<<-e,0),l=Yh(u)+Ih.call("0",a);return l=0<a?c+((i=l.length)<=a?"0."+Ih.call("0",a-i)+l:l.slice(0,i-a)+"."+l.slice(i-a)):c+l}});var Zh={"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return Gh(100*t,e)},r:Gh,s:function(t,e){var n=Eh(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(Bh=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:a<o?r+new Array(o-a+1).join("0"):0<o?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Eh(t,Math.max(0,e+o-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}};function Qh(t){return t}var Jh,Kh,td,ed=Array.prototype.map,nd=["y","z","a","f","p","n","Âµ","m","","k","M","G","T","P","E","Z","Y"];function rd(t){var w=void 0===t.grouping||void 0===t.thousands?Qh:function(u,c){return function(t,e){for(var n=t.length,r=[],i=0,o=u[0],a=0;0<n&&0<o&&(e<a+o+1&&(o=Math.max(1,e-a)),r.push(t.substring(n-=o,n+o)),!((a+=o+1)>e));)o=u[i=(i+1)%u.length];return r.reverse().join(c)}}(ed.call(t.grouping,Number),t.thousands+""),r=void 0===t.currency?"":t.currency[0]+"",i=void 0===t.currency?"":t.currency[1]+"",k=void 0===t.decimal?".":t.decimal+"",M=void 0===t.numerals?Qh:function(e){return function(t){return t.replace(/[0-9]/g,function(t){return e[+t]})}}(ed.call(t.numerals,String)),o=void 0===t.percent?"%":t.percent+"",T=void 0===t.minus?"-":t.minus+"",S=void 0===t.nan?"NaN":t.nan+"";function a(t){var l=(t=Rh(t)).fill,s=t.align,f=t.sign,e=t.symbol,h=t.zero,d=t.width,p=t.comma,_=t.precision,g=t.trim,y=t.type;"n"===y?(p=!0,y="g"):Zh[y]||(void 0===_&&(_=12),g=!0,y="g"),(h||"0"===l&&"="===s)&&(h=!0,l="0",s="=");var v="$"===e?r:"#"===e&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",m="$"===e?i:/[%p]/.test(y)?o:"",b=Zh[y],x=/[defgprs%]/.test(y);function n(t){var e,n,r,i=v,o=m;if("c"===y)o=b(t)+o,t="";else{var a=(t=+t)<0;if(t=isNaN(t)?S:b(Math.abs(t),_),g&&(t=function(t){t:for(var e,n=t.length,r=1,i=-1;r<n;++r)switch(t[r]){case".":i=e=r;break;case"0":0===i&&(i=r),e=r;break;default:if(0<i){if(!+t[r])break t;i=0}}return 0<i?t.slice(0,i)+t.slice(e+1):t}(t)),a&&0==+t&&(a=!1),i=(a?"("===f?f:T:"-"===f||"("===f?"":f)+i,o=("s"===y?nd[8+Bh/3]:"")+o+(a&&"("===f?")":""),x)for(e=-1,n=t.length;++e<n;)if((r=t.charCodeAt(e))<48||57<r){o=(46===r?k+t.slice(e+1):t.slice(e))+o,t=t.slice(0,e);break}}p&&!h&&(t=w(t,1/0));var u=i.length+t.length+o.length,c=u<d?new Array(d-u+1).join(l):"";switch(p&&h&&(t=w(c+t,c.length?d-o.length:1/0),c=""),s){case"<":t=i+t+o+c;break;case"=":t=i+c+t+o;break;case"^":t=c.slice(0,u=c.length>>1)+i+t+o+c.slice(u);break;default:t=c+i+t+o}return M(t)}return _=void 0===_?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_)),n.toString=function(){return t+""},n}return{format:a,formatPrefix:function(t,e){var n=a(((t=Rh(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(Nh(e)/3))),i=Math.pow(10,-r),o=nd[8+r/3];return function(t){return n(i*t)+o}}}}function id(t){return Math.max(0,-Nh(Math.abs(t)))}function od(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Nh(e)/3)))-Nh(Math.abs(t)))}function ad(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Nh(e)-Nh(t))+1}function ud(u){var c=u.domain;return u.ticks=function(t){var e=c();return Lf(e[0],e[e.length-1],null==t?10:t)},u.tickFormat=function(t,e){return function(t,e,n){var r,i=t[0],o=t[t.length-1],a=Uf(i,o,null==e?10:e);switch((n=Rh(null==n?",f":n)).type){case"s":var u=Math.max(Math.abs(i),Math.abs(o));return null!=n.precision||isNaN(r=od(a,u))||(n.precision=r),td(n,u);case"":case"e":case"g":case"p":case"r":null!=n.precision||isNaN(r=ad(a,Math.max(Math.abs(i),Math.abs(o))))||(n.precision=r-("e"===n.type));break;case"f":case"%":null!=n.precision||isNaN(r=id(a))||(n.precision=r-2*("%"===n.type))}return Kh(n)}(c(),t,e)},u.nice=function(t){null==t&&(t=10);var e,n=c(),r=0,i=n.length-1,o=n[r],a=n[i];return a<o&&(e=o,o=a,a=e,e=r,r=i,i=e),0<(e=Rf(o,a,t))?e=Rf(o=Math.floor(o/e)*e,a=Math.ceil(a/e)*e,t):e<0&&(e=Rf(o=Math.ceil(o*e)/e,a=Math.floor(a*e)/e,t)),0<e?(n[r]=Math.floor(o/e)*e,n[i]=Math.ceil(a/e)*e,c(n)):e<0&&(n[r]=Math.ceil(o*e)/e,n[i]=Math.floor(a*e)/e,c(n)),u},u}function cd(){var t=function(e,n){var r,i,o,a=Mh,u=Mh,c=au,l=!1;function s(){return r=2<Math.min(a.length,u.length)?Ah:Sh,i=o=null,t}function t(t){return(i=i||r(a,u,l?function(t){return function(e,n){var r=t(e=+e,n=+n);return function(t){return t<=e?0:n<=t?1:r(t)}}}(e):e,c))(+t)}return t.invert=function(t){return(o=o||r(u,a,Th,l?function(t){return function(e,n){var r=t(e=+e,n=+n);return function(t){return t<=0?e:1<=t?n:r(t)}}}(n):n))(+t)},t.domain=function(t){return arguments.length?(a=xh.call(t,kh),s()):a.slice()},t.range=function(t){return arguments.length?(u=wh.call(t),s()):u.slice()},t.rangeRound=function(t){return u=wh.call(t),c=uu,s()},t.clamp=function(t){return arguments.length?(l=!!t,s()):l},t.interpolate=function(t){return arguments.length?(c=t,s()):c},s()}(Th,nu);return t.copy=function(){return function(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp())}(t,cd())},ud(t)}Jh=rd({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"}),Kh=Jh.format,td=Jh.formatPrefix;function ld(t){this.container=vi(t),this._width=null,this._height=null,this._handleRadius=15,this._channelHeight=5,this._channelRadius=null,this._handleFill="black",this._channelFill="#eee",this._margin={top:null,left:null,right:null},this._domain=[0,1],this._value=null,this._snap=!1,this._scale=null,this._axis=!1,this._ticks=null,this._tickFormat=null,this._tickSize=null,this._label=null,this._labelSize=18,this._startLabel=null,this._startLabelBelow=!1,this._endLabel=null,this._endLabelBelow=!1,this._startEndLabelSize=16,this.handlers={change:[]}}function sd(e){0<e.length&&"_"==e.charAt(0)&&(ld.prototype[e.substr(1)]=function(t){return void 0===t?this[e]:(this[e]=t,this)})}var fd=new ld;for(var hd in fd)sd(hd);function dd(t,e){return"boolean"==typeof t?t?Math.round(e):e:function t(e,n,r,i){if(void 0===r&&(r=0),void 0===i&&(i=e.length),i-r==0)return n;if(i-r==1)return e[r];if(i-r==2)return Math.abs(e[r]-n)<=Math.abs(e[r+1]-n)?e[r]:e[r+1];var o=r+Math.floor((i-r)/2),a=e[o],u=e[o-1];return u<=n&&n<=a?Math.abs(u-n)<=Math.abs(a-n)?u:a:a<=n?t(e,n,o,i):t(e,n,r,o)}(t,e)}function pd(t){return new ld(t)}function _d(a,u,t){function n(){clearTimeout(y),y=null}function o(t){var e=s[t];e.options_index!==a.index()&&(a.index(e.options_index),a.trigger("change"))}function c(){n(),p.classed("playing",!1),_.html(e),a._isPlaying_(!1),h=!1}function l(){p.classed("playing",!0),_.html(r),m(),a._isPlaying_(!0),h=!0}var e,r,i,s,f,h,d={},p=vi(t).append("div").attr("class","fl-control fl-control-slider animatable"),_=p.append("div").attr("class","slider-play"),g=p.append("div").attr("class","fl-controls-slider"),y=null,v=pd(g.node()).snap(!0).on("change",function(t){var e=null!==y;e&&n(),o(t),e&&m()}),m=function t(){var e=a.getSortedIndex(),n=f[e],r=a.n_options-1,i=e<r?e+1:0;y=setTimeout(function(){o(i),u.slider_loop||i<r?t():c()},n)};_.on("click",function(){null===y?l():c()});function b(){return p.style("display","inline-flex"),function(){var t=Math.round(oh(u.slider_handle_height)/2);p.style("width",Math.round(oh(u.slider_width))+"px"),_.style("height",2*t+"px").style("width",2*t+"px").style("display",u.slider_play_button?null:"none");var e=p.node().getBoundingClientRect().width,n=_.node().getBoundingClientRect().width;g.style("width",Math.max(e-n,1)+"px").style("height",2*t+"px"),v.handleRadius(t).margin({left:t+5,right:t+oh(u.slider_margin),top:t})}(),u.slider_play_button?p.classed("animatable",!0):(c(),p.classed("animatable",!1)),i!==u.slider_handle_color&&(v.update(),i=u.slider_handle_color||"currentColor",p.select(".slider-handle").style("fill",i),e=function(t){return'<svg width="25px" height="30px" viewBox="0 0 25 30"> <polygon fill="'+t+'" stroke="none" points="25 15 0 30 0 0"></polygon> </svg>'}(i),r=function(t){return'<svg width="26px" height="30px" viewBox="0 0 26 30"> <g stroke="none" stroke-width="1" fill="'+t+'"><rect x="2" y="2" width="9" height="26"></rect> <rect x="15" y="2" width="9" height="26"></rect> </g> </svg>'}(i),_.html(y?r:e)),d}function x(){return c(),p.style("display","none"),d}return d.show=b,d.hide=x,d.update=function(t,e){if(s=t,!a.n_options||"slider"!==u.control_type)return x(),d;e?b():x();var n=a.n_options,r=u.slider_loop;f=s.map(function(t,e){return 1e3*(u.slider_step_time+(r&&e===n-1?u.slider_restart_pause:0))});var i=a.getSortedIndex(),o=s[i];return v.domain([0,n-1]).value(i).endLabel(o.display).channelHeight(Math.round(oh(u.slider_track_height))).channelFill(u.slider_background_color).update(),v.container.select("svg").attr("fill","currentColor"),g.select("text.slider-end-labels").style("fill",u.slider_font_color).attr("y","0").attr("dy","0.25em"),a._isPlaying_()&&!h?l():!a._isPlaying_()&&h&&c(),d},d}ld.prototype.margin=function(t){if(!t)return this._margin;for(hd in t){if(!(hd in this._margin))throw"Slider.margin: unrecognised option "+hd;this._margin[hd]=t[hd]}return this},ld.prototype.on=function(t,e){if(!(t in this.handlers))throw"Slider.on: No such event: "+t;return this.handlers[t].push(e),this},ld.prototype.fire=function(t,e){if(!(t in this.handlers))throw"Slider.fire: No such event: "+t;for(var n=this.handlers[t],r=0;r<n.length;r++)n[r].call(this,e);return this},ld.prototype.update=ld.prototype.draw=function(){var i=this,t=this._width,e=this._height,n=this.container.node();if(!t){var r=n.getBoundingClientRect();if(!r||0==r.width)return this;t=r.width,e=r.height}var o,a=null==this._channelRadius?this._channelHeight/2:this._channelRadius,u=null==this._margin.left?Math.max(this._handleRadius,a):this._margin.left,c=null==this._margin.right?Math.max(this._handleRadius,a):this._margin.right,l=null==this._margin.top?Math.max(this._handleRadius,this._channelHeight/2):this._margin.top,s=t-u-c,f=s+2*a,h=1.5*this._labelSize;null!=this._label&&null==this._margin.top&&(l+=h),"http://www.w3.org/2000/svg"==n.namespaceURI?o=this.container:((o=this.container.selectAll("svg").data([{width:t,height:e}])).exit().remove(),(o=o.enter().append("svg").merge(o)).attr("width",function(t){return t.width}).attr("height",function(t){return t.height}));var d=o.selectAll("g.slider-container").data([{left:u,top:l,id:this._id}]);d.exit().remove(),(d=d.enter().append("g").attr("class","slider-container").merge(d)).attr("transform",function(t){return"translate("+t.left+","+t.top+")"}).attr("id",function(t){return t.id}),this.scale=(this._scale?this._scale():cd()).domain(this._domain).range([0,s]),null==this._value||this._value<this._domain[0]?this._value=this._domain[0]:this._value>this._domain[1]&&(this._value=this._domain[1]),this._snap&&(this._value=dd(this._snap,this._value));var p,_=[];this._axis&&(p="boolean"!=typeof this._axis?this._axis(this.scale):function(t){return mh(dh,t)}().scale(this.scale).tickPadding(6),this._ticks&&p.ticks(this._ticks),this._tickFormat&&p.tickFormat(this._tickFormat),this._tickSize?p.tickSize(this._tickSize):p.tickSize(Math.max(5,this._handleRadius-this._channelHeight-2)),_.push(p));var g,y,v,m,b=d.selectAll(".slider-axis").data(_).enter();function x(){document.removeEventListener("mouseup",x,!1),document.removeEventListener("mousemove",w,!1)}function w(t){T(t.clientX-v)}function k(){document.removeEventListener("touchend",k,!1),document.removeEventListener("touchmove",M,!1)}function M(t){1==t.touches.length&&T(t.touches[0].clientX-v)}function T(t){var e=m+t,n=Math.max(0,Math.min(s,e)),r=i.scale.invert(n);i._snap&&(r=dd(i._snap,r)),y.attr("cx",i.scale(r)),r!=i._value&&(i._value=r,i.fire("change",i._value))}b.append("g").attr("class","slider-axis").attr("transform","translate(0,"+this._channelHeight/2+")").each(function(t){t(vi(this))}),b.select(".domain").attr("fill","none"),b.selectAll(".tick line").attr("stroke","black"),b.exit().remove(),(g=d.selectAll(".slider-channel").data([{width:f,height:this._channelHeight,channel_r:a}])).exit().remove(),(g=g.enter().append("rect").attr("class","slider-channel").attr("cursor","pointer").on("click",function(){var t=Math.max(0,Math.min(s,Mi(this)[0]));i._value=i.scale.invert(t),i._snap&&(i._value=dd(i._snap,i._value)),y.attr("cx",i.scale(i._value)),i.fire("change",i._value)}).merge(g)).attr("width",function(t){return t.width}).attr("fill",this._channelFill).attr("height",function(t){return t.height}).attr("y",function(t){return-t.height/2}).attr("x",function(t){return-t.channel_r}).attr("rx",function(t){return t.channel_r}),(y=(y=d.selectAll(".slider-handle").data([{v:this._value,x:this.scale(this._value)}])).enter().append("circle").attr("class","slider-handle").attr("cursor","col-resize").merge(y)).attr("cx",function(t){return t.x}).attr("r",this._handleRadius).attr("fill",this._handleFill).on("mousedown",function(){li.preventDefault(),function(t){document.addEventListener("mouseup",x,!1),document.addEventListener("mousemove",w,!1),v=t.clientX,m=i.scale(i._value)}(li)}).on("touchstart",function(){li.preventDefault(),function(t){1==t.touches.length&&(document.addEventListener("touchend",k,!1),document.addEventListener("touchmove",M,!1),v=t.touches[0].clientX,m=i.scale(i._value))}(li)});var S=[];this._label&&S.push({label:this._label,x:s/2,y:-h,font_size:this._labelSize});var A=d.selectAll(".slider-label").data(S);A.exit().remove(),(A=A.enter().append("text").attr("class","slider-label").attr("text-anchor","middle").attr("cursor","default").merge(A)).text(function(t){return t.label}).attr("x",function(t){return t.x}).attr("y",function(t){return t.y}).attr("font-size",this._labelSize);var E=[];this._startLabel&&E.push({label:this._startLabel,x:this._startLabelBelow?0:-(a+5+Math.max(0,this._handleRadius-a)),y:this._startLabelBelow?a+15:this._startEndLabelSize/1.75-a/2,anchor:this._startLabelBelow?"middle":"end",font_size:this._startEndLabelSize}),this._endLabel&&E.push({label:this._endLabel,x:this._endLabelBelow?s:s+(a+Math.max(0,this._handleRadius-a)+5),y:this._startLabelBelow?a+15:this._startEndLabelSize/1.75-a/2,anchor:this._endLabelBelow?"middle":"start",font_size:this._startEndLabelSize});var N=d.selectAll(".slider-end-labels").data(E);return N.exit().remove(),(N=N.enter().append("text").attr("class","slider-end-labels").attr("pointer-events","none").merge(N)).text(function(t){return t.label}).attr("font-size",function(t){return t.font_size}).attr("x",function(t){return t.x}).attr("y",function(t){return t.y}).attr("text-anchor",function(t){return t.anchor}),this},pd.version="1.4.2",Object.freeze({alignment:"start",controls_spacing:1});var gd=Object.freeze({control_type:"dropdown",control_title:"",dropdown_width_mode:"auto",dropdown_width_fixed:20,button_group:!0,button_group_width_mode:"fixed",button_group_width_fixed:20,slider_width:15,slider_handle_color:null,slider_font_color:null,slider_background_color:"#dddddd",slider_handle_height:1,slider_track_height:.2,slider_margin:4.5,slider_play_button:!0,slider_step_time:2,slider_loop:!0,slider_restart_pause:0,sort:!1,_index_:null,_is_playing_:!1});function yd(t){return t}function vd(t){return null==t?"":t.toString()}function md(e){var r={},n=yd,i=vd,o=!0,a=[],t=[],u=[],c=document.createElement("div");c.setAttribute("class","fl-controls-container");var l=vi(c).append("div").attr("class","fl-controls-title"),s=function(u,c,n){function l(t){var e="100%";"auto"==c.dropdown_width_mode?e=Math.min(t+40,oh(20))+oh(1)+"px":"fixed"==c.dropdown_width_mode&&(e=oh(c.dropdown_width_fixed)+"px"),n.style.width="full"==c.dropdown_width_mode?e:"",r.style("width",e).style("display","full"!==c.dropdown_width_mode?"inline-table":null)}function s(){r.style("display","none")}var f={},r=vi(n).append("div").attr("class","fl-control fl-control-dropdown").style("display","none"),h=r.append("select").on("change",function(){var t=h.select("option:checked").datum().options_index;u.index(t),u.trigger("change")});return f.show=l,f.hide=s,f.update=function(t,e){var n=window.getComputedStyle(h.node()).fontSize;if(!u.n_options||"dropdown"!==c.control_type)return s(),f;var r=h.selectAll("option").data(t,function(t){return t.value});r.exit().remove();var i=r.enter().append("option").text(function(t){return t.display}).attr("value",function(t){return t.value}),o=0,a=n+" sans-serif";return"auto"===c.dropdown_width_mode&&r.merge(i).each(function(t){var e=ah(t.display,a);o=Math.max(o,e)}),h.node().value=u.value(),e?l(o):s(),f},f}(r,e,c),f=function(a,u,t){function c(){f.classed("hidden",!1)}function l(){f.classed("hidden",!0)}var s={},f=vi(t).append("div").attr("class","fl-control fl-control-buttons");return s.show=c,s.hide=l,s.update=function(t,e){if(!a.n_options||"buttons"!==u.control_type)return l(),s;var n=a.index();f.classed("grouped",u.button_group),f.classed("fixed-width","fixed"==u.button_group_width_mode||"full"==u.button_group_width_mode),f.style("width",u.button_group&&"fixed"==u.button_group_width_mode?oh(u.button_group_width_fixed)+"px":"full"==u.button_group_width_mode?"100%":null);function r(t){var e=t.options_index;e!==a.index()&&(a.index(e),a.trigger("change"))}var i=f.selectAll(".button").data(t,function(t){return t.display}),o=i.enter().append("div").attr("class","button").style("cursor","pointer").attr("role","button").attr("tabindex",0).on("click",function(t){r(t)}).on("keyup",function(t){"Space"!==li.code&&"Enter"!==li.code||(li.preventDefault(),r(t))});o.append("span").text(function(t){return t.display}),i.merge(o).classed("selected",function(t){return t.options_index===n}).attr("aria-pressed",function(t){return t.options_index===n}),i.exit().remove(),e?c():l()},s}(r,e,c),h=_d(r,e,c);for(var d in gd)void 0===e[d]&&(e[d]=gd[d]);var p=e._index_;r.appendTo=function(t){return rh(),vi(t).node().appendChild(c),r};r.remove=function(){return c.parentElement&&c.parentElement.removeChild(c),r},r.options=function(t){if(void 0===t)return a.slice();if(!Array.isArray(t))return r;var e=(a=t.slice()).length,n=_();return e?(null===n||e<=n)&&_(0):_(null),r},Object.defineProperty(r,"n_options",{get:function(){return a.length}});var _=function(t){return void 0===t?(e._is_playing_||(p=e._index_),p):(null===t||function(t){return a.length&&0<=t&&t<a.length}(t)?(p=t,e._is_playing_||(e._index_=p)):console.warn("Invalid index, ignoring update call"),r)};r.index=_,r.getSortedIndex=function(){var n,r=_();return"unsorted"==e.sort?r:(t.some(function(t,e){if(t.options_index===r)return n=e,!0}),n)},r.value=function(t){if(void 0===t)return a[_()];var e=a.indexOf(t);return-1!==e&&_(e),r},r.on=function(t,e){return"change"===t&&u.push(e.bind(r)),r},r.parse=function(t){return void 0===t?n:(n=null===t?yd:t,r)},r.format=function(t){return void 0===t?i:(i=null===t?vd:t,r)},r.visible=function(t){return void 0===t?o:(o=null===t||t,r)},r.update=function(){return function(){var e=parseFloat(getComputedStyle(document.documentElement).fontSize)||16;oh=function(t){return t*e}}(),function(t){c.style.display=1<t.length?null:"none",c.style.width="",l.node().innerHTML=e.control_title,l.node().style.display=""===e.control_title?"none":"inline-block",h.update(t,o),s.update(t,o),f.update(t,o)}(t=function(t,e,n,r){var i=t.map(function(t,e){return{value:t,options_index:e,parsed:n(t),display:r(t)}});return e?i.sort(function(t,e){return function(t,e){return t<e?-1:e<t?1:e<=t?0:NaN}(t.parsed,e.parsed)}):i}(a,e.sort,n,i)),r},r.trigger=function(t){return"change"===t&&function(){var e=_(),n=a[e];u.forEach(function(t){t(n,e)})}(),r},r.getNode=function(){return c};return r._isPlaying_=function(t){if(void 0===t)return e._is_playing_;e._is_playing_=!!t,t||_(p)},r}function bd(){return this.declarations=[],this}function xd(t){return this.selector=t,this.styles=[],this}bd.prototype.select=function(t){if(!t)return this;var e=new xd(t,this);return(e.parent=this).addDeclaration(e),e},bd.prototype.addDeclaration=function(t){return this.declarations.push(t),this},bd.prototype.print=function(){var e="";return this.declarations.forEach(function(t){e+=t.selector+" {\n",t.styles.forEach(function(t){e+="\t"+t[0]+": "+t[1]+";\n"}),e+="}\n\n"}),e},bd.prototype.clear=function(){return this.declarations=[],this},xd.prototype.style=function(t,e){var n="function"==typeof value_?e():e;return""!==n&&null!=n&&this.styles.push([t,n]),this},xd.prototype.select=function(t){return this.parent.select(this.selector+" "+t)};var wd=Object.freeze({font_size:1,font_weight:"bold",height:2});function kd(t,e,n){for(var r in this._state=t,wd)void 0===this._state[r]&&(this._state[r]=wd[r]);return this._layout=n||{},this._styles=new bd,this._selector=e,this._createStylesheet(),this}function Md(t,e){var n=function(t,e){if("string"!=typeof t)return!1;var n=aa(t);return n.opacity=void 0!==e?e:1,n}(t,e);return!!n&&n.toString()}kd.prototype._createStylesheet=function(){this._stylesheet=document.createElement("style"),this._stylesheet.className="fl-ui-styles-controls",document.head.appendChild(this._stylesheet)},kd.prototype.update=function(){this._styles.clear(),this._styles.select(this._selector+".hidden").style("display","none"),this._styles.select(this._selector).style("vertical-align","middle").style("position","relative").style("font-size",this._state.font_size+"rem").style("font-weight",this._state.font_weight),this._styles.select(".fl-controls-title").style("font-size",this._state.font_size+"rem").style("font-weight",this._state.font_weight).style("vertical-align","middle"),this._styles.select(this._selector+".fl-control .button").style("height",this._state.height+"rem").style("padding","0 0.5em"),this._styles.select(this._selector+"-dropdown select").style("height",this._state.height+"rem").style("font-size",this._state.font_size+"rem").style("font-weight",this._state.font_weight).style("padding","0 "+.1*this._state.height+"rem"),this._styles.select(this._selector+"-slider .slider-end-labels").style("font-size",this._state.font_size+"rem").style("font-weight",this._state.font_weight),this._styles.select(this._selector+"-slider").style("height",this._state.height+"rem"),this._stylesheet.innerHTML=this._styles.print()},document.createElement("canvas").getContext("2d");var Td=Object.freeze({background:null,font_color:null,background_selected:"#2886b2",font_color_selected:"#ffffff",background_hover:null,font_color_hover:null,border_width:1,border_transparency:.25,border_color:null,border_radius:3});function Sd(t,e,n){for(var r in this._state=t,Td)void 0===this._state[r]&&(this._state[r]=Td[r]);return this._layout=n||{},this._styles=new bd,this._selector=e,this._createStylesheet(),this}Sd.prototype._createStylesheet=function(){this._stylesheet=document.createElement("style"),this._stylesheet.className="fl-ui-styles-button",document.head.appendChild(this._stylesheet)},Sd.prototype.update=function(){this._styles.clear();var t=this._state.background||this._layout.background_color||"#ffffff",e=this._state.font_color||this._layout.font_color||"#333333",n=Md(this._state.border_color||e,this._state.border_transparency);this._styles.select(this._selector+".fl-control.hidden").style("display","none"),this._styles.select(this._selector+".fl-control .button").style("overflow","hidden").style("white-space","nowrap").style("margin","0 2px 0 0 !important").style("background-color",t).style("color",e).style("border",this._state.border_width+"px solid "+n).style("border-radius",this._state.border_radius+"px"),this._styles.select(this._selector+".fl-control .button:hover").style("background-color",this._state.background_hover||t).style("color",this._state.font_color_hover||e),this._styles.select(this._selector+".fl-control .button.selected").style("background-color",this._state.background_selected).style("color",this._state.font_color_selected),this._styles.select(this._selector+".grouped.fl-control .button").style("border-right","none").style("border-radius","0").style("margin","0"),this._styles.select(this._selector+".grouped.fl-control .button:first-child").style("border-radius",this._state.border_radius+"px 0 0 "+this._state.border_radius+"px"),this._styles.select(this._selector+".grouped.fl-control .button:last-child").style("border-radius","0 "+this._state.border_radius+"px "+this._state.border_radius+"px 0").style("border-right",this._state.border_width+"px solid "+n),this._styles.select(this._selector+".grouped.fl-control.fixed-width:not(.hidden)").style("width",this._state.grouped_width+"%"),this._stylesheet.innerHTML=this._styles.print()};var Ad,Ed=Object.freeze({background:null,font_color:null,border_style:"bottom",border_width:1,border_color:null,border_transparency:.25,border_radius:3});function Nd(t,e,n){for(var r in this._state=t,Ed)void 0===this._state[r]&&(this._state[r]=Ed[r]);return this._layout=n||{},this._styles=new bd,this._selector=e,this._createStylesheet(),this}Nd.prototype._createStylesheet=function(){this._stylesheet=document.createElement("style"),this._stylesheet.className="fl-ui-styles-dropdown",document.head.appendChild(this._stylesheet)},Nd.prototype.update=function(){this._styles.clear();var t=this._state.background||this._layout.background_color||"#ffffff",e=this._state.font_color||this._layout.font_color||"#333333",n=Md(this._state.border_color||e,this._state.border_transparency);this._styles.select(this._selector+" .heading").style("margin-bottom","0.4em"),this._styles.select(this._selector).style("pointer-events","all"),this._styles.select(this._selector+" select").style("display","inline-block").style("cursor","pointer").style("overflow","hidden").style("white-space","nowrap").style("position","relative").style("font-family","inherit").style("background-color",t).style("color",e).style("border","bottom"==this._state.border_style?this._state.border_width+"px solid transparent":this._state.border_width+"px solid "+n).style("border-bottom","bottom"==this._state.border_style?this._state.border_width+"px solid "+n:null).style("border-radius","bottom"==this._state.border_style?null:this._state.border_radius+"px"),this._styles.select(this._selector+":after").style("right","bottom"==this._state.border_style?null:this._state.border_width+5+"px"),this._styles.select(this._selector+" .main .current").style("line-height","1em").style("height","100%").style("max-width","88%").style("display","inline-block").style("overflow","hidden").style("vertical-align","top"),this._styles.select(this._selector+" .list").style("top","2px").style("min-width","100%").style("padding","2px").style("display","none").style("max-height","200px").style("overflow-y","auto").style("box-shadow","0 1px 4px rgba(0, 0, 0, .1)").style("margin-top","2px").select(".list-item").style("line-height","1em").style("cursor","pointer").style("font-weight","normal").style("color",e),this._styles.select(this._selector+".open .list").style("display","block").style("border",this._state.border_width+"px solid "+n).style("background-color",t).style("z-index","1").style("animation","dropdown-out 200ms"),this._styles.select(this._selector+" .list-item:hover").style("opacity","0.6"),this._styles.select(this._selector+" .list-item.selected, "+this._selector+" .list-item.selected:hover").style("opacity","1").style("cursor","default"),"bottom"==this._state.border_style&&this._styles.select(this._selector+" .main").style("padding-left",0).style("padding-right","0.1rem"),this._stylesheet.innerHTML=this._styles.print()};var Cd,Od,zd,jd,Dd,Fd,Pd,Ld,Rd,Ud,Id,Hd=Object.freeze({"stack-default":["header","controls","primary","footer"],"stack-2":["primary","header","controls","footer"],"stack-3":["header","primary","controls","footer"],"stack-4":["controls","primary","header","footer"]});function qd(t){return"string"==typeof t&&null!=t.match(/^(https?:\/\/|data:)/i)}function Yd(t){return window.innerWidth!==Cd&&(Cd=window.innerWidth,Od=parseFloat(getComputedStyle(document.documentElement).fontSize)),t*Od}function Bd(t){return"justify"==t?"":"left"==t?"start":"right"==t?"end":"center"==t?"center":void 0}document.createElement("canvas").getContext("2d");var $d=!1;function Vd(t){return 0!==t.indexOf("http://")&&0!==t.indexOf("https://")?"http://"+t:t}function Wd(){return function(){var t=document.createElement("style");t.type="text/css",t.innerHTML=".flourish-footer { margin: 0; } .flourish-footer p { margin: 0; display: inline; } .flourish-footer p:empty { height: 0; } .flourish-footer a { color: inherit; }",document.head.appendChild(t)}(),(Ld=document.createElement("footer")).className="flourish-footer",(Rd=document.createElement("div")).className="flourish-footer-text",(Id=document.createElement("a")).target="_blank",(Ud=document.createElement("img")).className="flourish-footer-logo",Id.appendChild(Ud),Ld.appendChild(Rd),Ld.appendChild(Id),Ld}function Xd(){return Kd.background_color_enabled&&!function(t){if(t){var e=aa(t);return 195<Math.round(299*e.r+587*e.g+114*e.b)/1e3}console.warn("No valid color",t)}(Kd.background_color)}function Gd(){var t=qd(Kd.footer_logo_src)?Kd.footer_logo_src:"";return qd(Kd.footer_logo_src_light)&&Xd()&&(t=Kd.footer_logo_src_light),t}function Zd(){return Kd.footer_logo_enabled&&Gd()}function Qd(t){t||function(){var i="";["mobile_small","mobile_big","tablet","desktop","big_screen"].forEach(function(t,e){var n="@media(min-width: "+Kd["breakpoint_"+t]+"px) {\n",r="html { font-size:"+Kd["font_size_"+t]+"%; }";i+=(0==e?"":n)+r+(0==e?"":"\n}")+"\n\n"}),Ad.innerHTML=i;var t=[Kd.body_font,Kd.title_font,Kd.subtitle_font,Kd.footer_font];t.forEach(function(t){if(t){for(var e=!1,n=document.head.querySelectorAll("link.layout-font"),r=0;r<n.length;r++){n[r].href==t.url&&(e=!0)}if(!e){var i=document.createElement("link");i.setAttribute("rel","stylesheet"),i.setAttribute("href",t.url),i.className="layout-font",document.head.appendChild(i)}}});for(var e=document.head.querySelectorAll("link.layout-font"),n=0;n<e.length;n++){var r=e[n],o=!1;t.forEach(function(t){t&&t.url==r.href&&(o=!0)}),o||r.parentElement.removeChild(r)}document.body.style.fontFamily=Kd.body_font.name}(),zd.style.textAlign=Bd(Kd.header_align),zd.style.margin=0,zd.style.borderTop="top"==Kd.header_border?Kd.header_border_width+"px "+Kd.header_border_style+" "+Kd.header_border_color:null,zd.style.borderBottom="bottom"==Kd.header_border?Kd.header_border_width+"px "+Kd.header_border_style+" "+Kd.header_border_color:null,zd.style.paddingTop="top"==Kd.header_border?Kd.header_border_space+"rem":"",zd.style.paddingBottom="bottom"==Kd.header_border?Kd.header_border_space+"rem":"",jd.innerHTML=Kd.title?Kd.title:"",jd.style.fontFamily=Kd.title_font?Kd.title_font.name:"inherit",jd.style.fontSize=("custom"!=Kd.title_size?Kd.title_size:Kd.title_size_custom)+"rem",jd.style.lineHeight=Kd.title_line_height,jd.style.fontWeight=Kd.title_weight,jd.style.color=Kd.title_color||Kd.font_color,jd.style.margin=0,jd.style.paddingTop=Kd.title?("custom"==Kd.title_space_above?Kd.title_space_above_custom:Kd.title_space_above)+"rem":0,Dd.innerHTML=Kd.subtitle?Kd.subtitle:"",Dd.style.fontFamily=Kd.subtitle_font?Kd.subtitle_font.name:"inherit",Dd.style.fontSize=("custom"!=Kd.subtitle_size?Kd.subtitle_size:Kd.subtitle_size_custom)+"rem",Dd.style.lineHeight=Kd.subtitle_line_height,Dd.style.fontWeight=Kd.subtitle_weight,Dd.style.color=Kd.subtitle_color||Kd.font_color,Dd.style.margin=0,Dd.style.paddingTop=Kd.subtitle?("custom"==Kd.subtitle_space_above?Kd.subtitle_space_above_custom:Kd.subtitle_space_above)+"rem":0,Fd.innerHTML=Kd.header_text?Kd.header_text:"",Fd.style.fontSize=("custom"!=Kd.header_text_size?Kd.header_text_size:Kd.header_text_size_custom)+"rem",Fd.style.lineHeight=Kd.header_text_line_height,Fd.style.fontWeight=Kd.header_text_weight,Fd.style.margin=0,Fd.style.color=Kd.header_text_color||Kd.font_color,Fd.style.paddingTop=Kd.header_text?("custom"==Kd.header_text_space_above?Kd.header_text_space_above_custom:Kd.header_text_space_above)+"rem":0,Pd.style.display=Kd.header_logo_enabled&&qd(Kd.header_logo_src)?"":"none",Pd.style.position="inside"==Kd.header_logo_align?"":"fixed",Pd.style.height=Kd.header_logo_height+"rem",Pd.style.top="outside"==Kd.header_logo_align?0:"",Pd.style.left="outside"==Kd.header_logo_align&&"left"==Kd.header_logo_position_outside?0:"",Pd.style.right="outside"==Kd.header_logo_align&&"right"==Kd.header_logo_position_outside?0:"",Pd.style.marginTop=Kd.header_logo_margin_top+"rem",Pd.style.marginBottom=Kd.header_logo_margin_bottom+"rem",Pd.style.marginLeft=Kd.header_logo_margin_left+"rem",Pd.style.marginRight=Kd.header_logo_margin_right+"rem",Pd.style.float="top"==Kd.header_logo_position_inside||"outside"==Kd.header_logo_align?"":Kd.header_logo_position_inside,Pd.style.width="auto",Pd.src=qd(Kd.header_logo_src)?Kd.header_logo_src:"",function(){var t=[{name:Kd.source_name,url:Kd.source_url},{name:Kd.multiple_sources?Kd.source_name_2:"",url:Kd.multiple_sources?Kd.source_url_2:""},{name:Kd.multiple_sources?Kd.source_name_3:"",url:Kd.multiple_sources?Kd.source_url_3:""}].filter(function(t){return t.name||t.url});$d=0<t.length||Kd.footer_note||Kd.footer_note_secondary||Zd(),Ld.style.display="flex",Ld.style.height=$d?null:0,Ld.style.width="100%",Ld.style.paddingTop="top"==Kd.footer_border?Kd.footer_border_space+"rem":"",Ld.style.paddingBottom="bottom"==Kd.footer_border?Kd.footer_border_space+"rem":"",Ld.style.borderTop="top"==Kd.footer_border?Kd.footer_border_width+"px "+Kd.footer_border_style+" "+Kd.footer_border_color:"",Ld.style.borderBottom="bottom"==Kd.footer_border?Kd.footer_border_width+"px "+Kd.footer_border_style+" "+Kd.footer_border_color:"",Ld.style.fontFamily=Kd.footer_font?Kd.footer_font.name:"inherit",Ld.style.fontWeight=Kd.footer_text_weight,Ld.style.justifyContent=function(t){return"justify"==t?"space-between":"left"==t?"flex-start":"right"==t?"flex-end":"center"==t?"center":void 0}(Kd.footer_align),Ld.style.fontSize=Kd.footer_text_size+"rem",Ld.style.color=Kd.footer_text_color||Kd.font_color,Ld.style.alignItems=Kd.footer_align_vertical;var i=document.createElement("span");t.forEach(function(t,e){var n=document.createElement("p");if(0<e&&(n.innerText=", "),t.url){var r=document.createElement("a");r.innerText=t.name||t.url,r.href=Vd(t.url),r.target="_blank",n.appendChild(r)}else n.innerText+=t.name||t.url;i.innerHTML+=n.innerHTML}),Rd.style.order="left"==Kd.footer_logo_order?2:"",Rd.style.textAlign=Bd(Kd.footer_align);var e="<p>";e+=""!==i.innerHTML?Kd.source_label+" "+i.innerHTML:"",e+=Kd.footer_note?(""!==i.innerHTML?" â¢ ":"")+Kd.footer_note:"",e+="</p>",e+=Kd.footer_note_secondary?"<br /><p>"+Kd.footer_note_secondary+"</p>":"",Rd.innerHTML=e,Ud.src=Gd(),Ud.style.height=Kd.footer_logo_height+"rem",Ud.style.marginLeft="right"==Kd.footer_logo_order?Kd.footer_logo_margin+"rem":"",Ud.style.marginRight="left"==Kd.footer_logo_order?Kd.footer_logo_margin+"rem":"",Ud.style.verticalAlign=Kd.footer_align_vertical,Ud.style.display=Zd()?"":"none",Id.href=""==Kd.footer_logo_link_url?"":Vd(Kd.footer_logo_link_url),Id.style.cursor=""==Kd.footer_logo_link_url?"default":"pointer"}(),document.body.style.backgroundColor=Kd.background_color_enabled?Kd.background_color:"transparent",document.body.style.backgroundImage=Kd.background_image_enabled?"url("+Kd.background_image_src+")":"",document.body.style.backgroundSize=Kd.background_image_size,document.body.style.backgroundRepeat="no-repeat",document.body.style.backgroundPosition=Kd.background_image_position;var e=rp.wrapper.style;e.height="100vh",e.color=Kd.font_color,e.maxWidth="wrapper"==Kd.max_width_target?Kd.max_width+"px":"",e.marginLeft="wrapper"==Kd.max_width_target&&"left"!=Kd.max_width_align?"auto":"",e.marginRight="wrapper"==Kd.max_width_target&&"right"!=Kd.max_width_align?"auto":"",e.padding=Kd.margin_top+"rem "+Kd.margin_right+"rem "+Kd.margin_bottom+"rem "+Kd.margin_left+"rem",e.borderTop=Kd.border.enabled?Kd.border.top.width+"px "+Kd.border.top.style+" "+Kd.border.top.color:"",e.borderRight=Kd.border.enabled?Kd.border.right.width+"px "+Kd.border.right.style+" "+Kd.border.right.color:"",e.borderBottom=Kd.border.enabled?Kd.border.bottom.width+"px "+Kd.border.bottom.style+" "+Kd.border.bottom.color:"",e.borderLeft=Kd.border.enabled?Kd.border.left.width+"px "+Kd.border.left.style+" "+Kd.border.left.color:"";var n=rp.primary.outer.style,r=rp.legend.outer.style,i=parseFloat(n.order)>parseFloat(r.order)?"above":"below";Hd[Kd.layout_order].forEach(function(t,e){rp[t].outer.style.order=10*e}),n.flex="1 1 auto",n.height=null,xp(i),r.textAlign=Bd(Kd.header_align),rp.controls.outer.style.textAlign=Bd(Kd.header_align),rp.primary.outer.style.maxWidth="primary"==Kd.max_width_target?Kd.max_width+"px":"",rp.primary.outer.style.marginLeft="primary"==Kd.max_width_target&&"left"!=Kd.max_width_align?"auto":"",rp.primary.outer.style.marginRight="primary"==Kd.max_width_target&&"right"!=Kd.max_width_align?"auto":"";var o=Kd.screenreader_hide_primary&&""!=Kd.screenreader_text_primary;document.getElementById("fl-layout-primary-description").innerText=Kd.screenreader_hide_primary?Kd.screenreader_text_primary:"",o?rp.primary.outer.setAttribute("aria-describedBy","fl-layout-primary-description"):rp.primary.outer.removeAttribute("aria-describedBy"),Kd.screenreader_hide_primary?rp.primary.inner.setAttribute("aria-hidden",!0):rp.primary.inner.removeAttribute("aria-hidden");var a=("custom"==Kd.space_between_sections?Kd.space_between_sections_custom:Kd.space_between_sections)/2+"rem";np.map(function(t){var e=rp[t],n=e.outer.style;return{name:t,height:op(e.inner),order:parseFloat(n.order),style:n}}).sort(function(t,e){return t.order-e.order}).filter(function(t){if(t.height)return!0;t.style.paddingBottom="",t.style.paddingTop=""}).forEach(function(t,e,n){t.style.paddingTop=e?a:"",t.style.paddingBottom=e<n.length-1?a:""}),document.body.setAttribute("dir",Kd.read_direction)}var Jd=Object.freeze({body_font:{name:"Source Sans Pro",url:"https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,700"},title_font:null,subtitle_font:null,footer_font:null,read_direction:"ltr",border:{enabled:!1,top:{width:1,color:"#dddddd",style:"solid"},right:{width:1,color:"#dddddd",style:"solid"},bottom:{width:1,color:"#dddddd",style:"solid"},left:{width:1,color:"#dddddd",style:"solid"}},layout_order:"stack-default",margin_top:.75,margin_right:.75,margin_bottom:.75,margin_left:.75,space_between_sections:1,space_between_sections_custom:1,background_color_enabled:!0,background_color:"#ffffff",background_image_enabled:!1,background_image_src:"",background_image_size:"cover",background_image_position:"center center",max_width:600,max_width_target:"none",max_width_align:"center",breakpoint_mobile_small:0,breakpoint_mobile_big:380,breakpoint_tablet:580,breakpoint_desktop:1080,breakpoint_big_screen:1280,font_color:"#333333",font_size_mobile_small:62.5,font_size_mobile_big:75,font_size_tablet:87.5,font_size_desktop:100,font_size_big_screen:120,header_align:"left",header_border:"none",header_border_width:1,header_border_color:"#dddddd",header_border_style:"solid",header_border_space:.5,header_logo_enabled:!1,header_logo_align:"inside",header_logo_src:"",header_logo_height:3,header_logo_position_inside:"left",header_logo_position_outside:"left",header_logo_margin_top:.25,header_logo_margin_right:.5,header_logo_margin_bottom:0,header_logo_margin_left:0,title:"",title_size:1.6,title_size_custom:1.6,title_line_height:1.2,title_color:null,title_weight:"bold",title_space_above:0,title_space_above_custom:1.5,title_styling:!1,subtitle:"",subtitle_size:1.6,subtitle_size_custom:1.6,subtitle_line_height:1.2,subtitle_color:null,subtitle_weight:"normal",subtitle_space_above:0,subtitle_space_above_custom:1.5,subtitle_styling:!1,header_text:"",header_text_size:1.2,header_text_size_custom:1.2,header_text_line_height:1.2,header_text_color:null,header_text_weight:"normal",header_text_space_above:.5,header_text_space_above_custom:1.5,source_label:"Source: ",source_name:"",source_url:"",source_name_2:"",source_url_2:"",source_name_3:"",source_url_3:"",footer_note:"",footer_note_secondary:"",footer_text_size:1,footer_text_color:null,footer_styling:!1,footer_text_weight:"normal",footer_align:"justify",footer_align_vertical:"center",footer_border:"none",footer_border_width:1,footer_border_color:"#dddddd",footer_border_style:"solid",footer_border_space:.5,footer_logo_enabled:!1,footer_logo_src:"",footer_logo_src_light:"",footer_logo_link_url:"",footer_logo_height:1.5,footer_logo_margin:.25,footer_logo_order:"right",screenreader_hide_primary:!0,screenreader_text_primary:""});var Kd,tp,ep="Your web browser does not support the features used by this content. Consider updating to a modern browser.",np=["header","controls","legend","primary","footer"],rp={};function ip(t){return t.getBoundingClientRect().width}function op(t){return t.getBoundingClientRect().height}function ap(t,e){var n="fl-layout-"+t,r=document.createElement("section");r.className="fl-layout-container",r.id=n+"-container",r.style.width="100%",r.style.position="relative",r.style.order=e;var i=document.createElement("div");return i.className="fl-layout-inner",i.id=n,i.style.width="100%",i.style.position="relative","primary"==t&&(r.style.display="flex",function(t){var e=document.createElement("p");e.id="fl-layout-primary-description";var n=e.style;n.border="0",n.height="1px",n.width="1px",n.margin="-1px",n.overflow="hidden",n.padding="0",n.position="absolute",n.clip="rect(0 0 0 0)",t.appendChild(e)}(r)),"controls"!=t&&"legend"!=t||i.setAttribute("aria-hidden",!0),r.appendChild(i),rp.wrapper.appendChild(r),{outer:r,inner:i}}function up(){return rp.wrapper}function cp(){return rp.sidebar}function lp(t){return-1!==np.indexOf(t)?rp[t].inner:null}function sp(t){return rp[t]||void 0===t?ip("wrapper"==t||void 0===t?rp.wrapper:rp[t].outer):null}function fp(t){return rp[t]||void 0===t?"wrapper"==t||void 0===t?ip(rp.wrapper)-vp("horizontal")-mp("horizontal"):ip(rp[t].inner):null}function hp(t){return rp[t]||void 0===t?op("wrapper"==t||void 0===t?rp.wrapper:rp[t].outer):null}function dp(t){return rp[t]||void 0===t?"wrapper"==t||void 0===t?op(rp.wrapper)-vp("vertical")-mp("vertical"):op(rp[t].inner):null}function pp(){return op(rp.primary.outer)-gp(rp.primary.outer)}function _p(){return ip(rp.primary.inner)}function gp(t){return(parseFloat(getComputedStyle(t).paddingTop)||0)+(parseFloat(getComputedStyle(t).paddingBottom)||0)}function yp(){return function(){if(Flourish.fixed_height)return window.innerHeight;var t=window.innerWidth;return 999<t?650:599<t?575:400}()-vp("vertical")-mp("vertical")-["header","controls","legend","footer"].reduce(function(t,e){return t+hp(e)},0)-gp(rp.primary.outer)}function vp(t){var e;return"left"==t?e=Kd.margin_left:"right"==t?e=Kd.margin_right:"top"==t?e=Kd.margin_top:"bottom"==t?e=Kd.margin_bottom:"horizontal"==t?e=Kd.margin_left+Kd.margin_right:"vertical"==t&&(e=Kd.margin_top+Kd.margin_bottom),Yd(e)}function mp(t){return Kd.border.enabled?"vertical"==t?Kd.border.top.width+Kd.border.bottom.width:"horizontal"==t?Kd.border.left.width+Kd.border.right.width:null:0}function bp(t){var e=rp.primary;if(Flourish.fixed_height||void 0===Flourish.fixed_height)e.inner.style.height="";else{var n=null===t,r=n?yp():t;r+gp(rp.primary.outer)!==parseFloat(e.outer.style.height)&&(rp.wrapper.style.height="",e.outer.style.flex="",e.inner.style.height=r+"px",Flourish.setHeight(n?null:hp()))}}function xp(t){var e=parseFloat(rp.primary.outer.style.order);rp.legend.outer.style.order=e+1*("below"===t.trim().toLowerCase()?1:-1)}function wp(t){var e=tp.querySelector(".fl-layout-overlay-message");if(t){tp.style.display="block";var n="string"==typeof t?t:ep;e.innerHTML=n}else e.textContent="",tp.style.display="none"}function kp(){return tp}var Mp=g(function(){Ce(1)});function Tp(e,n){return Object.keys(n).forEach(function(t){void 0===e[t]&&(e[t]=n[t])}),e}ft({target:"Object",stat:!0,forced:Mp},{keys:function(t){return Ce(x(t))}});var Sp=Object.freeze({axis_position:"bottom",y_axis_position:"",numeric_scale_type:"linear",nice:!0,flip:!1,zero_axis:"auto",linear_min:null,linear_max:null,log_min:null,log_max:null,datetime_min:"",datetime_max:"",line_visible:!0,line_and_tick_color:"#eeeeee",line_and_tick_width:.1,tick_side:"out",tick_mode:"auto",tick_number:5,tick_custom:"",tick_length:.5,tick_padding:.25,edge_padding:50,tick_label_position:"default",tick_label_size:.9,tick_label_color:"#aaaaaa",tick_label_angle:"45",tick_label_weight:"normal",tick_label_space_mode:"auto",tick_label_space:10,tick_label_max_lines:2,tick_label_line_height:1.1,gridlines_visible:!1,gridline_color:"#eeeeee",gridline_width:.1,gridline_style:"solid",gridline_category_dividers:!1,gridline_category_dividers_extend:!1,title_mode:"auto",title:"",title_color:"#aaaaaa",title_size:1.1,title_weight:"normal",title_padding:.6}),Ap=Object.freeze({axis_visible:!0,numeric_scale_type:"linear",nice:!0,flip:!1,zero_axis:"auto",linear_min:null,linear_max:null,log_min:null,log_max:null,datetime_min:"",datetime_max:"",line_visible:!0,line_and_tick_color:"#eeeeee",line_and_tick_width:.1,tick_side:"out",tick_mode:"auto",tick_number:5,tick_custom:"",tick_length:.5,tick_padding:.25,edge_padding:50,tick_label_position:"default",tick_label_size:.9,tick_label_color:"#aaaaaa",tick_label_angle:"0",tick_label_weight:"normal",tick_label_space_mode:"auto",tick_label_space:10,tick_label_max_lines:2,tick_label_line_height:1.1,gridlines_visible:!0,gridline_color:"#eeeeee",gridline_width:.1,gridline_style:"solid",gridline_category_dividers:!1,gridline_category_dividers_extend:!1,title_mode:"auto",title:"",title_position:"side",title_color:"#aaaaaa",title_size:1.1,title_weight:"normal",title_padding:.6}),Ep=Object.freeze(Tp({axis_visible:!1},Ap)),Np=Object.freeze({background_color_enabled:!1,background_color:"#f5f5f5",background_image_enabled:!1,background_image_src:"",background_image_size:"stretch",background_image_position:"xMidYMid"});function Cp(t){var e=function(t,e,n){t[e]||(t[e]={}),Tp(t[e],n)}.bind(null,t=t||{});return e("x",Sp),e("y",Ap),e("y2",Ep),e("background",Np),t}var Op="http://www.w3.org/1999/xhtml",zp={svg:"http://www.w3.org/2000/svg",xhtml:Op,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function jp(t){var e=t+="",n=e.indexOf(":");return 0<=n&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),zp.hasOwnProperty(e)?{space:zp[e],local:t}:t}function Dp(t){var e=jp(t);return(e.local?function(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}:function(n){return function(){var t=this.ownerDocument,e=this.namespaceURI;return e===Op&&t.documentElement.namespaceURI===Op?t.createElement(n):t.createElementNS(e,n)}})(e)}function Fp(t){var e=bt.Symbol||(bt.Symbol={});d(e,t)||Lp(e,t,{value:Pp.f(t)})}var Pp={f:Bt},Lp=O.f;Fp("iterator");function Rp(t,e){var n=a_[t]=He(t_[Gp]);return Qp(n,{type:Xp,tag:t,description:e}),_||(n.description=e),n}function Up(e,t){S(e);var n=l(t),r=Ce(n).concat(y_(n));return Vp(r,function(t){_&&!g_.call(n,t)||__(e,t,n[t])}),e}function Ip(t,e){var n=l(t),r=h(e,!0);if(n!==Kp||!d(a_,r)||d(u_,r)){var i=n_(n,r);return!i||!d(a_,r)||d(n,Wp)&&n[Wp][r]||(i.enumerable=!0),i}}function Hp(t){var e=i_(l(t)),n=[];return Vp(e,function(t){d(a_,t)||d(X,t)||n.push(t)}),n}var qp=Ct.f,Yp={}.toString,Bp="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],$p={f:function(t){return Bp&&"[object Window]"==Yp.call(t)?function(t){try{return qp(t)}catch(t){return Bp.slice()}}(t):qp(l(t))}},Vp=Pr.forEach,Wp=L("hidden"),Xp="Symbol",Gp="prototype",Zp=Bt("toPrimitive"),Qp=vt.set,Jp=vt.getterFor(Xp),Kp=Object[Gp],t_=m.Symbol,e_=rt("JSON","stringify"),n_=N.f,r_=O.f,i_=$p.f,o_=b.f,a_=B("symbols"),u_=B("op-symbols"),c_=B("string-to-symbol-registry"),l_=B("symbol-to-string-registry"),s_=B("wks"),f_=m.QObject,h_=!f_||!f_[Gp]||!f_[Gp].findChild,d_=_&&g(function(){return 7!=He(r_({},"a",{get:function(){return r_(this,"a",{value:7}).a}})).a})?function(t,e,n){var r=n_(Kp,e);r&&delete Kp[e],r_(t,e,n),r&&t!==Kp&&r_(Kp,e,r)}:r_,p_=Gt?function(t){return"symbol"==typeof t}:function(t){return Object(t)instanceof t_},__=function(t,e,n){t===Kp&&__(u_,e,n),S(t);var r=h(e,!0);return S(n),d(a_,r)?(n.enumerable?(d(t,Wp)&&t[Wp][r]&&(t[Wp][r]=!1),n=He(n,{enumerable:y(0,!1)})):(d(t,Wp)||r_(t,Wp,y(1,{})),t[Wp][r]=!0),d_(t,r,n)):r_(t,r,n)},g_=function(t){var e=h(t,!0),n=o_.call(this,e);return!(this===Kp&&d(a_,e)&&!d(u_,e))&&(!(n||!d(this,e)||!d(a_,e)||d(this,Wp)&&this[Wp][e])||n)},y_=function(t){var e=t===Kp,n=i_(e?u_:l(t)),r=[];return Vp(n,function(t){!d(a_,t)||e&&!d(Kp,t)||r.push(a_[t])}),r};if(Xt||(mt((t_=function(t){if(this instanceof t_)throw TypeError("Symbol is not a constructor");var e=arguments.length&&void 0!==t?String(t):void 0,n=P(e),r=function(t){this===Kp&&r.call(u_,t),d(this,Wp)&&d(this[Wp],n)&&(this[Wp][n]=!1),d_(this,n,y(1,t))};return _&&h_&&d_(Kp,n,{configurable:!0,set:r}),Rp(n,e)})[Gp],"toString",function(){return Jp(this).tag}),mt(t_,"withoutSetter",function(t){return Rp(P(t),t)}),b.f=g_,O.f=__,N.f=Ip,Ct.f=$p.f=Hp,Ot.f=y_,Pp.f=function(t){return Rp(Bt(t),t)},_&&(r_(t_[Gp],"description",{configurable:!0,get:function(){return Jp(this).description}}),mt(Kp,"propertyIsEnumerable",g_,{unsafe:!0}))),ft({global:!0,wrap:!0,forced:!Xt,sham:!Xt},{Symbol:t_}),Vp(Ce(s_),function(t){Fp(t)}),ft({target:Xp,stat:!0,forced:!Xt},{for:function(t){var e=String(t);if(d(c_,e))return c_[e];var n=t_(e);return c_[e]=n,l_[n]=e,n},keyFor:function(t){if(!p_(t))throw TypeError(t+" is not a symbol");if(d(l_,t))return l_[t]},useSetter:function(){h_=!0},useSimple:function(){h_=!1}}),ft({target:"Object",stat:!0,forced:!Xt,sham:!_},{create:function(t,e){return void 0===e?He(t):Up(He(t),e)},defineProperty:__,defineProperties:Up,getOwnPropertyDescriptor:Ip}),ft({target:"Object",stat:!0,forced:!Xt},{getOwnPropertyNames:Hp,getOwnPropertySymbols:y_}),ft({target:"Object",stat:!0,forced:g(function(){Ot.f(1)})},{getOwnPropertySymbols:function(t){return Ot.f(x(t))}}),e_){var v_=!Xt||g(function(){var t=t_();return"[null]"!=e_([t])||"{}"!=e_({a:t})||"{}"!=e_(Object(t))});ft({target:"JSON",stat:!0,forced:v_},{stringify:function(t,e,n){for(var r,i=[t],o=1;o<arguments.length;)i.push(arguments[o++]);if((v(r=e)||void 0!==t)&&!p_(t))return Fn(e)||(e=function(t,e){if("function"==typeof r&&(e=r.call(this,t,e)),!p_(e))return e}),i[1]=e,e_.apply(null,i)}})}t_[Gp][Zp]||z(t_[Gp],Zp,t_[Gp].valueOf),Le(t_,Xp),X[Wp]=!0;var m_=O.f,b_=m.Symbol;if(!(!_||"function"!=typeof b_||"description"in b_.prototype&&void 0===b_().description)){var x_={},w_=function(t){var e=arguments.length<1||void 0===t?void 0:String(t),n=this instanceof w_?new b_(e):void 0===e?b_():b_(e);return""===e&&(x_[n]=!0),n};lt(w_,b_);var k_=w_.prototype=b_.prototype;k_.constructor=w_;var M_=k_.toString,T_="Symbol(test)"==String(b_("test")),S_=/^Symbol\((.*)\)[^)]+$/;m_(k_,"description",{configurable:!0,get:function(){var t=v(this)?this.valueOf():this,e=M_.call(t);if(d(x_,t))return"";var n=T_?e.slice(7,-1):e.replace(S_,"$1");return""===n?void 0:n}}),ft({global:!0,forced:!0},{Symbol:w_})}function A_(){}function E_(t){return null==t?A_:function(){return this.querySelector(t)}}function N_(t){return"object"===Li(t)&&"length"in t?t:Array.from(t)}function C_(){return[]}function O_(t){return null==t?C_:function(){return this.querySelectorAll(t)}}var z_=Pr.find,j_="find",D_=!0;function F_(t){return function(){return this.matches(t)}}function P_(e){return function(t){return t.matches(e)}}j_ in[]&&Array(1)[j_](function(){D_=!1}),ft({target:"Array",proto:!0,forced:D_},{find:function(t,e){return z_(this,t,1<arguments.length?e:void 0)}}),Js(j_);var L_=Array.prototype.find;function R_(){return this.firstElementChild}var U_=Array.prototype.filter;function I_(){return this.children}function H_(r,t,e){function n(t){var n=c[t];mt(c,t,"add"==t?function(t){return n.call(this,0===t?0:t),this}:"delete"==t?function(t){return!(o&&!v(t))&&n.call(this,0===t?0:t)}:"get"==t?function(t){return o&&!v(t)?void 0:n.call(this,0===t?0:t)}:"has"==t?function(t){return!(o&&!v(t))&&n.call(this,0===t?0:t)}:function(t,e){return n.call(this,0===t?0:t,e),this})}var i=-1!==r.indexOf("Map"),o=-1!==r.indexOf("Weak"),a=i?"set":"add",u=m[r],c=u&&u.prototype,l=u,s={};if(Rt(r,"function"!=typeof u||!(o||c.forEach&&!g(function(){(new u).entries().next()}))))l=e.getConstructor(t,r,i,a),Zf.REQUIRED=!0;else if(Rt(r,!0)){var f=new l,h=f[a](o?{}:-0,1)!=f,d=g(function(){f.has(1)}),p=de(function(t){new u(t)}),_=!o&&g(function(){for(var t=new u,e=5;e--;)t[a](e,e);return!t.has(-0)});p||(((l=t(function(t,e){Cu(t,l,r);var n=nn(new u,t,l);return null!=e&&zu(e,n[a],{that:n,AS_ENTRIES:i}),n})).prototype=c).constructor=l),(d||_)&&(n("delete"),n("has"),i&&n("get")),(_||h)&&n(a),o&&c.clear&&delete c.clear}return s[r]=l,ft({global:!0,forced:l!=u},s),Le(l,r),o||e.setStrong(l,r,i),l}var q_=O.f,Y_=Zf.fastKey,B_=vt.set,$_=vt.getterFor,V_={getConstructor:function(t,n,r,i){function o(t,e,n){var r,i,o=u(t),a=c(t,e);return a?a.value=n:(o.last=a={index:i=Y_(e,!0),key:e,value:n,previous:r=o.last,next:void 0,removed:!1},o.first||(o.first=a),r&&(r.next=a),_?o.size++:t.size++,"F"!==i&&(o.index[i]=a)),t}var a=t(function(t,e){Cu(t,a,n),B_(t,{type:n,index:He(null),first:void 0,last:void 0,size:0}),_||(t.size=0),null!=e&&zu(e,t[i],{that:t,AS_ENTRIES:r})}),u=$_(n),c=function(t,e){var n,r=u(t),i=Y_(e);if("F"!==i)return r.index[i];for(n=r.first;n;n=n.next)if(n.key==e)return n};return Nu(a.prototype,{clear:function(){for(var t=u(this),e=t.index,n=t.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete e[n.index],n=n.next;t.first=t.last=void 0,_?t.size=0:this.size=0},delete:function(t){var e=u(this),n=c(this,t);if(n){var r=n.next,i=n.previous;delete e.index[n.index],n.removed=!0,i&&(i.next=r),r&&(r.previous=i),e.first==n&&(e.first=r),e.last==n&&(e.last=i),_?e.size--:this.size--}return!!n},forEach:function(t,e){for(var n,r=u(this),i=dt(t,1<arguments.length?e:void 0,3);n=n?n.next:r.first;)for(i(n.value,n.key,this);n&&n.removed;)n=n.previous},has:function(t){return!!c(this,t)}}),Nu(a.prototype,r?{get:function(t){var e=c(this,t);return e&&e.value},set:function(t,e){return o(this,0===t?0:t,e)}}:{add:function(t){return o(this,t=0===t?0:t,t)}}),_&&q_(a.prototype,"size",{get:function(){return u(this).size}}),a},setStrong:function(t,e,n){var r=e+" Iterator",i=$_(e),o=$_(r);Ie(t,e,function(t,e){B_(this,{type:r,target:t,state:i(t),kind:e,last:void 0})},function(){for(var t=o(this),e=t.kind,n=t.last;n&&n.removed;)n=n.previous;return t.target&&(t.last=n=n?n.next:t.state.first)?"keys"==e?{value:n.key,done:!1}:"values"==e?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:{value:t.target=void 0,done:!0}},n?"entries":"values",!n,!0),Mo(e)}};function W_(t){return new Array(t.length)}function X_(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function G_(t,e,n,r,i,o){for(var a,u=0,c=e.length,l=o.length;u<l;++u)(a=e[u])?(a.__data__=o[u],r[u]=a):n[u]=new X_(t,o[u]);for(;u<c;++u)(a=e[u])&&(i[u]=a)}function Z_(t,e,n,r,i,o,a){var u,c,l,s=new Map,f=e.length,h=o.length,d=new Array(f);for(u=0;u<f;++u)(c=e[u])&&(d[u]=l=a.call(c,c.__data__,u,e)+"",s.has(l)?i[u]=c:s.set(l,c));for(u=0;u<h;++u)l=a.call(t,o[u],u,o)+"",(c=s.get(l))?((r[u]=c).__data__=o[u],s.delete(l)):n[u]=new X_(t,o[u]);for(u=0;u<f;++u)(c=e[u])&&s.get(d[u])===c&&(i[u]=c)}function Q_(t){return t.__data__}function J_(t,e){return t<e?-1:e<t?1:e<=t?0:NaN}function K_(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function tg(t,e){return t.style.getPropertyValue(e)||K_(t).getComputedStyle(t,null).getPropertyValue(e)}function eg(t){return t.trim().split(/^|\s+/)}function ng(t){return t.classList||new rg(t)}function rg(t){this._node=t,this._names=eg(t.getAttribute("class")||"")}function ig(t,e){for(var n=ng(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function og(t,e){for(var n=ng(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function ag(){this.textContent=""}function ug(){this.innerHTML=""}function cg(){this.nextSibling&&this.parentNode.appendChild(this)}function lg(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function sg(){return null}function fg(){var t=this.parentNode;t&&t.removeChild(this)}function hg(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function dg(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function pg(o){return function(){var t=this.__on;if(t){for(var e,n=0,r=-1,i=t.length;n<i;++n)e=t[n],o.type&&e.type!==o.type||e.name!==o.name?t[++r]=e:this.removeEventListener(e.type,e.listener,e.options);++r?t.length=r:delete this.__on}}}function _g(o,a,u){return function(){var t,e=this.__on,n=function(e){return function(t){e.call(this,t,this.__data__)}}(a);if(e)for(var r=0,i=e.length;r<i;++r)if((t=e[r]).type===o.type&&t.name===o.name)return this.removeEventListener(t.type,t.listener,t.options),this.addEventListener(t.type,t.listener=n,t.options=u),void(t.value=a);this.addEventListener(o.type,n,u),t={type:o.type,name:o.name,value:a,listener:n,options:u},e?e.push(t):this.__on=[t]}}function gg(t,e,n){var r=K_(t),i=r.CustomEvent;"function"==typeof i?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}H_("Map",function(e){return function(t){return e(this,arguments.length?t:void 0)}},V_),X_.prototype={constructor:X_,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}},rg.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);0<=e&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return 0<=this._names.indexOf(t)}},Fp("asyncIterator"),Fp("toStringTag"),Le(m.JSON,"JSON",!0),Le(Math,"Math",!0);var yg=g(function(){ke(1)});ft({target:"Object",stat:!0,forced:yg,sham:!be},{getPrototypeOf:function(t){return ke(x(t))}}),n(function(t){var e=function(a){var c,t=Object.prototype,s=t.hasOwnProperty,e="function"==typeof Symbol?Symbol:{},i=e.iterator||"@@iterator",n=e.asyncIterator||"@@asyncIterator",r=e.toStringTag||"@@toStringTag";function o(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{o({},"")}catch(t){o=function(t,e,n){return t[e]=n}}function u(t,e,n,r){var i=e&&e.prototype instanceof g?e:g,o=Object.create(i.prototype),a=new E(r||[]);return o._invoke=function(o,a,u){var c=l;return function(t,e){if(c===d)throw new Error("Generator is already running");if(c===p){if("throw"===t)throw e;return C()}for(u.method=t,u.arg=e;;){var n=u.delegate;if(n){var r=T(n,u);if(r){if(r===_)continue;return r}}if("next"===u.method)u.sent=u._sent=u.arg;else if("throw"===u.method){if(c===l)throw c=p,u.arg;u.dispatchException(u.arg)}else"return"===u.method&&u.abrupt("return",u.arg);c=d;var i=f(o,a,u);if("normal"===i.type){if(c=u.done?p:h,i.arg===_)continue;return{value:i.arg,done:u.done}}"throw"===i.type&&(c=p,u.method="throw",u.arg=i.arg)}}}(t,n,a),o}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}a.wrap=u;var l="suspendedStart",h="suspendedYield",d="executing",p="completed",_={};function g(){}function y(){}function v(){}var m={};m[i]=function(){return this};var b=Object.getPrototypeOf,x=b&&b(b(N([])));x&&x!==t&&s.call(x,i)&&(m=x);var w=v.prototype=g.prototype=Object.create(m);function k(t){["next","throw","return"].forEach(function(e){o(t,e,function(t){return this._invoke(e,t)})})}function M(c,l){var e;this._invoke=function(n,r){function t(){return new l(function(t,e){!function e(t,n,r,i){var o=f(c[t],c,n);if("throw"!==o.type){var a=o.arg,u=a.value;return u&&"object"===Li(u)&&s.call(u,"__await")?l.resolve(u.__await).then(function(t){e("next",t,r,i)},function(t){e("throw",t,r,i)}):l.resolve(u).then(function(t){a.value=t,r(a)},function(t){return e("throw",t,r,i)})}i(o.arg)}(n,r,t,e)})}return e=e?e.then(t,t):t()}}function T(t,e){var n=t.iterator[e.method];if(n===c){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=c,T(t,e),"throw"===e.method))return _;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return _}var r=f(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,_;var i=r.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=c),e.delegate=null,_):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,_)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function A(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function E(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function N(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(s.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=c,t.done=!0,t};return r.next=r}}return{next:C}}function C(){return{value:c,done:!0}}return y.prototype=w.constructor=v,(v.constructor=y).displayName=o(v,r,"GeneratorFunction"),a.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},a.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,o(t,r,"GeneratorFunction")),t.prototype=Object.create(w),t},a.awrap=function(t){return{__await:t}},k(M.prototype),M.prototype[n]=function(){return this},a.AsyncIterator=M,a.async=function(t,e,n,r,i){void 0===i&&(i=Promise);var o=new M(u(t,e,n,r),i);return a.isGeneratorFunction(e)?o:o.next().then(function(t){return t.done?t.value:o.next()})},k(w),o(w,r,"Generator"),w[i]=function(){return this},w.toString=function(){return"[object Generator]"},a.keys=function(n){var r=[];for(var t in n)r.push(t);return r.reverse(),function t(){for(;r.length;){var e=r.pop();if(e in n)return t.value=e,t.done=!1,t}return t.done=!0,t}},a.values=N,E.prototype={constructor:E,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=c,this.done=!1,this.delegate=null,this.method="next",this.arg=c,this.tryEntries.forEach(A),!t)for(var e in this)"t"===e.charAt(0)&&s.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=c)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var r=this;function t(t,e){return o.type="throw",o.arg=n,r.next=t,e&&(r.method="next",r.arg=c),!!e}for(var e=this.tryEntries.length-1;0<=e;--e){var i=this.tryEntries[e],o=i.completion;if("root"===i.tryLoc)return t("end");if(i.tryLoc<=this.prev){var a=s.call(i,"catchLoc"),u=s.call(i,"finallyLoc");if(a&&u){if(this.prev<i.catchLoc)return t(i.catchLoc,!0);if(this.prev<i.finallyLoc)return t(i.finallyLoc)}else if(a){if(this.prev<i.catchLoc)return t(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return t(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;0<=n;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&s.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=t,o.arg=e,i?(this.method="next",this.next=i.finallyLoc,_):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),_},finish:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),A(n),_}},catch:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;A(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:N(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=c),_}},a}(t.exports);try{regeneratorRuntime=e}catch(t){Function("r","regeneratorRuntime = r")(e)}});var vg=regeneratorRuntime.mark(mg);function mg(){var e,n,r,i,o,a,u;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=this._groups,n=0,r=e.length;case 1:if(!(n<r)){t.next=13;break}i=e[n],o=0,a=i.length;case 3:if(!(o<a)){t.next=10;break}if(u=i[o])return t.next=7,u;t.next=7;break;case 7:++o,t.next=3;break;case 10:++n,t.next=1;break;case 13:case"end":return t.stop()}},vg,this)}var bg=[null];function xg(t,e){this._groups=t,this._parents=e}function wg(){return new xg([[document.documentElement]],bg)}function kg(t){return"string"==typeof t?new xg([[document.querySelector(t)]],[document.documentElement]):new xg([[t]],bg)}function Mg(t){return"svg"===t.tagName.toLowerCase()}xg.prototype=wg.prototype=Ri({constructor:xg,select:function(t){"function"!=typeof t&&(t=E_(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a,u=e[i],c=u.length,l=r[i]=new Array(c),s=0;s<c;++s)(o=u[s])&&(a=t.call(o,o.__data__,s,u))&&("__data__"in o&&(a.__data__=o.__data__),l[s]=a);return new xg(r,this._parents)},selectAll:function(t){t="function"==typeof t?function(e){return function(){var t=e.apply(this,arguments);return null==t?[]:N_(t)}}(t):O_(t);for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var a,u=e[o],c=u.length,l=0;l<c;++l)(a=u[l])&&(r.push(t.call(a,a.__data__,l,u)),i.push(a));return new xg(r,i)},selectChild:function(t){return this.select(null==t?R_:function(t){return function(){return L_.call(this.children,t)}}("function"==typeof t?t:P_(t)))},selectChildren:function(t){return this.selectAll(null==t?I_:function(t){return function(){return U_.call(this.children,t)}}("function"==typeof t?t:P_(t)))},filter:function(t){"function"!=typeof t&&(t=F_(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a=e[i],u=a.length,c=r[i]=[],l=0;l<u;++l)(o=a[l])&&t.call(o,o.__data__,l,a)&&c.push(o);return new xg(r,this._parents)},data:function(t,e){if(!arguments.length)return Array.from(this,Q_);var n=e?Z_:G_,r=this._parents,i=this._groups;"function"!=typeof t&&(t=function(t){return function(){return t}}(t));for(var o=i.length,a=new Array(o),u=new Array(o),c=new Array(o),l=0;l<o;++l){var s=r[l],f=i[l],h=f.length,d=N_(t.call(s,s&&s.__data__,l,r)),p=d.length,_=u[l]=new Array(p),g=a[l]=new Array(p);n(s,f,_,g,c[l]=new Array(h),d,e);for(var y,v,m=0,b=0;m<p;++m)if(y=_[m]){for(b<=m&&(b=m+1);!(v=g[b])&&++b<p;);y._next=v||null}}return(a=new xg(a,r))._enter=u,a._exit=c,a},enter:function(){return new xg(this._enter||this._groups.map(W_),this._parents)},exit:function(){return new xg(this._exit||this._groups.map(W_),this._parents)},join:function(t,e,n){var r=this.enter(),i=this,o=this.exit();return r="function"==typeof t?t(r):r.append(t+""),null!=e&&(i=e(i)),null==n?o.remove():n(o),r&&i?r.merge(i).order():i},merge:function(t){if(!(t instanceof xg))throw new Error("invalid merge");for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),u=0;u<o;++u)for(var c,l=e[u],s=n[u],f=l.length,h=a[u]=new Array(f),d=0;d<f;++d)(c=l[d]||s[d])&&(h[d]=c);for(;u<r;++u)a[u]=e[u];return new xg(a,this._parents)},selection:function(){return this},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],o=i.length-1,a=i[o];0<=--o;)(r=i[o])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(n){function t(t,e){return t&&e?n(t.__data__,e.__data__):!t-!e}n=n||J_;for(var e=this._groups,r=e.length,i=new Array(r),o=0;o<r;++o){for(var a,u=e[o],c=u.length,l=i[o]=new Array(c),s=0;s<c;++s)(a=u[s])&&(l[s]=a);l.sort(t)}return new xg(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},size:function(){var t,e=0,n=Yi(this);try{for(n.s();!(t=n.n()).done;){t.value;++e}}catch(t){n.e(t)}finally{n.f()}return e},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,o=e[n],a=0,u=o.length;a<u;++a)(i=o[a])&&t.call(i,i.__data__,a,o);return this},attr:function(t,e){var n=jp(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}}:"function"==typeof e?n.local?function(e,n){return function(){var t=n.apply(this,arguments);null==t?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,t)}}:function(e,n){return function(){var t=n.apply(this,arguments);null==t?this.removeAttribute(e):this.setAttribute(e,t)}}:n.local?function(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}:function(t,e){return function(){this.setAttribute(t,e)}})(n,e))},style:function(t,e,n){return 1<arguments.length?this.each((null==e?function(t){return function(){this.style.removeProperty(t)}}:"function"==typeof e?function(e,n,r){return function(){var t=n.apply(this,arguments);null==t?this.style.removeProperty(e):this.style.setProperty(e,t,r)}}:function(t,e,n){return function(){this.style.setProperty(t,e,n)}})(t,e,null==n?"":n)):tg(this.node(),t)},property:function(t,e){return 1<arguments.length?this.each((null==e?function(t){return function(){delete this[t]}}:"function"==typeof e?function(e,n){return function(){var t=n.apply(this,arguments);null==t?delete this[e]:this[e]=t}}:function(t,e){return function(){this[t]=e}})(t,e)):this.node()[t]},classed:function(t,e){var n=eg(t+"");if(arguments.length<2){for(var r=ng(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof e?function(t,e){return function(){(e.apply(this,arguments)?ig:og)(this,t)}}:e?function(t){return function(){ig(this,t)}}:function(t){return function(){og(this,t)}})(n,e))},text:function(t){return arguments.length?this.each(null==t?ag:("function"==typeof t?function(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}:function(t){return function(){this.textContent=t}})(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?ug:("function"==typeof t?function(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}:function(t){return function(){this.innerHTML=t}})(t)):this.node().innerHTML},raise:function(){return this.each(cg)},lower:function(){return this.each(lg)},append:function(t){var e="function"==typeof t?t:Dp(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})},insert:function(t,e){var n="function"==typeof t?t:Dp(t),r=null==e?sg:"function"==typeof e?e:E_(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})},remove:function(){return this.each(fg)},clone:function(t){return this.select(t?dg:hg)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var r,i,o=function(t){return t.trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");return 0<=n&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}})}(t+""),a=o.length;if(!(arguments.length<2)){for(u=e?_g:pg,r=0;r<a;++r)this.each(u(o[r],e,n));return this}var u=this.node().__on;if(u)for(var c,l=0,s=u.length;l<s;++l)for(r=0,c=u[l];r<a;++r)if((i=o[r]).type===c.type&&i.name===c.name)return c.value},dispatch:function(t,e){return this.each(("function"==typeof e?function(t,e){return function(){return gg(this,t,e.apply(this,arguments))}}:function(t,e){return function(){return gg(this,t,e)}})(t,e))}},Symbol.iterator,mg);var Tg=0;var Sg=Object.freeze({left:!0,top:!0,right:!0,bottom:!0}),Ag=Object.freeze({left:!1,top:!1,right:!1,bottom:!1});var Eg=ji("start","end","cancel","interrupt"),Ng=[],Cg=0,Og=1,zg=2,jg=3,Dg=4,Fg=5,Pg=6;function Lg(t,e,n,r,i,o){var a=t.__transition;if(a){if(n in a)return}else t.__transition={};!function(o,a,u){var c,l=o.__transition;function s(t){var e,n,r,i;if(u.state!==Og)return h();for(e in l)if((i=l[e]).name===u.name){if(i.state===jg)return lo(s);i.state===Dg?(i.state=Pg,i.timer.stop(),i.on.call("interrupt",o,o.__data__,i.index,i.group),delete l[e]):+e<a&&(i.state=Pg,i.timer.stop(),i.on.call("cancel",o,o.__data__,i.index,i.group),delete l[e])}if(lo(function(){u.state===jg&&(u.state=Dg,u.timer.restart(f,u.delay,u.time),f(t))}),u.state=zg,u.on.call("start",o,o.__data__,u.index,u.group),u.state===zg){for(u.state=jg,c=new Array(r=u.tween.length),e=0,n=-1;e<r;++e)(i=u.tween[e].value.call(o,o.__data__,u.index,u.group))&&(c[++n]=i);c.length=n+1}}function f(t){for(var e=t<u.duration?u.ease.call(null,t/u.duration):(u.timer.restart(h),u.state=Fg,1),n=-1,r=c.length;++n<r;)c[n].call(o,e);u.state===Fg&&(u.on.call("end",o,o.__data__,u.index,u.group),h())}function h(){for(var t in u.state=Pg,u.timer.stop(),delete l[a],l)return;delete o.__transition}(l[a]=u).timer=io(function(t){u.state=Og,u.timer.restart(s,u.delay,u.time),u.delay<=t&&s(t-u.delay)},0,u.time)}(t,n,{name:e,index:r,group:i,on:Eg,tween:Ng,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:Cg})}function Rg(t,e){var n=Ig(t,e);if(n.state>Cg)throw new Error("too late; already scheduled");return n}function Ug(t,e){var n=Ig(t,e);if(n.state>jg)throw new Error("too late; already running");return n}function Ig(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function Hg(t,e,n){var r=t._id;return t.each(function(){var t=Ug(this,r);(t.value||(t.value={}))[e]=n.apply(this,arguments)}),function(t){return Ig(t,r).value[e]}}function qg(t,e){var n;return("number"==typeof e?nu:e instanceof aa?Ka:(n=aa(e))?(e=n,Ka):ou)(t,e)}var Yg=wg.prototype.constructor;function Bg(t){return function(){this.style.removeProperty(t)}}var $g=0;function Vg(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function Wg(){return++$g}var Xg=wg.prototype;Vg.prototype=Ri({constructor:Vg,select:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=E_(t));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var u,c,l=r[a],s=l.length,f=o[a]=new Array(s),h=0;h<s;++h)(u=l[h])&&(c=t.call(u,u.__data__,h,l))&&("__data__"in u&&(c.__data__=u.__data__),f[h]=c,Lg(f[h],e,n,h,f,Ig(u,n)));return new Vg(o,this._parents,e,n)},selectAll:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=O_(t));for(var r=this._groups,i=r.length,o=[],a=[],u=0;u<i;++u)for(var c,l=r[u],s=l.length,f=0;f<s;++f)if(c=l[f]){for(var h,d=t.call(c,c.__data__,f,l),p=Ig(c,n),_=0,g=d.length;_<g;++_)(h=d[_])&&Lg(h,e,n,_,d,p);o.push(d),a.push(c)}return new Vg(o,a,e,n)},filter:function(t){"function"!=typeof t&&(t=F_(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a=e[i],u=a.length,c=r[i]=[],l=0;l<u;++l)(o=a[l])&&t.call(o,o.__data__,l,a)&&c.push(o);return new Vg(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),u=0;u<o;++u)for(var c,l=e[u],s=n[u],f=l.length,h=a[u]=new Array(f),d=0;d<f;++d)(c=l[d]||s[d])&&(h[d]=c);for(;u<r;++u)a[u]=e[u];return new Vg(a,this._parents,this._name,this._id)},selection:function(){return new Yg(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=Wg(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a,u=r[o],c=u.length,l=0;l<c;++l)if(a=u[l]){var s=Ig(a,e);Lg(a,t,n,l,u,{time:s.time+s.delay+s.duration,delay:0,duration:s.duration,ease:s.ease})}return new Vg(r,this._parents,t,n)},call:Xg.call,nodes:Xg.nodes,node:Xg.node,size:Xg.size,empty:Xg.empty,each:Xg.each,on:function(t,e){var n=this._id;return arguments.length<2?Ig(this.node(),n).on.on(t):this.each(function(n,r,i){var o,a,u=function(t){return(t+"").trim().split(/^|\s+/).every(function(t){var e=t.indexOf(".");return 0<=e&&(t=t.slice(0,e)),!t||"start"===t})}(r)?Rg:Ug;return function(){var t=u(this,n),e=t.on;e!==o&&(a=(o=e).copy()).on(r,i),t.on=a}}(n,t,e))},attr:function(t,e){var n=jp(t),r="transform"===n?yu:qg;return this.attrTween(t,"function"==typeof e?(n.local?function(r,i,o){var a,u,c;return function(){var t,e,n=o(this);if(null!=n)return(t=this.getAttributeNS(r.space,r.local))===(e=n+"")?null:t===a&&e===u?c:(u=e,c=i(a=t,n));this.removeAttributeNS(r.space,r.local)}}:function(r,i,o){var a,u,c;return function(){var t,e,n=o(this);if(null!=n)return(t=this.getAttribute(r))===(e=n+"")?null:t===a&&e===u?c:(u=e,c=i(a=t,n));this.removeAttribute(r)}})(n,r,Hg(this,"attr."+t,e)):null==e?(n.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}})(n):(n.local?function(e,n,r){var i,o,a=r+"";return function(){var t=this.getAttributeNS(e.space,e.local);return t===a?null:t===i?o:o=n(i=t,r)}}:function(e,n,r){var i,o,a=r+"";return function(){var t=this.getAttribute(e);return t===a?null:t===i?o:o=n(i=t,r)}})(n,r,e))},attrTween:function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var r=jp(t);return this.tween(n,(r.local?function(e,n){var r,i;function t(){var t=n.apply(this,arguments);return t!==i&&(r=(i=t)&&function(e,n){return function(t){this.setAttributeNS(e.space,e.local,n.call(this,t))}}(e,t)),r}return t._value=n,t}:function(e,n){var r,i;function t(){var t=n.apply(this,arguments);return t!==i&&(r=(i=t)&&function(e,n){return function(t){this.setAttribute(e,n.call(this,t))}}(e,t)),r}return t._value=n,t})(r,e))},style:function(t,e,n){var r="transform"==(t+="")?gu:qg;return null==e?this.styleTween(t,function(n,r){var i,o,a;return function(){var t=tg(this,n),e=(this.style.removeProperty(n),tg(this,n));return t===e?null:t===i&&e===o?a:a=r(i=t,o=e)}}(t,r)).on("end.style."+t,Bg(t)):"function"==typeof e?this.styleTween(t,function(r,i,o){var a,u,c;return function(){var t=tg(this,r),e=o(this),n=e+"";return null==e&&(this.style.removeProperty(r),n=e=tg(this,r)),t===n?null:t===a&&n===u?c:(u=n,c=i(a=t,e))}}(t,r,Hg(this,"style."+t,e))).each(function(r,i){var o,a,u,c,l="style."+i,s="end."+l;return function(){var t=Ug(this,r),e=t.on,n=null==t.value[l]?c=c||Bg(i):void 0;e===o&&u===n||(a=(o=e).copy()).on(s,u=n),t.on=a}}(this._id,t)):this.styleTween(t,function(e,n,r){var i,o,a=r+"";return function(){var t=tg(this,e);return t===a?null:t===i?o:o=n(i=t,r)}}(t,r,e),n).on("end.style."+t,null)},styleTween:function(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw new Error;return this.tween(r,function(e,n,r){var i,o;function t(){var t=n.apply(this,arguments);return t!==o&&(i=(o=t)&&function(e,n,r){return function(t){this.style.setProperty(e,n.call(this,t),r)}}(e,t,r)),i}return t._value=n,t}(t,e,null==n?"":n))},text:function(t){return this.tween("text","function"==typeof t?function(e){return function(){var t=e(this);this.textContent=null==t?"":t}}(Hg(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw new Error;return this.tween(e,function(e){var n,r;function t(){var t=e.apply(this,arguments);return t!==r&&(n=(r=t)&&function(e){return function(t){this.textContent=e.call(this,t)}}(t)),n}return t._value=e,t}(t))},remove:function(){return this.on("end.remove",function(n){return function(){var t=this.parentNode;for(var e in this.__transition)if(+e!==n)return;t&&t.removeChild(this)}}(this._id))},tween:function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r,i=Ig(this.node(),n).tween,o=0,a=i.length;o<a;++o)if((r=i[o]).name===t)return r.value;return null}return this.each((null==e?function(i,o){var a,u;return function(){var t=Ug(this,i),e=t.tween;if(e!==a)for(var n=0,r=(u=a=e).length;n<r;++n)if(u[n].name===o){(u=u.slice()).splice(n,1);break}t.tween=u}}:function(o,a,u){var c,l;if("function"!=typeof u)throw new Error;return function(){var t=Ug(this,o),e=t.tween;if(e!==c){l=(c=e).slice();for(var n={name:a,value:u},r=0,i=l.length;r<i;++r)if(l[r].name===a){l[r]=n;break}r===i&&l.push(n)}t.tween=l}})(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?function(t,e){return function(){Rg(this,t).delay=+e.apply(this,arguments)}}:function(t,e){return e=+e,function(){Rg(this,t).delay=e}})(e,t)):Ig(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?function(t,e){return function(){Ug(this,t).duration=+e.apply(this,arguments)}}:function(t,e){return e=+e,function(){Ug(this,t).duration=e}})(e,t)):Ig(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(function(t,e){if("function"!=typeof e)throw new Error;return function(){Ug(this,t).ease=e}}(e,t)):Ig(this.node(),e).ease},easeVarying:function(t){if("function"!=typeof t)throw new Error;return this.each(function(e,n){return function(){var t=n.apply(this,arguments);if("function"!=typeof t)throw new Error;Ug(this,e).ease=t}}(this._id,t))},end:function(){var i,o,a=this,u=a._id,c=a.size();return new Promise(function(t,e){var n={value:e},r={value:function(){0==--c&&t()}};a.each(function(){var t=Ug(this,u),e=t.on;e!==i&&((o=(i=e).copy())._.cancel.push(n),o._.interrupt.push(n),o._.end.push(r)),t.on=o}),0===c&&t()})}},Symbol.iterator,Xg[Symbol.iterator]);var Gg={time:null,delay:0,duration:250,ease:il};function Zg(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error("transition ".concat(e," not found"));return n}function Qg(t){return""+t}function Jg(e){var n=Qg;return function(t){return void 0===t?n||Qg:(n=t,e)}}wg.prototype.interrupt=function(t){return this.each(function(){!function(t,e){var n,r,i,o=t.__transition,a=!0;if(o){for(i in e=null==e?null:e+"",o)(n=o[i]).name===e?(r=n.state>zg&&n.state<Fg,n.state=Pg,n.timer.stop(),n.on.call(r?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete o[i]):a=!1;a&&delete t.__transition}}(this,t)})},wg.prototype.transition=function(t){var e,n;t=t instanceof Vg?(e=t._id,t._name):(e=Wg(),(n=Gg).time=eo(),null==t?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a,u=r[o],c=u.length,l=0;l<c;++l)(a=u[l])&&Lg(a,t,e,l,u,n||Zg(a,e));return new Vg(r,this._parents,t,e)};var Kg=new Date,ty=new Date;function ey(o,a,n,r){function u(t){return o(t=0===arguments.length?new Date:new Date(+t)),t}return u.floor=function(t){return o(t=new Date(+t)),t},u.ceil=function(t){return o(t=new Date(t-1)),a(t,1),o(t),t},u.round=function(t){var e=u(t),n=u.ceil(t);return t-e<n-t?e:n},u.offset=function(t,e){return a(t=new Date(+t),null==e?1:Math.floor(e)),t},u.range=function(t,e,n){var r,i=[];if(t=u.ceil(t),n=null==n?1:Math.floor(n),!(t<e&&0<n))return i;for(;i.push(r=new Date(+t)),a(t,n),o(t),r<t&&t<e;);return i},u.filter=function(n){return ey(function(t){if(t<=t)for(;o(t),!n(t);)t.setTime(t-1)},function(t,e){if(t<=t)if(e<0)for(;++e<=0;)for(;a(t,-1),!n(t););else for(;0<=--e;)for(;a(t,1),!n(t););})},n&&(u.count=function(t,e){return Kg.setTime(+t),ty.setTime(+e),o(Kg),o(ty),Math.floor(n(Kg,ty))},u.every=function(e){return e=Math.floor(e),isFinite(e)&&0<e?1<e?u.filter(r?function(t){return r(t)%e==0}:function(t){return u.count(0,t)%e==0}):u:null}),u}var ny=ey(function(){},function(t,e){t.setTime(+t+e)},function(t,e){return e-t});ny.every=function(n){return n=Math.floor(n),isFinite(n)&&0<n?1<n?ey(function(t){t.setTime(Math.floor(t/n)*n)},function(t,e){t.setTime(+t+e*n)},function(t,e){return(e-t)/n}):ny:null};var ry=ey(function(t){t.setTime(t-t.getMilliseconds())},function(t,e){t.setTime(+t+1e3*e)},function(t,e){return(e-t)/1e3},function(t){return t.getUTCSeconds()}),iy=ey(function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds())},function(t,e){t.setTime(+t+6e4*e)},function(t,e){return(e-t)/6e4},function(t){return t.getMinutes()}),oy=ey(function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds()-6e4*t.getMinutes())},function(t,e){t.setTime(+t+36e5*e)},function(t,e){return(e-t)/36e5},function(t){return t.getHours()}),ay=ey(function(t){t.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+e)},function(t,e){return(e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/864e5},function(t){return t.getDate()-1});function uy(e){return ey(function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+7*e)},function(t,e){return(e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/6048e5})}var cy=uy(0),ly=uy(1);uy(2),uy(3);var sy=uy(4);uy(5),uy(6);var fy=ey(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,e){t.setMonth(t.getMonth()+e)},function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())},function(t){return t.getMonth()}),hy=ey(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t,e){return e.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()});hy.every=function(n){return isFinite(n=Math.floor(n))&&0<n?ey(function(t){t.setFullYear(Math.floor(t.getFullYear()/n)*n),t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e*n)}):null};var dy=ey(function(t){t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+e)},function(t,e){return(e-t)/864e5},function(t){return t.getUTCDate()-1});function py(e){return ey(function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+7*e)},function(t,e){return(e-t)/6048e5})}var _y=py(0),gy=py(1);py(2),py(3);var yy=py(4);py(5),py(6);var vy=ey(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)},function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()});function my(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function by(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function xy(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}vy.every=function(n){return isFinite(n=Math.floor(n))&&0<n?ey(function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/n)*n),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e*n)}):null};var wy,ky,My,Ty,Sy,Ay,Ey,Ny,Cy,Oy,zy,jy,Dy,Fy,Py,Ly,Ry,Uy,Iy,Hy,qy,Yy,By,$y,Vy,Wy={"-":"",_:" ",0:"0"},Xy=/^\s*\d+/,Gy=/^%/,Zy=/[\\^$*+?|[\]().{}]/g;function Qy(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function Jy(t){return t.replace(Zy,"\\$&")}function Ky(t){return new RegExp("^(?:"+t.map(Jy).join("|")+")","i")}function tv(t){return new Map(t.map(function(t,e){return[t.toLowerCase(),e]}))}function ev(t,e,n){var r=Xy.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function nv(t,e,n){var r=Xy.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function rv(t,e,n){var r=Xy.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function iv(t,e,n){var r=Xy.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function ov(t,e,n){var r=Xy.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function av(t,e,n){var r=Xy.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function uv(t,e,n){var r=Xy.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(68<+r[0]?1900:2e3),n+r[0].length):-1}function cv(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function lv(t,e,n){var r=Xy.exec(e.slice(n,n+1));return r?(t.q=3*r[0]-3,n+r[0].length):-1}function sv(t,e,n){var r=Xy.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function fv(t,e,n){var r=Xy.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function hv(t,e,n){var r=Xy.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function dv(t,e,n){var r=Xy.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function pv(t,e,n){var r=Xy.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function _v(t,e,n){var r=Xy.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function gv(t,e,n){var r=Xy.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function yv(t,e,n){var r=Xy.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function vv(t,e,n){var r=Gy.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function mv(t,e,n){var r=Xy.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function bv(t,e,n){var r=Xy.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function xv(t,e){return Qy(t.getDate(),e,2)}function wv(t,e){return Qy(t.getHours(),e,2)}function kv(t,e){return Qy(t.getHours()%12||12,e,2)}function Mv(t,e){return Qy(1+ay.count(hy(t),t),e,3)}function Tv(t,e){return Qy(t.getMilliseconds(),e,3)}function Sv(t,e){return Tv(t,e)+"000"}function Av(t,e){return Qy(t.getMonth()+1,e,2)}function Ev(t,e){return Qy(t.getMinutes(),e,2)}function Nv(t,e){return Qy(t.getSeconds(),e,2)}function Cv(t){var e=t.getDay();return 0===e?7:e}function Ov(t,e){return Qy(cy.count(hy(t)-1,t),e,2)}function zv(t){var e=t.getDay();return 4<=e||0===e?sy(t):sy.ceil(t)}function jv(t,e){return t=zv(t),Qy(sy.count(hy(t),t)+(4===hy(t).getDay()),e,2)}function Dv(t){return t.getDay()}function Fv(t,e){return Qy(ly.count(hy(t)-1,t),e,2)}function Pv(t,e){return Qy(t.getFullYear()%100,e,2)}function Lv(t,e){return Qy((t=zv(t)).getFullYear()%100,e,2)}function Rv(t,e){return Qy(t.getFullYear()%1e4,e,4)}function Uv(t,e){var n=t.getDay();return Qy((t=4<=n||0===n?sy(t):sy.ceil(t)).getFullYear()%1e4,e,4)}function Iv(t){var e=t.getTimezoneOffset();return(0<e?"-":(e*=-1,"+"))+Qy(e/60|0,"0",2)+Qy(e%60,"0",2)}function Hv(t,e){return Qy(t.getUTCDate(),e,2)}function qv(t,e){return Qy(t.getUTCHours(),e,2)}function Yv(t,e){return Qy(t.getUTCHours()%12||12,e,2)}function Bv(t,e){return Qy(1+dy.count(vy(t),t),e,3)}function $v(t,e){return Qy(t.getUTCMilliseconds(),e,3)}function Vv(t,e){return $v(t,e)+"000"}function Wv(t,e){return Qy(t.getUTCMonth()+1,e,2)}function Xv(t,e){return Qy(t.getUTCMinutes(),e,2)}function Gv(t,e){return Qy(t.getUTCSeconds(),e,2)}function Zv(t){var e=t.getUTCDay();return 0===e?7:e}function Qv(t,e){return Qy(_y.count(vy(t)-1,t),e,2)}function Jv(t){var e=t.getUTCDay();return 4<=e||0===e?yy(t):yy.ceil(t)}function Kv(t,e){return t=Jv(t),Qy(yy.count(vy(t),t)+(4===vy(t).getUTCDay()),e,2)}function tm(t){return t.getUTCDay()}function em(t,e){return Qy(gy.count(vy(t)-1,t),e,2)}function nm(t,e){return Qy(t.getUTCFullYear()%100,e,2)}function rm(t,e){return Qy((t=Jv(t)).getUTCFullYear()%100,e,2)}function im(t,e){return Qy(t.getUTCFullYear()%1e4,e,4)}function om(t,e){var n=t.getUTCDay();return Qy((t=4<=n||0===n?yy(t):yy.ceil(t)).getUTCFullYear()%1e4,e,4)}function am(){return"+0000"}function um(){return"%"}function cm(t){return+t}function lm(t){return Math.floor(+t/1e3)}function sm(c,l){return function(t){var e,n,r,i=[],o=-1,a=0,u=c.length;for(t instanceof Date||(t=new Date(+t));++o<u;)37===c.charCodeAt(o)&&(i.push(c.slice(a,o)),null!=(n=Wy[e=c.charAt(++o)])?e=c.charAt(++o):n="e"===e?" ":"0",(r=l[e])&&(e=r(t,n)),i.push(e),a=o+1);return i.push(c.slice(a,o)),i.join("")}}function fm(i,o){return function(t){var e,n,r=xy(1900,void 0,1);if(hm(r,i,t+="",0)!=t.length)return null;if("Q"in r)return new Date(r.Q);if("s"in r)return new Date(1e3*r.s+("L"in r?r.L:0));if(!o||"Z"in r||(r.Z=0),"p"in r&&(r.H=r.H%12+12*r.p),void 0===r.m&&(r.m="q"in r?r.q:0),"V"in r){if(r.V<1||53<r.V)return null;"w"in r||(r.w=1),"Z"in r?(e=4<(n=(e=by(xy(r.y,0,1))).getUTCDay())||0===n?gy.ceil(e):gy(e),e=dy.offset(e,7*(r.V-1)),r.y=e.getUTCFullYear(),r.m=e.getUTCMonth(),r.d=e.getUTCDate()+(r.w+6)%7):(e=4<(n=(e=my(xy(r.y,0,1))).getDay())||0===n?ly.ceil(e):ly(e),e=ay.offset(e,7*(r.V-1)),r.y=e.getFullYear(),r.m=e.getMonth(),r.d=e.getDate()+(r.w+6)%7)}else("W"in r||"U"in r)&&("w"in r||(r.w="u"in r?r.u%7:"W"in r?1:0),n="Z"in r?by(xy(r.y,0,1)).getUTCDay():my(xy(r.y,0,1)).getDay(),r.m=0,r.d="W"in r?(r.w+6)%7+7*r.W-(n+5)%7:r.w+7*r.U-(n+6)%7);return"Z"in r?(r.H+=r.Z/100|0,r.M+=r.Z%100,by(r)):my(r)}}function hm(t,e,n,r){for(var i,o,a=0,u=e.length,c=n.length;a<u;){if(c<=r)return-1;if(37===(i=e.charCodeAt(a++))){if(i=e.charAt(a++),!(o=Vy[i in Wy?e.charAt(a++):i])||(r=o(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}Sy=(Ty={dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}).dateTime,Ay=Ty.date,Ey=Ty.time,Ny=Ty.periods,Cy=Ty.days,Oy=Ty.shortDays,zy=Ty.months,jy=Ty.shortMonths,Dy=Ky(Ny),Fy=tv(Ny),Py=Ky(Cy),Ly=tv(Cy),Ry=Ky(Oy),Uy=tv(Oy),Iy=Ky(zy),Hy=tv(zy),qy=Ky(jy),Yy=tv(jy),$y={a:function(t){return Oy[t.getUTCDay()]},A:function(t){return Cy[t.getUTCDay()]},b:function(t){return jy[t.getUTCMonth()]},B:function(t){return zy[t.getUTCMonth()]},c:null,d:Hv,e:Hv,f:Vv,g:rm,G:om,H:qv,I:Yv,j:Bv,L:$v,m:Wv,M:Xv,p:function(t){return Ny[+(12<=t.getUTCHours())]},q:function(t){return 1+~~(t.getUTCMonth()/3)},Q:cm,s:lm,S:Gv,u:Zv,U:Qv,V:Kv,w:tm,W:em,x:null,X:null,y:nm,Y:im,Z:am,"%":um},Vy={a:function(t,e,n){var r=Ry.exec(e.slice(n));return r?(t.w=Uy.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(t,e,n){var r=Py.exec(e.slice(n));return r?(t.w=Ly.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(t,e,n){var r=qy.exec(e.slice(n));return r?(t.m=Yy.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(t,e,n){var r=Iy.exec(e.slice(n));return r?(t.m=Hy.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(t,e,n){return hm(t,Sy,e,n)},d:fv,e:fv,f:yv,g:uv,G:av,H:dv,I:dv,j:hv,L:gv,m:sv,M:pv,p:function(t,e,n){var r=Dy.exec(e.slice(n));return r?(t.p=Fy.get(r[0].toLowerCase()),n+r[0].length):-1},q:lv,Q:mv,s:bv,S:_v,u:nv,U:rv,V:iv,w:ev,W:ov,x:function(t,e,n){return hm(t,Ay,e,n)},X:function(t,e,n){return hm(t,Ey,e,n)},y:uv,Y:av,Z:cv,"%":vv},(By={a:function(t){return Oy[t.getDay()]},A:function(t){return Cy[t.getDay()]},b:function(t){return jy[t.getMonth()]},B:function(t){return zy[t.getMonth()]},c:null,d:xv,e:xv,f:Sv,g:Lv,G:Uv,H:wv,I:kv,j:Mv,L:Tv,m:Av,M:Ev,p:function(t){return Ny[+(12<=t.getHours())]},q:function(t){return 1+~~(t.getMonth()/3)},Q:cm,s:lm,S:Nv,u:Cv,U:Ov,V:jv,w:Dv,W:Fv,x:null,X:null,y:Pv,Y:Rv,Z:Iv,"%":um}).x=sm(Ay,By),By.X=sm(Ey,By),By.c=sm(Sy,By),$y.x=sm(Ay,$y),$y.X=sm(Ey,$y),$y.c=sm(Sy,$y),ky=(wy={format:function(t){var e=sm(t+="",By);return e.toString=function(){return t},e},parse:function(t){var e=fm(t+="",!1);return e.toString=function(){return t},e},utcFormat:function(t){var e=sm(t+="",$y);return e.toString=function(){return t},e},utcParse:function(t){var e=fm(t+="",!0);return e.toString=function(){return t},e}}).format,My=wy.parse,wy.utcFormat,wy.utcParse;var dm=parseFloat,pm=My("%Y-%m-%d");function _m(e){var n=dm;return function(t){return void 0===t?n||dm:(n=t,e)}}function gm(e){var n=pm;return function(t){return void 0===t?n||pm:(n=t,e)}}function ym(t){var e=[],n={};return t.forEach(function(t){n[t]||(e.push(t),n[t]=!0)}),e}var vm=Array.isArray;function mm(t){return t}function bm(n){return{prop:function(t,e){Object.defineProperty(n,t,{value:e,enumerable:!0})},getter:function(t,e){Object.defineProperty(n,t,{get:e,enumerable:!0})},method:function(t,e){Object.defineProperty(n,t,{value:e})}}}function xm(t,e){var n=1;return t[e?"reduce":"reduceRight"](function(t,e){return t[e]||(t[e]=n),n+=1,t},{})}function wm(t,e){var n=1;return t[e?"reduce":"reduceRight"](function(t,e){return t[e]=n++,t},{})}function km(t,e,n,r){var i;i="dense"===r?function(t,e){var n=1;return t[e?"reduce":"reduceRight"](function(t,e){return t[e]||(t[e]=n++),t},{})}(e,n):"fractional"===r?function(t,e){var n=xm(t,e),r=wm(t,e);return Object.keys(n).reduce(function(t,e){return t[e]=(n[e]+r[e])/2,t},{})}(e,n):"worst"===r?wm(e,n):xm(e,n);var o=function(t){return i[t]};return"ordinal"===r&&(o=function(t){return i[t]++}),t.map(o)}function Mm(r){return r=r||Math.random,function(t,e){var n=e-t+1;return Math.floor(r()*n)+t}}function Tm(t,e){return t[Mm(e)(0,t.length-1)]}function Sm(t,e,n,r){var i,o=t.length;if(n=void 0!==e&&n,e=void 0!==e?Math.floor(e):o,!o||e<1)return[];var a=Mm(r);if(n||1===e){i=[];for(var u=0;u<e;u++)i.push(t[a(0,o-1)]);return i}i=t.slice();var c=Math.min(o,e);for(u=0;u<c;u++){var l=a(u,o-1);if(l!==u){var s=i[l],f=i[u];i[u]=s,i[l]=f}}return i.length=c,i}function Am(t,n,r){if(!n.length)return t.slice();for(var i=0,e=t.reduce(function(t,e){for(;t.length===n[i];)t.push(r),i++;return t.push(e),t},[]);n[i++];)e.push(r);return e}function Em(e,t){return vm(t)?t.map(function(t){return If(e,t)}):If(e,t)}function Nm(t){t.getter("variance",function(){return function(t,e){var n,r,i=t.length,o=0,a=-1,u=0,c=0;if(null==e)for(;++a<i;)isNaN(n=Of(t[a]))||(c+=(r=n-u)*(n-(u+=r/++o)));else for(;++a<i;)isNaN(n=Of(e(t[a],a,t)))||(c+=(r=n-u)*(n-(u+=r/++o)));if(1<o)return c/(o-1)}(this.values)}),t.getter("sd",function(){return Math.sqrt(this.variance)}),t.getter("median",function(){return Em(this.sorted_values,.5)}),t.getter("iqr",function(){var t=Em(this.sorted_values,[.25,.75]);return t[1]-t[0]}),t.method("quantiles",function(t){return Em(this.sorted_values,t)}),t.method("quartiles",function(){return Em(this.sorted_values,[.25,.5,.75])})}function Cm(t){return-90<=t&&t<=90}function Om(t){return-180<=t&&t<=180}function zm(t,n,e){return t.length?e?n(t.min)&&n(t.max)?1:0:t.values.reduce(function(t,e){return t+n(e)},0)/t.length:null}var jm,Dm,Fm,Pm,Lm,Rm=(Lm=bm(Pm={}),(Fm=Lm).method("unsorted",function(){return this.values.slice()}),Fm.method("ascending",function(){return this.sorted_values.slice()}),Fm.method("descending",function(){return this.sorted_values.slice().reverse()}),Fm.method("unique",function(){return ym(this.values)}),Fm.method("uniqueAscending",function(){return ym(this.sorted_values)}),void Fm.method("uniqueDescending",function(){return ym(this.sorted_values).reverse()}),Nm(Lm),(Dm=Lm).method("random",function(t){return Tm(this.values,t)}),void Dm.method("sample",function(t,e,n){return Sm(this.values,t,e,n)}),void Lm.method("rank",function(t,e){return km(this.values,this.sorted_values,t,e)}),void Lm.method("unclean",function(t){if(t&&t.length<this.values.length)throw new RangeError("dataset is too short");if(t&&t.length>this.values.length)throw new RangeError("dataset is too long");return Am(t=t||this.values,this.dropped_indexes,NaN)}),(jm=Lm).method("latitudeScore",function(t){return zm(this,Cm,t)}),void jm.method("longitudeScore",function(t){return zm(this,Om,t)}),Pm);function Um(t,e){var n=Object.create(Rm);return function(t,e,i){i=i||mm;var o=1/0,a=-1/0,n=null,u=0,c=[],r=Object.freeze(e.reduce(function(t,e,n){var r=i(e);return"number"!=typeof r||isNaN(r)?c.push(n):(t.push(r),o=Math.min(o,r),a=Math.max(a,r),u+=r),t},[])),l=bm(t);l.prop("enhanced_array",!0),l.prop("numeric_array",!0),l.prop("values",r),l.prop("min",r.length?o:null),l.prop("max",r.length?a:null),l.prop("sum",u),l.prop("mean",r.length?u/r.length:null),l.prop("range",r.length?a-o:null),l.prop("length",r.length),l.prop("dropped_indexes",Object.freeze(c)),l.method("extent",function(){return[this.min,this.max]}),l.getter("sorted_values",function(){return n||(function(t){var e=-1/0;return t.every(function(t){if(e<=t)return e=t,!0})}(r)&&(n=r),n=function(t){var e=1/0;return t.every(function(t){if(t<=e)return e=t,!0})}(r)?Object.freeze(r.slice().reverse()):Object.freeze(r.slice().sort(Af))),n})}(n,t,e),n}var Im=Object.freeze(["min","max","mean"]),Hm=Object.freeze(["extent","random","sample","unsorted","ascending","descending","unique","uniqueAscending","uniqueDescending","quartiles","quantiles","unclean"]);function qm(t){return"number"!=typeof t?null:new Date(t)}function Ym(t,e,n){n=n||mm;var r=Um(e.map(function(t){var e=n(t);return function(t){return"[object Date]"===Object.prototype.toString.call(t)&&!isNaN(t.getTime())}(e)?e.getTime():null})),i=bm(t);i.prop("enhanced_array",!0),i.prop("datetime_array",!0),i.getter("values",function(){return Object.freeze(r.values.map(qm))}),i.getter("sorted_values",function(){return Object.freeze(r.sorted_values.map(qm))}),i.getter("median",function(){return qm(r.median)}),i.prop("length",r.values.length),i.prop("dropped_indexes",r.dropped_indexes),i.method("rank",function(){return r.rank(arguments)});var o=function(e,n){return function(){var t=e[n].apply(e,arguments);return Array.isArray(t)?t.map(qm):qm(t)}}.bind(null,r);return Im.forEach(function(t){i.prop(t,qm(r[t]))}),Hm.forEach(function(t){i.method(t,o(t))}),t}var Bm,$m,Vm,Wm,Xm=(Wm=bm(Vm={}),($m=Wm).method("unsorted",function(){return this.values.slice()}),$m.method("ascending",function(){return this.sorted_values.slice()}),$m.method("descending",function(){return this.sorted_values.slice().reverse()}),$m.method("unique",function(){return ym(this.values)}),$m.method("uniqueAscending",function(){return ym(this.sorted_values)}),void $m.method("uniqueDescending",function(){return ym(this.sorted_values).reverse()}),(Bm=Wm).method("random",function(t){return Tm(this.values,t)}),void Bm.method("sample",function(t,e,n){return Sm(this.values,t,e,n)}),void Wm.method("rank",function(t,e){return km(this.values,this.sorted_values,t,e)}),void Wm.method("unclean",function(t){if(t&&t.length<this.values.length)throw new RangeError("dataset is too short");if(t&&t.length>this.values.length)throw new RangeError("dataset is too long");return Am(t=t||this.values,this.dropped_indexes)}),Vm);function Gm(t,e){var n=Object.create(Xm);return function(t,e,i){i=i||mm;for(var n=null,o=[],a=0,u=null,r=0;null===u&&r<e.length;){var c=i(e[r++]);"string"==typeof c&&(u=c)}var l=u,s=Object.freeze(e.reduce(function(t,e,n){var r=i(e);return"string"==typeof r?(t.push(r),u=r<u?r:u,l=l<r?r:l,r||a++):o.push(n),t},[])),f=bm(t);f.prop("enhanced_array",!0),f.prop("string_array",!0),f.prop("values",s),f.prop("min",u),f.prop("max",l),f.prop("length",s.length),f.prop("dropped_indexes",Object.freeze(o)),f.prop("n_empty",a),f.method("extent",function(){return[this.min,this.max]}),f.getter("sorted_values",function(){return n||(function(t){if(t.length<2)return!0;var e=t[0];return t.every(function(t){if(e<=t)return e=t,!0})}(s)&&(n=s),n=function(t){if(t.length<2)return!0;var e=t[0];return t.every(function(t){if(t<=e)return e=t,!0})}(s)?Object.freeze(s.slice().reverse()):Object.freeze(s.slice().sort())),n})}(n,t,e),n}var Zm,Qm=Math.log,Jm=Math.LOG10E;function Km(t,e,n){var r=getComputedStyle(t.node()).fontFamily;return(n?n+" ":"")+(Zm(e)+"px ")+r}function tb(t,e){return"translate("+t+","+e+")"}function eb(t,e,n){return"rotate("+t+","+(e=e||0)+","+(n=n||0)+")"}ft({target:"Math",stat:!0},{log10:function(t){return Qm(t)*Jm}});var nb=Math.log10||function(t){return Math.log(t)*Math.LOG10E};function rb(t){return Math.floor(nb(Math.abs(t)))}function ib(t){if(0===t)return 0;for(var e=Math.abs(String(t).replace(".",""));0!==e&&e%10==0;)e/=10;return rb(e)+1}function ob(t,e){var n=t[0][0],r=t[1][0],i=e[0][0],o=e[1][0],a=t[0][1],u=t[1][1],c=e[0][1],l=e[1][1],s=(n-r)*(c-l)-(i-o)*(a-u);if(!s)return!(n<i&&n<o&&r<i&&r<o||i<n&&o<n&&i<r&&o<r||a<c&&a<l&&u<c&&u<l||c<a&&l<a&&c<u&&l<u);var f=((n-i)*(c-l)-(a-c)*(i-o))/s;if(f<0||1<f)return!1;var h=-((n-r)*(a-c)-(a-u)*(n-i))/s;return!(h<0||1<h)}function ab(t){return t&&"number"==typeof t?0<t?1:-1:0}function ub(o){var a=o.type;(o=o.copy()).type=a;function n(t){var e=o(t);if(isNaN(e)||Math.abs(e)===1/0){var n,r=o.range();if("numeric"!==a)n=r[0]>r[1];else{var i=o.domain();n=ab(i[1]-i[0])!==ab(r[1]-r[0])}e=-1e6*(n?-1:1)}return e}return["domain","range"].forEach(function(e){n[e]=function(){var t=o[e].apply(o,arguments);return t===o?n:t}}),n.copy=function(){return ub(o)},n.type=o.type,n.step=o.step,n}function cb(t){return"[object Date]"===Object.prototype.toString.call(t)}var lb="Input data must be an array or Flourish array";function sb(t,e){if(!t)throw new TypeError(lb);if(t.enhanced_array)return t;if(!Array.isArray(t))throw new TypeError(lb);for(var n,r=e||function(t){return t},i=0;i<t.length;i++){var o=r(t[i]),a=Li(o);if("number"===a)return Um(t,e);if("string"===a)return Gm(t,e);if(cb(o))return void 0,Ym(n={},t,e),n}return Um(t,e)}function fb(n){var r=sb([]);return function(t,e){return void 0===t?r:(r=sb(t,e),n)}}var hb="Testing";function db(t){return t*(Math.PI/180)}function pb(t,n){var r;return t.filter(function(t){var e=n(t);if(e!==r)return r=e,!0})}function _b(t){var e=void 0!==t.max_space?t.max_space:100,n=void 0!==t.text_height?t.text_height:Zm(1),h=t.max_lines,r=t.angle||0,d=document.createElement("canvas").getContext("2d");d.font=t.font;var p,i=db(r);return p=(e-n*Math.sin(i))/Math.cos(i),function(t){var e=[],n=0,r=d.measureText(t).width;if(r<=p)e.push(t),n=r;else{for(var i=t.trim().split(/\s+/g),o="",a=0;a<i.length;a++){var u=i[a],c=o+(o?" ":"")+u,l=d.measureText(c).width;if(!(l<=p)){if(!(e.length+1==h)&&o)if(e.push(o),d.measureText(u).width<=p){o=u;continue}for(var s=1,f=c;f=c.substring(0,c.length-s)+"â¦",l=d.measureText(f).width,p<l&&++s<c.length;);n=Math.max(n,l),o=f;break}o=c,n=Math.max(n,l)}e.push(o)}return{lines:e,text_width:n}}}function gb(n,r){var i=["px","rem","fraction"];r=r||"width";var o=.3,a="fraction";return function(t,e){return void 0===t?function(){var t=n[r](),e="px"===a?o:"rem"===a?Zm(o):o*t;return{px:e,rem:"rem"===a?o:e/Zm(1),fraction:"fraction"===a?o:e/t,unit:a}}():(o=Math.max(t,0),a=-1!==i.indexOf(e)?e:"px",n)}}function yb(r,t,e){function n(){return u}var M=t[e],i=e+"Data",o=e+"Format",a=e+"Ticks",u=Object.freeze([]),c=r.chart.select(".fl-y-axes");return n._update=function(t){var v,m=r[i]().string_array?"string":"numeric",e=Km(kg(".fl-y-axes"),M.tick_label_size,M.tick_label_weight),b="default"===M.tick_label_position?+M.tick_label_angle:0,x=0,w=r[o]();c.append("text").style("opacity",0).style("font",e).each(function(){var t=kg(this).text(hb).node().getBoundingClientRect();v=t.height}).remove(),"object"===Li(t[0])&&(t=pb(t,w));var n=Zm(M.tick_label_space);"auto"===M.tick_label_space_mode&&(n=r[a].autoLabelSpace().px);var k=_b({text_height:v,max_space:n,font:e,angle:b,max_lines:b?1:M.tick_label_max_lines});return(u=t.map(function(t,e){var n,r,i,o,a,u,c=k(w(t)),l=c.lines,s=c.text_width,f=0,h=v*l.length+(l.length-1)*M.tick_label_line_height;if(0==b||90==b)o=i=n=b?h:s,a=u=(r=b?s+Zm(.5):h)/2,0==b&&(f=l.length<2?0:(l.length-1)/2*(v*M.tick_label_line_height));else{var d=db(b),p=Math.sin(d),_=Math.cos(d);n=(i=h*p)+(o=s*_),r=(a=h*_)+(u=s*p)}x=Math.max(x,n);var g="numeric"==m?ib(t):null,y="numeric"==m?rb(t):null;return Object.freeze({index:e,value:t,lines:l,type:m,significant_digits:g,exponent:y,text_width:s,text_height:v,box_width:n,box_height:r,box_width_above:i,box_width_below:o,box_height_above:a,box_height_below:u,multiline_offset:f})})).type=m,u.max_box_width="fixed"===M.tick_label_space_mode?Zm(M.tick_label_space):x,Object.freeze(u),r},n.autoLabelSpace=gb(r),n}function vb(e,t){function n(){return e[r+"Scale"]({domain_only:!0}).ticks()}var r=1<arguments.length&&void 0!==t?t:"x",i=n;return function(t){return void 0===t?i:(i=null===t?n:t,e)}}function mb(e){var n="";return function(t){return void 0===t?n:(n=t,e)}}var bb=St.includes;function xb(t,e){var n=e.y,r=t.yTitle();if(!n.axis_visible||!r)return 0;var i=t.chart.select(".fl-left-axis .fl-axis-title"),o=Km(i,n.title_size,n.title_weight),a=i.append("text").text(r).style("opacity",0).style("font",o),u=a.node().getBoundingClientRect().height;return a.remove(),u+2*Zm(n.title_padding)}function wb(t,e){var n=e.y2,r=t.y2Title();if(!n.axis_visible||!r)return 0;var i=t.chart.select(".fl-right-axis .fl-axis-title"),o=Km(i,n.title_size,n.title_weight),a=i.append("text").text(r).style("opacity",0).style("font",o),u=a.node().getBoundingClientRect().height;return a.remove(),u+2*Zm(n.title_padding)}function kb(t,e){var n=e.x,r=n.axis_position;if("off"===r)return 0;var i=0,o=0,a=0;if("top"===r||"bottom"==r){var u=t.xTicks();i=u.length&&"out"===n.tick_side&&"default"===n.tick_label_position?Zm(n.tick_length):0,a=u.max_box_height||0,o=u.length?Zm(n.tick_padding):0}return i+o+a+function(t,e){var n=e.x,r=t.xTitle();if("off"===n.axis_visible||!r)return 0;var i=t.chart.select(".fl-x-axis .fl-axis-title"),o=Km(i,n.title_size,n.title_weight),a=i.append("text").text(r).style("opacity",0).style("font",o),u=a.node().getBoundingClientRect().height;return a.remove(),u+2*Zm(n.title_padding)}(t,e)}function Mb(e,n){function t(){return{top:u,right:c,bottom:l,left:s}}var r,i,o,a,u,c,l,s;return t._calculated=function(){return{top:r,right:i,bottom:o,left:a}},t._update=function(t){t=t||{},r=function(t,e){var n=e.x,r=0,i=["top","float-above"].includes(n.axis_position);!t.xHide()&&i&&(r=kb(t,e));var o=0,a=0,u=t.yHide()?[]:t.yTicks();if(u.length){var c=u[u.length-1];"default"==e.y.tick_label_position?o=.9*c.box_height_above:"above"==e.y.tick_label_position&&(o+=c.box_height)}"end"!==e.y.title_position||i||(o+=xb(t,e));var l=t.y2Hide()?[]:t.y2Ticks();if(l.length){var s=l[l.length-1];"default"==e.y2.tick_label_position?a=.9*s.box_height_above:"above"==e.y2.tick_label_position&&(a+=s.box_height)}"end"!==e.y2.title_position||i||(a+=wb(t,e));var f=Math.max(Zm(.25),o,a);return Math.max(r,f)}(e,n),i=function(t,e){var n=e.y2,r=0;if(n.axis_visible){var i=t.y2Hide()?[]:t.y2Ticks();r=(i.length&&"out"===n.tick_side&&"default"===n.tick_label_position?Zm(n.tick_length):0)+(i.length?Zm(n.tick_padding):0)+(i.max_box_width||0)+(!t.y2Hide()&&"side"===n.title_position?wb(t,e):0)}var o=Zm(.25),a=0,u=t.xHide()?[]:t.xTicks();if(u.length){var c=u[u.length-1];"default"==e.x.tick_label_position?a=.9*c.box_width_right:"right"==e.x.tick_label_position&&(a=c.box_width),o=Math.max(o,a)}return Math.max(r,o)}(e,n),o=function(t,e){var n=e.x,r=0,i=["bottom","float-below"].includes(n.axis_position);!t.xHide()&&i&&(r=kb(t,e));var o=0,a=0,u=t.yHide()?[]:t.yTicks();if(u.length){var c=u[0];"default"==e.y.tick_label_position?o=.9*c.box_height_below:"below"==e.y.tick_label_position&&(o+=c.box_height)}"end"!==e.y.title_position||i||"off"===n.axis_position||(o+=xb(t,e));var l=t.y2Hide()?[]:t.y2Ticks();if(l.length){var s=l[0];"default"==e.y2.tick_label_position?a=.9*s.box_height_below:"below"==e.y2.tick_label_position&&(a+=s.box_height)}"end"!==e.y2.title_position||i||"off"===n.axis_position||(a+=wb(t,e));var f=Math.max(Zm(.25),o,a);return Math.max(r,f)}(e,n),a=function(t,e){var n=e.y,r=0;if(n.axis_visible){var i=t.yHide()?[]:t.yTicks();r=(i.length&&"out"===n.tick_side&&"default"===n.tick_label_position?Zm(n.tick_length):0)+(i.length?Zm(n.tick_padding):0)+(i.max_box_width||0)+(!t.yHide()&&"side"===n.title_position?xb(t,e):0)}var o=Zm(.25),a=0,u=t.xHide()?[]:t.xTicks();if(u.length){var c=u[0];"default"==e.x.tick_label_position?a=.9*c.box_width_left:"left"==e.x.tick_label_position&&(a=c.box_width),o=Math.max(o,a)}return Math.max(r,o)}(e,n),u=void 0!==t.top?t.top:r,c=void 0!==t.right?t.right:i,l=void 0!==t.bottom?t.bottom:o,s=void 0!==t.left?t.left:a},Object.defineProperty(t,"top",{get:function(){return u}}),Object.defineProperty(t,"right",{get:function(){return c}}),Object.defineProperty(t,"bottom",{get:function(){return l}}),Object.defineProperty(t,"left",{get:function(){return s}}),t}function Tb(t,e){return t<e?-1:e<t?1:e<=t?0:NaN}function Sb(n){var o=n,a=n;function u(t,e,n,r){for(null==n&&(n=0),null==r&&(r=t.length);n<r;){var i=n+r>>>1;a(t[i],e)<0?n=1+i:r=i}return n}return 1===n.length&&(o=function(t,e){return n(t)-e},a=function(n){return function(t,e){return Tb(n(t),e)}}(n)),{left:u,center:function(t,e,n,r){null==n&&(n=0),null==r&&(r=t.length);var i=u(t,e,n,r-1);return n<i&&o(t[i-1],e)>-o(t[i],e)?i-1:i},right:function(t,e,n,r){for(null==n&&(n=0),null==r&&(r=t.length);n<r;){var i=n+r>>>1;0<a(t[i],e)?r=i:n=1+i}return n}}}ft({target:"Array",proto:!0},{includes:function(t,e){return bb(this,t,1<arguments.length?e:void 0)}}),Js("includes");var Ab=Sb(Tb).right;Sb(function(t){return null===t?NaN:+t}).center,H_("Set",function(e){return function(t){return e(this,arguments.length?t:void 0)}},V_);var Eb=Math.sqrt(50),Nb=Math.sqrt(10),Cb=Math.sqrt(2);function Ob(t,e,n){var r,i,o,a,u=-1;if(n=+n,(t=+t)===(e=+e)&&0<n)return[t];if((r=e<t)&&(i=t,t=e,e=i),0===(a=zb(t,e,n))||!isFinite(a))return[];if(0<a){var c=Math.round(t/a),l=Math.round(e/a);for(c*a<t&&++c,e<l*a&&--l,o=new Array(i=l-c+1);++u<i;)o[u]=(c+u)*a}else{a=-a;var s=Math.round(t*a),f=Math.round(e*a);for(s/a<t&&++s,e<f/a&&--f,o=new Array(i=f-s+1);++u<i;)o[u]=(s+u)/a}return r&&o.reverse(),o}function zb(t,e,n){var r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return 0<=i?(Eb<=o?10:Nb<=o?5:Cb<=o?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(Eb<=o?10:Nb<=o?5:Cb<=o?2:1)}function jb(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return Eb<=o?i*=10:Nb<=o?i*=5:Cb<=o&&(i*=2),e<t?-i:i}function Db(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}var Fb=Symbol("implicit");function Pb(){var o,a,t=function t(){var o=new Map,a=[],r=[],i=Fb;function u(t){var e=t+"",n=o.get(e);if(!n){if(i!==Fb)return i;o.set(e,n=a.push(t))}return r[(n-1)%r.length]}return u.domain=function(t){if(!arguments.length)return a.slice();a=[],o=new Map;var e,n=Yi(t);try{for(n.s();!(e=n.n()).done;){var r=e.value,i=r+"";o.has(i)||o.set(i,a.push(r))}}catch(t){n.e(t)}finally{n.f()}return u},u.range=function(t){return arguments.length?(r=Array.from(t),u):r.slice()},u.unknown=function(t){return arguments.length?(i=t,u):i},u.copy=function(){return t(a,r).unknown(i)},Db.apply(u,arguments),u}().unknown(void 0),u=t.domain,c=t.range,l=0,s=1,f=!1,h=0,d=0,p=.5;function n(){var t=u().length,e=s<l,n=e?s:l,r=e?l:s;o=(r-n)/Math.max(1,t-h+2*d),f&&(o=Math.floor(o)),n+=(r-n-o*(t-h))*p,a=o*(1-h),f&&(n=Math.round(n),a=Math.round(a));var i=function(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((e-t)/n)),o=new Array(i);++r<i;)o[r]=t+r*n;return o}(t).map(function(t){return n+o*t});return c(e?i.reverse():i)}return delete t.unknown,t.domain=function(t){return arguments.length?(u(t),n()):u()},t.range=function(t){var e;return arguments.length?(e=Ui(t,2),l=e[0],s=e[1],l=+l,s=+s,n()):[l,s]},t.rangeRound=function(t){var e;return e=Ui(t,2),l=e[0],s=e[1],l=+l,s=+s,f=!0,n()},t.bandwidth=function(){return a},t.step=function(){return o},t.round=function(t){return arguments.length?(f=!!t,n()):f},t.padding=function(t){return arguments.length?(h=Math.min(1,d=+t),n()):h},t.paddingInner=function(t){return arguments.length?(h=Math.min(1,t),n()):h},t.paddingOuter=function(t){return arguments.length?(d=+t,n()):d},t.align=function(t){return arguments.length?(p=Math.max(0,Math.min(1,t)),n()):p},t.copy=function(){return Pb(u(),[l,s]).round(f).paddingInner(h).paddingOuter(d).align(p)},Db.apply(n(),arguments)}function Lb(){return function t(e){var n=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return t(n())},e}(Pb.apply(null,arguments).paddingInner(1))}function Rb(t){return+t}var Ub=[0,1];function Ib(t){return t}function Hb(e,n){return(n-=e=+e)?function(t){return(t-e)/n}:function(t){return function(){return t}}(isNaN(n)?NaN:.5)}function qb(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return o=i<r?(r=Hb(i,r),n(a,o)):(r=Hb(r,i),n(o,a)),function(t){return o(r(t))}}function Yb(n,t,e){var r=Math.min(n.length,t.length)-1,i=new Array(r),o=new Array(r),a=-1;for(n[r]<n[0]&&(n=n.slice().reverse(),t=t.slice().reverse());++a<r;)i[a]=Hb(n[a],n[a+1]),o[a]=e(t[a],t[a+1]);return function(t){var e=Ab(n,t,1,r)-1;return o[e](i[e](t))}}function Bb(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function $b(){var n,r,e,i,o,a,u=Ub,c=Ub,l=au,s=Ib;function f(){var t=Math.min(u.length,c.length);return s!==Ib&&(s=function(e,n){var t;return n<e&&(t=e,e=n,n=t),function(t){return Math.max(e,Math.min(n,t))}}(u[0],u[t-1])),i=2<t?Yb:qb,o=a=null,h}function h(t){return isNaN(t=+t)?e:(o=o||i(u.map(n),c,l))(n(s(t)))}return h.invert=function(t){return s(r((a=a||i(c,u.map(n),nu))(t)))},h.domain=function(t){return arguments.length?(u=Array.from(t,Rb),f()):u.slice()},h.range=function(t){return arguments.length?(c=Array.from(t),f()):c.slice()},h.rangeRound=function(t){return c=Array.from(t),l=uu,f()},h.clamp=function(t){return arguments.length?(s=!!t||Ib,f()):s!==Ib},h.interpolate=function(t){return arguments.length?(l=t,f()):l},h.unknown=function(t){return arguments.length?(e=t,h):e},function(t,e){return n=t,r=e,f()}}function Vb(){return $b()(Ib,Ib)}function Wb(l){var s=l.domain;return l.ticks=function(t){var e=s();return Ob(e[0],e[e.length-1],null==t?10:t)},l.tickFormat=function(t,e){var n=s();return function(t,e,n,r){var i,o=jb(t,e,n);switch((r=Rh(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(t),Math.abs(e));return null!=r.precision||isNaN(i=od(o,a))||(r.precision=i),td(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=ad(o,Math.max(Math.abs(t),Math.abs(e))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=id(o))||(r.precision=i-2*("%"===r.type))}return Kh(r)}(n[0],n[n.length-1],null==t?10:t,e)},l.nice=function(t){null==t&&(t=10);var e,n,r=s(),i=0,o=r.length-1,a=r[i],u=r[o],c=10;for(u<a&&(n=a,a=u,u=n,n=i,i=o,o=n);0<c--;){if((n=zb(a,u,t))===e)return r[i]=a,r[o]=u,s(r);if(0<n)a=Math.floor(a/n)*n,u=Math.ceil(u/n)*n;else{if(!(n<0))break;a=Math.ceil(a*n)/n,u=Math.floor(u*n)/n}e=n}return l},l}function Xb(){var t=Vb();return t.copy=function(){return Bb(t,Xb())},Db.apply(t,arguments),Wb(t)}var Gb=Math.log,Zb=Math.LN2;function Qb(t,e){var n,r=0,i=(t=t.slice()).length-1,o=t[r],a=t[i];return a<o&&(n=r,r=i,i=n,n=o,o=a,a=n),t[r]=e.floor(o),t[i]=e.ceil(a),t}function Jb(t){return Math.log(t)}function Kb(t){return Math.exp(t)}function tx(t){return-Math.log(-t)}function ex(t){return-Math.exp(-t)}function nx(t){return isFinite(t)?+("1e"+t):t<0?0:t}function rx(e){return function(t){return-e(-t)}}function ix(t){var h,d,e=t(Jb,Kb),p=e.domain,_=10;function n(){return h=function(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),function(t){return Math.log(t)/e})}(_),d=function(e){return 10===e?nx:e===Math.E?Math.exp:function(t){return Math.pow(e,t)}}(_),p()[0]<0?(h=rx(h),d=rx(d),t(tx,ex)):t(Jb,Kb),e}return e.base=function(t){return arguments.length?(_=+t,n()):_},e.domain=function(t){return arguments.length?(p(t),n()):p()},e.ticks=function(t){var e,n=p(),r=n[0],i=n[n.length-1];(e=i<r)&&(c=r,r=i,i=c);var o,a,u,c=h(r),l=h(i),s=null==t?10:+t,f=[];if(!(_%1)&&l-c<s){if(c=Math.floor(c),l=Math.ceil(l),0<r){for(;c<=l;++c)for(a=1,o=d(c);a<_;++a)if(!((u=o*a)<r)){if(i<u)break;f.push(u)}}else for(;c<=l;++c)for(a=_-1,o=d(c);1<=a;--a)if(!((u=o*a)<r)){if(i<u)break;f.push(u)}2*f.length<s&&(f=Ob(r,i,s))}else f=Ob(c,l,Math.min(l-c,s)).map(d);return e?f.reverse():f},e.tickFormat=function(t,n){if(null==n&&(n=10===_?".0e":","),"function"!=typeof n&&(n=Kh(n)),t===1/0)return n;null==t&&(t=10);var r=Math.max(1,_*t/e.ticks().length);return function(t){var e=t/d(Math.round(h(t)));return e*_<_-.5&&(e*=_),e<=r?n(t):""}},e.nice=function(){return p(Qb(p(),{floor:function(t){return d(Math.floor(h(t)))},ceil:function(t){return d(Math.ceil(h(t)))}}))},e}ft({target:"Math",stat:!0},{log2:function(t){return Gb(t)/Zb}});var ox=Math.sign||function(t){return 0==(t=+t)||t!=t?t:t<0?-1:1};ft({target:"Math",stat:!0},{sign:ox});var ax=Math.log,ux=Math.log1p||function(t){return-1e-8<(t=+t)&&t<1e-8?t-t*t/2:ax(1+t)};ft({target:"Math",stat:!0},{log1p:ux});var cx=Math.expm1,lx=Math.exp,sx=!cx||22025.465794806718<cx(10)||cx(10)<22025.465794806718||-2e-17!=cx(-2e-17)?function(t){return 0==(t=+t)?t:-1e-6<t&&t<1e-6?t+t*t/2:lx(t)-1}:cx;ft({target:"Math",stat:!0,forced:sx!=Math.expm1},{expm1:sx});var fx=1e3,hx=60*fx,dx=60*hx,px=24*dx,_x=7*px,gx=30*px,yx=365*px;function vx(t){return new Date(t)}function mx(t){return t instanceof Date?+t:+new Date(+t)}function bx(){return Db.apply(function t(a,e,n,r,i,o,u,c,l){var s=Vb(),f=s.invert,h=s.domain,d=l(".%L"),p=l(":%S"),_=l("%I:%M"),g=l("%I %p"),y=l("%a %d"),v=l("%b %d"),m=l("%B"),b=l("%Y"),x=[[u,1,fx],[u,5,5*fx],[u,15,15*fx],[u,30,30*fx],[o,1,hx],[o,5,5*hx],[o,15,15*hx],[o,30,30*hx],[i,1,dx],[i,3,3*dx],[i,6,6*dx],[i,12,12*dx],[r,1,px],[r,2,2*px],[n,1,_x],[e,1,gx],[e,3,3*gx],[a,1,yx]];function w(t){return(u(t)<t?d:o(t)<t?p:i(t)<t?_:r(t)<t?g:e(t)<t?n(t)<t?y:v:a(t)<t?m:b)(t)}function k(t,e,n){if(null==t&&(t=10),"number"!=typeof t)return t;var r,i=Math.abs(n-e)/t,o=Sb(function(t){return t[2]}).right(x,i);return(t=o===x.length?(r=jb(e/yx,n/yx,t),a):o?(r=(o=x[i/x[o-1][2]<x[o][2]/i?o-1:o])[1],o[0]):(r=Math.max(jb(e,n,t),1),c)).every(r)}return s.invert=function(t){return new Date(f(t))},s.domain=function(t){return arguments.length?h(Array.from(t,mx)):h().map(vx)},s.ticks=function(t){var e,n=h(),r=n[0],i=n[n.length-1],o=i<r;return o&&(e=r,r=i,i=e),e=(e=k(t,r,i))?e.range(r,i+1):[],o?e.reverse():e},s.tickFormat=function(t,e){return null==e?w:l(e)},s.nice=function(t){var e=h();return(t=k(t,e[0],e[e.length-1]))?h(Qb(e,t)):s},s.copy=function(){return Bb(s,t(a,e,n,r,i,o,u,c,l))},s}(hy,fy,cy,ay,oy,iy,ry,ny,ky).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}var xx=1e3;function wx(t,e){var n=e.edge_padding,r=e.flip?t.unique().reverse():t.unique(),i=Lb().domain(r).padding(n/100);return i.type="ordinal",i}function kx(t,e){var n=function(t,e){var n,r=e.min,i=e.max,o=e.include_zero,a=e.nice,u=e.flip;if(r===i&&(r=i=null),null!==r&&null!==i)return u?[i,r]:[r,i];if(t.range)n=t.extent(),a&&(n=Xb().domain(n).nice().domain()),o&&(0<=n[0]?n[0]=0:n[1]<0&&(n[1]=0));else if(t.length){var c=t.min;n=0<c?[0,2*c]:c<0?[2*c,0]:[-50,50]}else n=[0,100];return null!==r?(n[0]=r,n[0]===n[1]&&(n[1]=r+(t.range||100))):null!==i&&(n[1]=i,n[0]===n[1]&&(n[0]=i-(t.range||100))),u?n.reverse():n}(t,e),r=Xb().domain(n);return r.type="numeric",r}function Mx(t,e){var n=e.min,r=e.max,i=e.nice,o=e.flip,a=t.extent();a[0]<=0&&(0<a[1]?a[0]=Math.min(1,a[1]/xx):a[0]=1),a[1]<=a[0]&&(a[1]=xx*a[0]);var u=function t(){var e=ix($b()).domain([1,10]);return e.copy=function(){return Bb(e,t()).base(e.base())},Db.apply(e,arguments),e}().domain(a);i&&u.nice();var c=u.domain();return n===r&&(n=r=null),0<n&&(c[0]=n),0<r&&(c[1]=r),u.domain(o?c.reverse():c),u.type="numeric",u}function Tx(t,e){var n=e.min,r=e.max,i=e.format,o=e.nice,a=e.flip,u=t.extent(),c=bx().domain(u);o&&c.nice(),i&&c.tickFormat(null,i);var l=c.domain();return n===r&&(n=r=null),n&&(l[0]=i(n)),r&&(l[1]=i(r)),c.domain(a?l.reverse():l),c.type="datetime",c}function Sx(t,e){if(e.step)return e.step();var n=t.uniqueAscending().map(function(t){return e(t)}),r=n.length;if(r<2)return 0;for(var i=1/0,o=1;o<r;o++){var a=Math.abs(n[o]-n[o-1]);i=Math.min(i,a)}return i}function Ax(h,t){var d=t.x;return function(){var t,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=h.xData(),r={nice:d.nice,flip:h.xFlipAxis()!==d.flip};n.string_array?(t=wx,r.edge_padding=d.edge_padding):n.datetime_array?(t=Tx,r.min=d.datetime_min,r.max=d.datetime_max,r.format=h.xDatetimeParse()):"log"===d.numeric_scale_type?(t=Mx,r.min=d.log_min,r.max=d.log_max):(t=kx,r.min=d.linear_min,r.max=d.linear_max,r.include_zero="off"!==d.zero_axis&&("on"===d.zero_axis||h.xZeroAxis()));var i=t(n,r);if(e.domain_only)return i;var o=h.plot_width,a=h.margins.left,u=function(t,e,n){var r={left:0,right:0},i=t.xData();if(i.string_array)return r;var o=t.xPadding(),a=o.left,u=o.right,c=o.unit;if(i.numeric_array&&"linear"!==e.numeric_scale_type&&"px"!==c)return r;if("px"===c||!a&&!u)return{left:a,right:u};var l=i.uniqueAscending(),s=l.length;if(s<2)return r;for(var f=1/0,h=1;h<s;h++){var d=Math.abs(l[h]-l[h-1]);f=Math.min(f,d)}var p=(Math.max.apply(Math,Ii(n))-Math.min.apply(Math,Ii(n))+(a+u)*f)/f,_=t.plot_width/p;return{left:a*_,right:u*_}}(h,d,i.domain()),c=u.left,l=a+c,s=[l,l+(o-(c+u.right))],f=e.global&&h.offsetLeft();return f&&(s=s.map(function(t){return t+f})),i.range(s)}}function Ex(p,t){var _=t.y;return function(){var t,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=p.yData(),r={nice:_.nice,flip:p.yFlipAxis()!==_.flip};n.string_array?(t=wx,r.edge_padding=_.edge_padding):n.datetime_array?(t=Tx,r.min=_.datetime_min,r.max=_.datetime_max,r.format=p.yDatetimeParse()):"log"===_.numeric_scale_type?(t=Mx,r.min=_.log_min,r.max=_.log_max):(t=kx,r.min=_.linear_min,r.max=_.linear_max,r.include_zero="off"!==_.zero_axis&&("on"===_.zero_axis||p.yZeroAxis()));var i=t(n,r);if(e.domain_only)return i;var o=p.plot_height,a=p.margins.top,u=function(t,e,n){var r={bottom:0,top:0},i=t.yData();if(i.string_array)return r;var o=t.yPadding(),a=o.bottom,u=o.top,c=o.unit;if(i.numeric_array&&"linear"!==e.numeric_scale_type&&"px"!==c)return r;if("px"===c||!a&&!u)return{bottom:a,top:u};var l=i.uniqueAscending(),s=l.length;if(s<2)return r;for(var f=1/0,h=1;h<s;h++){var d=Math.abs(l[h]-l[h-1]);f=Math.min(f,d)}var p=(Math.max.apply(Math,Ii(n))-Math.min.apply(Math,Ii(n))+(a+u)*f)/f,_=t.plot_height/p;return{bottom:a*_,top:u*_}}(p,_,i.domain()),c=u.bottom,l=u.top,s=o-(c+l),f=e.global&&p.offsetTop(),h=a+l,d=[h+s,h];return f&&(d=d.map(function(t){return t+f})),i.range(d)}}function Nx(p,t){var _=t.y2;return function(){var t,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=p.y2Data(),r={nice:_.nice,flip:p.y2FlipAxis()!==_.flip};n.string_array?(t=wx,r.edge_padding=_.edge_padding):n.datetime_array?(t=Tx,r.min=_.datetime_min,r.max=_.datetime_max,r.format=p.y2DatetimeParse()):"log"===_.numeric_scale_type?(t=Mx,r.min=_.log_min,r.max=_.log_max):(t=kx,r.min=_.linear_min,r.max=_.linear_max,r.include_zero="off"!==_.zero_axis&&("on"===_.zero_axis||p.y2ZeroAxis()));var i=t(n,r);if(e.domain_only)return i;var o=p.plot_height,a=p.margins.top,u=function(t,e,n){var r={bottom:0,top:0},i=t.y2Data();if(i.string_array)return r;var o=t.y2Padding(),a=o.bottom,u=o.top,c=o.unit;if(i.numeric_array&&"linear"!==e.numeric_scale_type&&"px"!==c)return r;if("px"===c||!a&&!u)return{bottom:a,top:u};var l=i.uniqueAscending(),s=l.length;if(s<2)return r;for(var f=1/0,h=1;h<s;h++){var d=Math.abs(l[h]-l[h-1]);f=Math.min(f,d)}var p=(Math.max.apply(Math,Ii(n))-Math.min.apply(Math,Ii(n))+(a+u)*f)/f,_=t.plot_width/p;return{bottom:a*_,top:u*_}}(p,_,i.domain()),c=u.bottom,l=u.top,s=o-(c+l),f=e.global&&p.offsetTop(),h=a+l,d=[h+s,h];return f&&(d=d.map(function(t){return t+f})),i.range(d)}}function Cx(e){var n=!1;return function(t){return void 0===t?n:(n=!!t,e)}}function Ox(e){var n=!1;return function(t){return void 0===t?n:(n=!!t,e)}}function zx(e){var n=!1,r=!1;return function(t){return void 0===t?!!n&&{keep_gridlines:r}:(n=!!t,r=!(!t||"object"!==Li(t)||!t.keep_gridlines),e)}}function jx(t,e,n){var r,i=2<arguments.length&&void 0!==n?n:"x",o=e[i],a=t[i+"Scale"]({domain_only:!0}),u=t[i+"Data"]();if("x"===i?"off"===o.axis_position:!o.axis_visible)r=[];else if(u.string_array)r=a.domain();else if("number"===o.tick_mode)r=a.ticks(o.tick_number);else{var c,l=u.datetime_array;if("custom"===o.tick_mode){var s=t[i+(l?"Datetime":"Number")+"Parse"]();c=function(t){return t.split("\n").filter(function(t){return t}).map(function(t){return t.trim()})}(o.tick_custom).map(function(t){return s(t)})}else{var f=t[i+"AutoTicks"]();c=Array.isArray(f)?f:f()}c=function(t){return t.length?cb(t[0])?Array.from(new Set(t.map(function(t){return t.getTime()}))).map(function(t){return new Date(t)}):Array.from(new Set(t)):t.slice()}(c);var h=a.domain(),d=Math.min.apply(Math,Ii(h)),p=Math.max.apply(Math,Ii(h));r=l?c.filter(function(t){return function(t){return cb(t)&&!isNaN(t.getTime())}(t)&&d<=t&&t<=p}):c.filter(function(t){return!isNaN(t)&&d<=t&&t<=p})}return r}function Dx(t,e){return function(){t.xTicks._update(jx(t,e,"x")),t.yTicks._update(jx(t,e,"y")),t.y2Ticks._update(jx(t,e,"y2"))}}function Fx(t,e){var n=t.significant_digits-e.significant_digits;return n||((n=e.exponent-t.exponent)?n:(n=Math.abs(e.value)-Math.abs(t.value))?n:n=e.value-t.value)}function Px(t){t.style("user-select","none").style("-moz-user-select","none").style("-webkit-user-select","none").style("-ms-user-select","none").style("cursor","default")}function Lx(){return document.body.getAttribute("dir")}function Rx(w,k){var M,T,S,A,E,N,C,O,z,j,D,F,P,L,R,U,o,I,H,q,Y=k.x;var B,t,$,V,W,x,e,X,G,Z,n=(t=w.chart.select("g.fl-bottom-axis"),$=t.select("g.fl-axis-line"),V=t.select("g.fl-axis-ticks"),W=t.select("g.fl-axis-title"),function(){var c=Y.axis_position,t={pos:c},e=!w.xHide()&&-1!==["bottom","float-below"].indexOf(c),n=e?w.xTicks():[],r=w.y_bottom;void 0===B&&(B=r);var i=r+Zm(Y.title_padding);function o(t,e){return void 0===t||isNaN(t)?e:t}"bottom"===c&&(i+=z+n.max_box_height,t.extended_gridline=r+z+n.max_box_height);var a=B,u=r;"float-below"===c&&(a=o((q||T)(Y.y_axis_position),B),u=o(T(Y.y_axis_position),r));var l=$.selectAll("line").data(e&&Y.line_visible?[M.domain()]:[]);l.exit().style("stroke",A).style("stroke-width",E).transition().duration(S).attr("x1",F).attr("x2",L).attr("y1",u).attr("y2",u).style("opacity",0).remove();var s=l.enter().append("line").style("shape-rendering","crispEdges").style("stroke-linecap","square").style("stroke-width",E).attr("x1",R).attr("x2",U).attr("y1",a).attr("y2",a).style("opacity",0);l.merge(s).style("stroke",A).style("stroke-width",E).transition().duration(S).attr("x1",F).attr("x2",L).attr("y1",u).attr("y2",u).style("opacity",1);var f=e?n:[];function h(t){var e="default"==Y.tick_label_position?-Y.tick_label_angle:-90,n=eb(e,0,0);if("default"===Y.tick_label_position)return 0==e?tb(t.text_width/2,z+.66*O):-90==e?tb(0,z)+" "+n+" "+tb(0,.33*O-t.multiline_offset):tb(0,z)+" "+n+" "+tb(0,.66*O);var r="left"===Y.tick_label_position?-.3:1;return tb(0,z)+" "+n+" "+tb(0,O*r)}"numeric"===n.type&&"custom"!==Y.tick_mode&&(f=n.slice().sort(Fx));var d=V.selectAll("g").data(f,function(t){return t.type+"-"+t.value}),p=d.exit();p.transition().duration(S).attr("transform",function(t){return tb(H(t.value),u)}).style("opacity",0).remove(),p.each(function(){var t=kg(this);t.select("line").style("stroke",A).style("stroke-width",E).transition().duration(S).attr("y2",C),t.select("text").style("fill",N).style("font-size",O+"px").style("font-weight",Y.tick_label_weight).attr("transform",h).transition().duration(S)});var _=d.enter().append("g").style("opacity",0);_.attr("transform",function(t){return tb(I(t.value),a)}),_.each(function(){var t=kg(this);t.append("line").attr("y2",C),t.append("text").attr("text-anchor","middle").attr("transform",h).call(Px)});var g=d.merge(_);g.transition().duration(S).style("opacity",1).attr("transform",function(t){return tb(M(t.value),u)});var y,v,m=(y=[],v=u+z,function(t){var e=M(t.value);if("float-below"===c){var n=M.range();if(k.y.axis_visible&&e-t.box_width_left<n[0])return 0;if(k.y2.axis_visible&&e+t.box_width_right>n[1])return 0}for(var r=[e,v],i=[r,[e+t.box_width_right,v+t.box_height_right]],o=[r,[e-t.box_width_left,v+t.box_height_left]],a=0;a<y.length;a++){var u=y[a];if(e<=u.x_anchor){if(ob(i,u.q))return 0}else if(ob(u.p,o))return 0}return y.push({x_anchor:e,p:i,q:o}),1}),b=Lx();g.each(function(){var t=kg(this);t.select("line").style("stroke",A).style("stroke-width",E).transition().duration(S).attr("y2",C),t.select("text").each(function(){var t=kg(this).selectAll("tspan").data(function(t){return t.lines});t.merge(t.enter().append("tspan")).attr("x",0).attr("dy",function(t,e){return e?Y.tick_label_line_height+"em":0}).text(function(t){return t}),t.exit().remove()}).attr("text-anchor","rtl"===b?"start":"end").style("fill",N).style("font-size",O+"px").style("font-weight",Y.tick_label_weight).transition().duration(S).style("opacity",m).attr("transform",h)});var x=W.selectAll("text").data(e&&D?[D]:[]);return x.exit().remove(),x.enter().append("text").attr("text-anchor","middle").style("font-size",j+"px").style("fill",Y.title_color).style("font-weight",Y.title_weight).call(Px).transition().duration(0).delay(S).text(function(t){return t}).attr("x",P).attr("y",i).attr("dy",j),x.text(function(t){return t}).style("fill",Y.title_color).style("font-size",j+"px").style("font-weight",Y.title_weight).transition().duration(S).attr("x",P).attr("y",i).attr("dy",j),B=r,"bottom"==c?t:null}),r=(e=w.chart.select("g.fl-top-axis"),X=e.select("g.fl-axis-line"),G=e.select("g.fl-axis-ticks"),Z=e.select("g.fl-axis-title"),function(){var c=Y.axis_position,t={pos:c},e=!w.xHide()&&-1!==["top","float-above"].indexOf(c),n=e?w.xTicks():[],r=w.y_top;void 0===x&&(x=r);var i=r-Zm(Y.title_padding);"top"===c&&(i-=z+n.max_box_height,t.extended_gridline=r-(z+n.max_box_height));var o="float-above"===c?(q||T)(Y.y_axis_position):x,a="float-above"===c?T(Y.y_axis_position):r,u=X.selectAll("line").data(e&&Y.line_visible?[M.domain()]:[]);u.exit().style("stroke",A).style("stroke-width",E).transition().duration(S).attr("x1",F).attr("x2",L).attr("y1",a).attr("y2",a).style("opacity",0).remove();var l=u.enter().append("line").style("shape-rendering","crispEdges").style("stroke-linecap","square").style("stroke-width",E).attr("x1",R).attr("x2",R).attr("y1",o).attr("y2",o).style("opacity",0);u.merge(l).style("stroke",A).style("stroke-width",E).transition().duration(S).attr("x1",F).attr("x2",L).attr("y1",a).attr("y2",a).style("opacity",1);var s=[];function f(t){var e="default"==Y.tick_label_position?-Y.tick_label_angle:-90,n=eb(e,0,0);if("default"===Y.tick_label_position)return 0==e?tb(-t.text_width/2,-(z+.33*O)):-90==e?tb(0,-z)+" "+n+" "+tb(0,.33*O-t.multiline_offset):tb(0,-z)+" "+n+tb(0,-t.multiline_offset);var r="left"===Y.tick_label_position?-.3:1;return tb(0,-z)+" "+n+" "+tb(0,O*r)}e&&(s="numeric"===n.type?n.slice().sort(Fx):n);var h=G.selectAll("g").data(s,function(t){return t.type+"-"+t.value}),d=h.exit();d.transition().duration(S).attr("transform",function(t){return tb(H(t.value),a)}).style("opacity",0).remove(),d.each(function(){var t=kg(this);t.select("line").style("stroke",A).style("stroke-width",E).transition().duration(S).attr("y2",-C),t.select("text").style("fill",N).style("font-size",O+"px").style("font-weight",Y.tick_label_weight).attr("transform",f).transition().duration(S)});var p=h.enter().append("g").style("opacity",0);p.attr("transform",function(t){return tb(I(t.value),o)}),p.each(function(){var t=kg(this);t.append("line").attr("y2",-C),t.append("text").attr("text-anchor","middle").attr("transform",f).call(Px)});var _=h.merge(p);_.transition().duration(S).style("opacity",1).attr("transform",function(t){return tb(M(t.value),a)});var g,y,v=(g=[],y=a+z,function(t){var e=M(t.value);if("float-above"===c){var n=M.range();if(k.y.axis_visible&&e-t.box_width_left<n[0])return 0;if(k.y2.axis_visible&&e+t.box_width_right>n[1])return 0}for(var r=[e,y],i=[r,[e-t.box_width_left,y-t.box_height_left]],o=[r,[e+t.box_width_right,y-t.box_height_right]],a=0;a<g.length;a++){var u=g[a];if(e<=u.x_anchor){if(ob(o,u.p))return 0}else if(ob(i,u.q))return 0}return g.push({x_anchor:e,p:i,q:o}),1}),m=Lx();_.each(function(){var t=kg(this);t.select("line").style("stroke",A).style("stroke-width",E).transition().duration(S).attr("y2",-C),t.select("text").each(function(){var t=kg(this).selectAll("tspan").data(function(t){return t.lines});t.merge(t.enter().append("tspan")).attr("x",0).attr("dy",function(t,e){return e?Y.tick_label_line_height+"em":0}).text(function(t){return t}),t.exit().remove()}).attr("text-anchor","rtl"===m?"end":"start").style("fill",N).style("font-size",O+"px").style("font-weight",Y.tick_label_weight).transition().duration(S).style("opacity",v).attr("transform",f)});var b=Z.selectAll("text").data(e&&D?[D]:[]);return b.exit().remove(),b.enter().append("text").attr("text-anchor","middle").style("font-size",j+"px").style("fill",Y.title_color).style("font-weight",Y.title_weight).call(Px).transition().duration(0).delay(S).text(function(t){return t}).attr("x",P).attr("y",i).attr("dy",-.33*j),b.text(function(t){return t}).style("fill",Y.title_color).style("font-size",j+"px").style("font-weight",Y.title_weight).transition().duration(S).attr("x",P).attr("y",i).attr("dy",-.33*j),x=r,"top"==c?t:null});return function(){!function(){M=ub(w.xScale()),T=ub(w.yScale()),S=o?w.animationDuration():0,F=w.x_left,L=w.x_right,P=(F+L)/2,void 0===R&&(R=F),I=(o=o||M).type===M.type&&"ordinal"!==M.type?o:M,H=o.type===M.type&&"ordinal"!==o.type?M:o,A=Y.line_and_tick_color,E=Zm(Y.line_and_tick_width,!0),N=Y.tick_label_color;var t="default"===Y.tick_label_position,e=w.xTicks(),n=e.max_box_height,r=e.length?Zm(Y.tick_padding):0;"top"!=Y.axis_position&&"bottom"!=Y.axis_position||(n+=r);var i="out"===Y.tick_side;C=t?Zm(Y.tick_length)*(i?1:-1):n,O=Zm(Y.tick_label_size),z=(i&&t?C:0)+r,j=Zm(Y.title_size),D=w.xTitle()}();var t=n(),e=r();return o=M,q=T,R=F,U=L,t||e}}function Ux(t,e){var n=Rx(t,e),r=function(U,I){var H,q,Y,B,$,t=U.chart.select("g.fl-left-axis"),V=t.select("g.fl-axis-line"),W=t.select("g.fl-axis-ticks"),X=t.select("g.fl-axis-title"),G=I.y;return function(){var t={},e=G.axis_visible&&!U.yHide(),n=ub(U.xScale()),u=ub(U.yScale()),c=e?U.yTicks():[],r=H?U.animationDuration():0;H=H||n;var i=(q=q||u).type===u.type&&"ordinal"!==u.type?q:u,o=q.type===u.type&&"ordinal"!==q.type?u:q,l=U.y_bottom,s=U.y_top;void 0===Y&&(Y=l),void 0===B&&(B=s);var f=U.x_left;void 0===$&&($=f);var a=G.line_and_tick_color,h=Zm(G.line_and_tick_width,!0),d=G.tick_label_color,p="default"===G.tick_label_position,_="out"===G.tick_side,g=Zm(G.tick_padding),y=U.yTicks().max_box_width+g,v=p?Zm(G.tick_length)*(_?1:-1):y,m=Zm(G.tick_label_size),b=(_&&p?v:0)+g,x=U.yTitle(),w=Zm(G.title_size),k=b+c.max_box_width+Zm(G.title_padding)+.33*w;t.extended_gridline=f-(b+c.max_box_width);var M=(s+l)/2,T=V.selectAll("line").data(e&&G.line_visible?[u.domain()]:[]);T.exit().style("stroke",a).style("stroke-width",h).transition().duration(r).attr("x1",f).attr("x2",f).attr("y1",l).attr("y2",s).style("opacity",0).remove();var S=T.enter().append("line").style("shape-rendering","crispEdges").style("stroke-linecap","square").style("stroke-width",h).attr("x1",$).attr("x2",$).attr("y1",Y).attr("y2",B).style("opacity",0);T.merge(S).style("stroke",a).style("stroke-width",h).transition().duration(r).attr("x1",f).attr("x2",f).attr("y1",l).attr("y2",s).style("opacity",1);var A=e?c:[];function E(t){if("default"!==G.tick_label_position)return tb(-b-(c.max_box_width-t.box_width),("above"===G.tick_label_position?-.3:1)*m);var e=-G.tick_label_angle;if(0==e)return tb(-b,.33*m-t.multiline_offset);var n=tb(-b,0)+" "+eb(e);return-90==e&&(n+=" "+tb(t.text_width/2,0)),n}"numeric"===c.type&&"custom"!==G.tick_mode&&(A=c.slice().sort(Fx));var N=W.selectAll("g").data(A,function(t){return t.type+"-"+t.value}),C=N.exit();C.transition().duration(r).attr("transform",function(t){return tb(f,o(t.value))}).style("opacity",0).remove(),C.each(function(){var t=kg(this);t.select("line").style("stroke",a).style("stroke-width",h).transition().duration(r).attr("x2",-v),t.select("text").style("fill",d).style("font-size",m+"px").style("font-weight",G.tick_label_weight).attr("transform",E).transition().duration(r)});var O=N.enter().append("g").style("opacity",0);O.attr("transform",function(t){return tb($,i(t.value))});var z="rtl"===Lx()?"start":"end";O.each(function(){var t=kg(this);t.append("line").attr("x2",-v),t.append("text").attr("text-anchor",z).attr("transform",E).call(Px)});var j=N.merge(O);j.transition().duration(r).style("opacity",1).attr("transform",function(t){return tb(f,u(t.value))});var D,F,P=(D=[],F=f-b,function(t){for(var e=u(t.value),n=[F,e],r=[n,[F-t.box_width_above,e-t.box_height_above]],i=[n,[F-t.box_width_below,e+t.box_height_below]],o=0;o<D.length;o++){var a=D[o];if(e>=a.y_anchor){if(ob(r,a.q))return 0}else if(ob(a.p,i))return 0}return D.push({y_anchor:e,p:r,q:i}),1});j.each(function(){var t=kg(this);t.select("line").style("stroke",a).style("stroke-width",h).transition().duration(r).attr("x2",-v),t.select("text").each(function(){var t=kg(this).selectAll("tspan").data(function(t){return t.lines});t.merge(t.enter().append("tspan")).attr("x",0).attr("dy",function(t,e){return e?G.tick_label_line_height+"em":0}).text(function(t){return t}),t.exit().remove()}).style("fill",d).style("font-size",m+"px").style("font-weight",G.tick_label_weight).attr("text-anchor",z).transition().duration(r).style("opacity",P).attr("transform",E)});var L=X.selectAll("text").data(e&&x?[x]:[]);L.exit().remove();function R(){if("side"===G.title_position)return tb(f,M)+" "+eb(-90)+" "+tb(0,-k);var t,e=f-U.margins._calculated().left,n=["top","float-above"].includes(I.x.axis_position),r=Zm(G.title_padding);if(n){var i=c[0].box_height_below,o=Zm(.66*G.title_size);t=l+(i+r+o)}else{var a=c[c.length-1].box_height_above;t=s-(a+r)}return tb(e,t)}return L.enter().append("text").attr("text-anchor","side"===G.title_position?"middle":"start").style("font-size",w+"px").style("fill",G.title_color).style("font-weight",G.title_weight).call(Px).transition().duration(0).delay(r).text(function(t){return t}).attr("transform",R),L.text(function(t){return t}).attr("text-anchor","side"===G.title_position?"middle":"start").style("fill",G.title_color).style("font-size",w+"px").style("font-weight",G.title_weight).transition().duration(r).attr("transform",R),H=n,q=u,Y=l,B=s,$=f,t}}(t,e),i=function(U,I){var H,q,Y,B,$,t=U.chart.select("g.fl-right-axis"),V=t.select("g.fl-axis-line"),W=t.select("g.fl-axis-ticks"),X=t.select("g.fl-axis-title"),G=I.y2;return function(){var t={},e=G.axis_visible&&!U.y2Hide(),n=ub(U.xScale()),u=ub(U.y2Scale()),c=e?U.y2Ticks():[],r=H?U.animationDuration():0;H=H||n;var i=(q=q||u).type===u.type&&"ordinal"!==u.type?q:u,o=q.type===u.type&&"ordinal"!==q.type?u:q,l=U.y_bottom,s=U.y_top;void 0===Y&&(Y=l),void 0===B&&(B=s);var f=U.x_right;void 0===$&&($=f);var a=G.line_and_tick_color,h=Zm(G.line_and_tick_width,!0),d=G.tick_label_color,p="default"===G.tick_label_position,_="out"===G.tick_side,g=Zm(G.tick_padding),y=U.y2Ticks().max_box_width+g,v=p?Zm(G.tick_length)*(_?1:-1):y,m=Zm(G.tick_label_size),b=(_&&p?v:0)+g,x=U.y2Title(),w=Zm(G.title_size),k=b+c.max_box_width+Zm(G.title_padding)+.85*w;t.extended_gridline=f+b+c.max_box_width;var M=(l+s)/2,T=V.selectAll("line").data(e&&G.line_visible?[u.domain()]:[]);T.exit().style("stroke",a).style("stroke-width",h).transition().duration(r).attr("x1",f).attr("x2",f).attr("y1",l).attr("y2",s).style("opacity",0).remove();var S=T.enter().append("line").style("shape-rendering","crispEdges").style("stroke-linecap","square").style("stroke-width",h).attr("x1",$).attr("x2",$).attr("y1",Y).attr("y2",B).style("opacity",0);T.merge(S).style("stroke",a).style("stroke-width",h).transition().duration(r).attr("x1",f).attr("x2",f).attr("y1",l).attr("y2",s).style("opacity",1);var A="numeric"===c.type?c.slice().sort(Fx):c;function E(t){if("default"!==G.tick_label_position)return tb(b+(c.max_box_width-t.box_width),("above"===G.tick_label_position?-.3:1)*m);var e=-G.tick_label_angle;if(0==e)return tb(b,.33*m-t.multiline_offset);var n=tb(b,0)+" "+eb(e);return-90==e&&(n+=" "+tb(t.text_width/2,0)),n}var N=W.selectAll("g").data(A,function(t){return t.type+"-"+t.value}),C=N.exit();C.transition().duration(r).attr("transform",function(t){return tb(f,o(t.value))}).style("opacity",0).remove(),C.each(function(){var t=kg(this);t.select("line").style("stroke",a).style("stroke-width",h).transition().duration(r).attr("x2",-v),t.select("text").style("fill",d).style("font-size",m+"px").style("font-weight",G.tick_label_weight).attr("transform",E).transition().duration(r)});var O=N.enter().append("g").style("opacity",0);O.attr("transform",function(t){return tb($,i(t.value))});var z=Lx();O.each(function(){var t=kg(this);t.append("line").attr("x2",v),t.append("text").attr("transform",E).call(Px)});var j=N.merge(O);j.transition().duration(r).style("opacity",1).attr("transform",function(t){return tb(f,u(t.value))}).attr("text-anchor","rtl"===z?"end":"start");var D,F,P=(D=[],F=f+b,function(t){for(var e=u(t.value),n=[F,e],r=[n,[F-t.box_width_above,e-t.box_height_above]],i=[n,[F-t.box_width_below,e+t.box_height_below]],o=0;o<D.length;o++){var a=D[o];if(e>=a.y_anchor){if(ob(r,a.q))return 0}else if(ob(a.p,i))return 0}return D.push({y_anchor:e,p:r,q:i}),1});j.each(function(){var t=kg(this);t.select("line").style("stroke",a).style("stroke-width",h).transition().duration(r).attr("x2",v),t.select("text").each(function(){var t=kg(this).selectAll("tspan").data(function(t){return t.lines});t.merge(t.enter().append("tspan")).attr("x",0).attr("dy",function(t,e){return e?G.tick_label_line_height+"em":0}).text(function(t){return t}),t.exit().remove()}).style("fill",d).style("font-size",m+"px").style("font-weight",G.tick_label_weight).transition().duration(r).style("opacity",P).attr("transform",E)});var L=X.selectAll("text").data(e&&x?[x]:[]);L.exit().remove();function R(){if("side"===G.title_position)return tb(f,M)+" "+eb(-90)+" "+tb(0,k);var t,e=f+U.margins._calculated().right,n=["top","float-above"].includes(I.x.axis_position),r=Zm(G.title_padding);if(n){var i=c[0].box_height_below,o=Zm(.66*G.title_size);t=l+(i+r+o)}else{var a=c[c.length-1].box_height_above;t=s-(a+r)}return tb(e,t)}return L.enter().append("text").attr("text-anchor","side"===G.title_position?"middle":"end").style("font-size",w+"px").style("fill",G.title_color).style("font-weight",G.title_weight).call(Px).transition().duration(0).delay(r).text(function(t){return t}).attr("transform",R),L.text(function(t){return t}).attr("text-anchor","side"===G.title_position?"middle":"end").style("fill",G.title_color).style("font-size",w+"px").style("font-weight",G.title_weight).transition().duration(r).attr("transform",R),H=n,q=u,Y=l,B=s,$=f,t}}(t,e);return function(){return{x:n(),y:r(),y2:i()}}}var Ix={solid:null,dash:[4,1],dot:[1,1],dot_dash:[4,1,1,1]};function Hx(t){if("solid"===t)return null;var e=Zm(1)/4;return Ix[t].map(function(t){return t*e}).join(" ")}function qx(n,t){var r=function(t){var e=t.chart.select("rect.fl-chart-debug-rectangle");return function(){e.attr("width",t.width()).attr("height",t.height()).style("stroke",t.debugColor()).style("display",t.debug()?null:"none")}}(n),i=Dx(n,t),o=function(_,g){var y=_.chart.select("clipPath.fl-data-clip-path"),v=y.select("rect"),m=_.chart.select("clipPath.fl-grid-clip-path"),b=m.select("rect"),x=_.chart.select(".fl-data-background"),w=_.chart.select(".fl-data-foreground"),k=_.chart.select(".fl-gridlines");return function(){var t=_.identifier()+"-clip-path",e="url(#"+t+")";y.attr("id",t);var n=_.identifier()+"-grid-clip-path",r="url(#"+n+")";m.attr("id",n),x.attr("clip-path",e),w.attr("clip-path",e),k.attr("clip-path",r);var i=_.x_left,o=_.x_right,a=_.y_top,u=_.y_bottom,c=_.clip(),l=c.left?i:0,s=c.top?a:0,f=Math.max((c.right?o:_.width())-l,1),h=Math.max((c.bottom?u:_.height())-s,1);v.attr("x",l).attr("y",s).attr("width",f).attr("height",h);var d=Zm(g.x.gridline_width,!0),p=Zm(g.y.gridline_width,!0);b.transition().duration(_.animationDuration()).attr("x",i-d).attr("y",a-p).attr("width",o-i+2*d).attr("height",u-a+2*p)}}(n,t),a=function(a,t){var u=t.background,c=a.chart.select("rect.fl-chart-fill"),l=a.chart.select("image.fl-chart-image"),s=a.chart.select("rect.fl-chart-interaction");return function(){var t=a.xScale().range(),e=a.yScale().range(),n=t[0],r=e[1],i=Math.max(a.plot_width,1),o=Math.max(a.plot_height,1);c.attr("x",n).attr("y",r).attr("width",i).attr("height",o).attr("fill",u.background_color_enabled?u.background_color:"none"),l.attr("x",n).attr("y",r).attr("width",i).attr("height",o).attr("xlink:href",u.background_image_enabled?u.background_image_src:null).attr("preserveAspectRatio",function(){return"stretch"==u.background_image_size?"none":u.background_image_position+" "+u.background_image_size}),s.attr("x",n).attr("y",r).attr("width",i).attr("height",o)}}(n,t),u=Ux(n,t),c=function(C,O){var z,j,D,F,P,L,R,U=O.x,I=O.y,H=O.y2,q=C.chart.select("g.fl-gridlines-vertical"),Y=C.chart.select("g.fl-gridlines-horizontal");return function(r){var e=ub(C.xScale()),n=ub(C.yScale()),i=ub(C.y2Scale()),t=C.x_left,o=C.x_right;void 0===F&&(F=t),void 0===P&&(P=o);var a=C.y_bottom,u=C.y_top;void 0===L&&(L=a),void 0===R&&(R=u),j=j||n,D=D||i;function c(t){if("x"===t&&"off"===O.x.axis_position)return[];if("x"!==t&&!O[t].axis_visible)return[];if(!O[t].gridlines_visible)return[];var e=C[t+"Hide"]();return e&&!e.keep_gridlines?[]:C[t+"Ticks"]()}var l=(z=z||e).type===e.type&&"ordinal"!==e.type?z:e,s=z.type===e.type&&"ordinal"!==z.type?e:z,f=j.type===n.type&&"ordinal"!==n.type?j:n,h=j.type===n.type&&"ordinal"!==j.type?n:j,d=D.type===i.type&&"ordinal"!==D.type?D:i,p=D.type===i.type&&"ordinal"!==D.type?i:D,_=z?C.animationDuration():0,g=c("x"),y=c("y"),v=c("y2"),m=g.map(function(t){return{type:t.type,value:t.value,dasharray:Hx(U.gridline_style),stroke:U.gridline_color,width:Zm(U.gridline_width,!0),x_enter:l(t.value),x:e(t.value)}});if(U.gridline_category_dividers&&e.step){var b=e.step();m.pop(),m.forEach(function(t){if(t.x_enter+=b/2,t.x+=b/2,U.gridline_category_dividers_extend){var e=r.x&&"top"==r.x.pos,n=r.x&&"bottom"==r.x.pos;e?t.y2=r.x.extended_gridline:n&&(t.y1=r.x.extended_gridline)}})}var x=y.map(function(t){return{axis:"y",type:t.type,value:t.value,dasharray:Hx(I.gridline_style),stroke:I.gridline_color,width:Zm(I.gridline_width,!0),y_enter:f(t.value),y:n(t.value)}});if(I.gridline_category_dividers&&n.step){var w=n.step();x.pop(),x.forEach(function(t){t.y_enter-=w/2,t.y-=w/2,I.gridline_category_dividers_extend&&(t.x1=r.y.extended_gridline)})}var k=v.map(function(t){return{axis:"y2",type:t.type,value:t.value,dasharray:Hx(H.gridline_style),stroke:H.gridline_color,width:Zm(H.gridline_width),y_enter:d(t.value),y:i(t.value)}});if(H.gridline_category_dividers&&i.step){var M=i.step();k.pop(),k.forEach(function(t){t.y_enter-=M/2,t.y-=M/2,H.gridline_category_dividers_extend&&(t.x2=r.y2.extended_gridline)})}var T=x.concat(k),S=q.selectAll("line").data(m,function(t){return t.type+"-"+t.value});S.exit().attr("stroke-dasharray",function(t){return t.dasharray}).style("stroke",function(t){return t.stroke}).style("stroke-width",function(t){return t.width}).transition().duration(_).attr("x1",function(t){return s(t.value)}).attr("x2",function(t){return s(t.value)}).attr("y1",a).attr("y2",u).style("opacity",0).remove();var A=S.enter().append("line").style("shape-rendering","crispEdges").attr("x1",function(t){return t.x_enter}).attr("x2",function(t){return t.x_enter}).attr("y1",L).attr("y2",R).style("opacity",0);S.merge(A).attr("stroke-dasharray",function(t){return t.dasharray}).style("stroke",function(t){return t.stroke}).style("stroke-width",function(t){return t.width}).transition().duration(_).attr("x1",function(t){return t.x}).attr("x2",function(t){return t.x}).attr("y1",a).attr("y2",u).style("opacity",1);var E=Y.selectAll("line").data(T,function(t){return t.axis+"-"+t.type+"-"+t.value});E.exit().attr("stroke-dasharray",function(t){return t.dasharray}).style("stroke",function(t){return t.stroke}).style("stroke-width",function(t){return t.width}).transition().duration(_).attr("x1",t).attr("x2",o).attr("y1",function(t){return"y"===t.axis?h(t.value):p(t.value)}).attr("y2",function(t){return"y"===t.axis?h(t.value):p(t.value)}).style("opacity",0).remove();var N=E.enter().append("line").style("shape-rendering","crispEdges").attr("x1",F).attr("x2",P).attr("y1",function(t){return t.y_enter}).attr("y2",function(t){return t.y_enter}).style("opacity",0);E.merge(N).attr("stroke-dasharray",function(t){return t.dasharray}).style("stroke",function(t){return t.stroke}).style("stroke-width",function(t){return t.width}).transition().duration(_).attr("x1",t).attr("x2",o).attr("y1",function(t){return t.y}).attr("y2",function(t){return t.y}).style("opacity",1),z=e,j=n,D=i,F=t,P=o}}(n,t);return function(t){if(t=t||{},function(){var n=parseFloat(getComputedStyle(document.documentElement).fontSize),r=window.devicePixelRatio;Zm=function(t,e){return t?e?Math.max(Math.round(t*n*r),1)/r:t*n:0}}(),function(){var t=null;(n.offsetLeft()||n.offsetTop())&&(t="translate("+n.offsetLeft()+","+n.offsetTop()+")"),n.chart.attr("transform",t)}(),r(),i(),function(t){n.margins._update(t)}(t.margins),t.skip_rendering)return n;o(),a();var e=u();return c(e),n}}document.createElement("canvas").getContext("2d");var Yx,Bx,$x,Vx,Wx,Xx,Gx={max_width:8,position:"spread-y",hide_overlaps:!0,text_color:null,text_size:1,text_bg_size:25,text_bg_color:null,text_weight:700,text_line_height:.9,text_max_lines:3,text_padding_vertical:.5,text_padding_horizontal:.5,lines:"auto",line_padding:.25,line_color:"#aaaaaa",line_width:.075,line_style:"step"};function Zx(t,e){for(var n in Gx)n in t||(t[n]=Gx[n]);return this._data=[],this._container=void 0!==e?e:null,this._state=t,this._duration=1e3,this._delay=1e3,this._y_bounds=[-1/0,1/0],this._group=null,this._background_color=null,this._foreground_color="black",this._aria_hidden=!1,this}function Qx(t,e){t.top+=e,t.bottom+=e,t.y_offset+=e}function Jx(t,e,n){for(var r=t.sort(function(t,e){return Af(t.y,e.y)}),i=[],o=0;o<r.length;o++){var a=r[o],u=r[o-1]||null,c=u?a.top-(u.bottom+n):a.top-e[0];0==o||0<c?i.push([a]):i[i.length-1].push(a)}for(o=0;o<i.length;o++)for(var l=i[o],s=0;s<l.length;s++){a=l[s];u=l[s-1]||null,(c=u?a.top-(u.bottom+n):a.top-e[0])<0&&Qx(a,-c)}for(o=i.length-1;0<=o;o--){l=i[o];var f=i[o+1]?i[o+1][0].top:e[1];(d=f-l[l.length-1].bottom-n)<0&&l.forEach(function(t){Qx(t,d)})}for(o=0;o<i.length;o++){l=i[o];var h=i[o-1]?i[o-1][i[o-1].length-1].bottom+n:e[0],d=(c=l[0].top-h,(f=e[1])-l[l.length-1].bottom);c<0&&0<d&&l.forEach(function(t){Qx(t,Math.min(-c,d))})}for(o=0;o<i.length;o++){l=i[o],h=i[o-1]?i[o-1][i[o-1].length-1].bottom+n:e[0],c=l[0].top-h,d=(f=i[o+1]?i[o+1][0].top:e[1])-l[l.length-1].bottom;var p=0;l.forEach(function(t){p+=t.y_offset});var _=-(p/l.length),g=_<0?Math.max(_,-c):Math.min(_,d),y=0,v=0;l.forEach(function(t){Qx(t,g),t.y_offset<0&&(t.positive_index=y++),0<t.y_offset&&(t.negative_index=v++)}),l.forEach(function(t){t.y_offset<0?(t.step_line_x_index=t.positive_index,t.step_line_x_count=y):0<t.y_offset&&(t.step_line_x_index=v-t.negative_index-1,t.step_line_x_count=v)})}t.any_offsets=t}function Kx(t,e){for(var n=t.sort(function(t,e){return Af(t.y,e.y)}),r=e[0],i=0;i<n.length;i++){var o=n[i];o.top<r||o.bottom>e[1]?o.hidden=!0:r=o.bottom}}function tw(t){var e,n;return window.innerWidth!==e&&(e=window.innerWidth,n=parseFloat(getComputedStyle(document.documentElement).fontSize)),t*n}Zx.prototype.container=function(t){return void 0!==t?(this._container=t,this):this._container},Zx.prototype.data=function(t){return void 0!==t?(this._data=t,this):this._data},Zx.prototype.group=function(t){return void 0!==t?(this._group=t,this):this._group},Zx.prototype.backgroundColor=function(t){return void 0!==t?(this._background_color=t,this):this._background_color},Zx.prototype.foregroundColor=function(t){return void 0!==t?(this._foreground_color=t,this):this._foreground_color},Zx.prototype.duration=function(t){return void 0!==t?(this._duration=t,this):this._duration},Zx.prototype.delay=function(t){return void 0!==t?(this._delay=t,this):this._delay},Zx.prototype.yBounds=function(t){return void 0!==t?(this._y_bounds=t,this):this._y_bounds},Zx.prototype.ariaHidden=function(t){return void 0!==t?(this._aria_hidden=t,this):this._aria_hidden},Zx.prototype.getWidth=function(){return this.update(!0)},Zx.prototype.on=function(i,o){return this._container&&(o?vi(this._container).on(i,function(){var t=li.target;if("mouseleave"!=i&&"mouseout"!=i){for(var e=!1,n=0;n<5&&!(e=t.classList.contains("fl-label"));n++)t=t.parentNode;if(e){var r=vi(t).datum();o.call(t,li,r)}}else o.call(t,li)}):vi(this._container).on(i,null)),this},Zx.prototype.update=function(t){if(null!=this._container){var e,n,r,i,o,a=this._state,u=this._duration,c=this._delay,l=this._container,s=this._data,f=this._y_bounds,h=this._screenreadable,d=this._background_color,p=this._foreground_color,_=tw(a.text_size),g=(e=l,n=_,r=a.text_weight+" ",i=n+"px ",o=getComputedStyle(e).fontFamily,r+i+o),y=_*a.text_line_height,v=tw(a.text_padding_vertical),m=tw(a.text_padding_horizontal),b=Math.min(m/2,tw(a.line_padding)),x=m-b,w=function(i,t,o,a,u){var c=0,e=t.map(function(t){var e=function(t,e,n,r){var i=[],o=0,a=document.createElement("canvas").getContext("2d");a.font=e;var u=a.measureText(t).width;if(u<=r)i.push(t),o=u;else{for(var c=t.trim().split(/\s+/g),l="",s=0;s<c.length;s++){var f=c[s],h=l+(l?" ":"")+f,d=a.measureText(h).width;if(!(d<=r)){if(!(i.length+1==n)&&l)if(i.push(l),a.measureText(f).width<=r){l=f;continue}for(var p=1,_=h;_=h.substring(0,h.length-p)+"â¦",r<(d=a.measureText(_).width)&&++p<h.length;);o=Math.max(o,d),l=_;break}l=h,o=Math.max(o,d)}i.push(l)}return i.widest_line=o,i}(t.text,o,a,u);c=Math.max(c,e.widest_line);var n={};n.x=t.x,n.y=t.y,n.id=t.id,n.text=t.text,n.color=t.color,n.opacity=isNaN(t.opacity)?1:t.opacity,n.datum=t.datum||{},n.alignment=["left","right"].includes(t.alignment)?t.alignment:"right",n.lines=e;var r=i._group&&"undefined"!==t[i._group];return n.group=r?t[i._group]:"",n});return e.widest_label=c,e}(this,s,g,a.text_max_lines,tw(a.max_width));if(t)return w.widest_label+m;w.forEach(function(t){var e=.33*_-y*(t.lines.length-1)/2;t.dy=e;var n=0,r=y-t.dy,i=t.y-r-f[0];i<0&&(n=-i);var o=y*(t.lines.length-1)- -t.dy,a=f[1]-t.y-o;a<0&&(n-=-a);t.y_offset=n,t.height=y*t.lines.length,t.top=t.y+t.y_offset-t.height/2,t.bottom=t.top+t.height});var k={};this._group?w.forEach(function(t){var e=t.group;e in k||(k[e]=[]),k[e].push(t)}):k=[w];var M=!1;if("spread-y"==a.position)for(var T in k){var S=k[T];Jx(S,f,v),S.any_offsets&&(M=!0)}if(a.hide_overlaps)for(var T in k)Kx(k[T],f);var A=!0;"off"!=a.lines&&("auto"!=a.lines||M)||(A=!1),w=w.filter(function(t){return!t.hidden});var E=vi(this._container).selectAll(".fl-label").data(w,function(t){return null==t.id?t.text:t.id}),N=E.enter().append("g").attr("class","fl-label").attr("transform",function(t){return"translate("+t.x+","+t.y+")"}).attr("font-size",_).attr("font-weight",a.text_weight).attr("opacity",0);N.append("path").attr("fill","none").attr("d",F).attr("stroke-width",a.line_width+"rem").attr("stroke",a.line_color||p),N.append("text").attr("class","bg").attr("transform",j),N.append("text").attr("class","fg").attr("transform",j);var C=E.merge(N);C.attr("aria-hidden",!h).attr("id",function(t){return t.id}).transition().duration(u).delay(c).attr("transform",function(t){return"translate("+t.x+","+t.y+")"}).attr("font-size",_).attr("font-weight",a.text_weight).attr("opacity",function(t){return t.opacity}),C.select("path").transition().duration(u).delay(c).attr("d",F).attr("stroke-width",a.line_width+"rem").attr("stroke",a.line_color||p),C.select("text.bg").attr("text-anchor",D).transition().duration(u).delay(c).attr("transform",j),C.select("text.fg").attr("text-anchor",D).transition().duration(u).delay(c).attr("transform",j),E.exit().remove();var O=C.select("text.bg").selectAll("tspan").data(function(t){return t.lines});O.merge(O.enter().append("tspan")).text(function(t){return t}).transition().duration(u).delay(c).attr("x",0).attr("fill","none").attr("stroke",a.text_bg_color||d).attr("stroke-width",_*a.text_bg_size/100).attr("dy",function(t,e){return e?y+"px":0}),O.exit().remove();var z=C.select("text.fg").selectAll("tspan").data(function(t){return t.lines});return z.merge(z.enter().append("tspan")).text(function(t){return t}).transition().duration(u).delay(c).attr("x",0).attr("fill",function(){return a.text_color||this.parentNode.__data__.color||"black"}).attr("dy",function(t,e){return e?y+"px":0}),z.exit().remove(),u||c||oo(),this}function j(t){return"translate("+("right"==t.alignment?m:-Math.abs(m))+","+(t.y_offset+t.dy)+")"}function D(t){return"right"==t.alignment?"start":"end"}function F(t){if(!A)return"";if(!t.text.length)return"";var e=t.step_line_x_index||0,n=(t.step_line_x_count||0)+1,r=x/n,i=r+r*e,o="M 0,0 l ";return"step"==a.line_style?(o+=("right"==t.alignment?i:-Math.abs(i))+",0 l ",o+="0,"+t.y_offset+" l ",o+=("right"==t.alignment?x-i:-Math.abs(x-i))+",0"):o+=("right"==t.alignment?x:-Math.abs(x))+","+t.y_offset,o}console.error("@flourish/labels: you must set a container for your labels using the .container() method. This should be an SVG group.")};var ew,nw=function(t){for(var e in Kd=t,Jd)void 0===Kd[e]&&(Kd[e]=Jd[e]);return(Ad=document.createElement("style")).id="flourish-page-styles",Ad.type="text/css",document.head.appendChild(Ad),rp.wrapper=function(){var t=document.createElement("div");t.id="fl-layout-wrapper-outer",t.style.display="flex";var e=document.createElement("main");e.id="fl-layout-wrapper",e.style.display="flex",e.style.flexGrow="1",e.style.flexDirection="column",e.style.boxSizing="border-box",e.style.overflow="hidden";var n=document.createElement("aside");return n.id="fl-layout-sidebar",n.style.position="relative",rp.sidebar=n,t.appendChild(e),t.appendChild(n),document.body.appendChild(t),e}(),np.forEach(function(t,e){rp[t]=ap(t,e)}),lp("header").appendChild(function(){(zd=document.createElement("header")).className="flourish-header";var t=document.createElement("hgroup");return jd=document.createElement("h1"),Dd=document.createElement("h2"),Fd=document.createElement("p"),Pd=document.createElement("img"),zd.appendChild(Pd),zd.appendChild(t),t.appendChild(jd),t.appendChild(Dd),zd.appendChild(Fd),zd}()),lp("footer").appendChild(Wd()),rp.primary.outer.style.overflow="hidden",function(){var t=rp.primary.outer;t.style.position="relative",(tp=document.createElement("div")).id="fl-layout-overlay";var e=tp.style;e.position="absolute",e.display="none",e.width="100%",e.height="100%",e.top=0,e.left=0,e.backgroundColor="rgb(200,200,200)",e.zIndex=999999,e.pointerEvents="none";var n=document.createElement("p");n.className="fl-layout-overlay-message",(e=n.style).color="#333333",e.fontSize="1.5rem",e.paddingLeft="15%",e.paddingRight="15%",e.width="100%",e.boxSizing="border-box",e.position="absolute",e.top="50%",e.transform="translate(0, -50%)",e.margin="0",e.textAlign="center",tp.appendChild(n),t.appendChild(tp)}(),Qd(!0),{update:Qd,getWrapper:up,getSidebar:cp,getSection:lp,getOuterWidth:sp,getInnerWidth:fp,getOuterHeight:hp,getInnerHeight:dp,getPrimaryHeight:pp,getPrimaryWidth:_p,getDefaultPrimaryHeight:yp,setHeight:bp,setLegendPosition:xp,showOverlay:wp,remToPx:Yd,getOverlay:kp}}(En.layout),rw=new Zx(En.labels),iw=vi(nw.getSection("primary")).append("svg").on("click",function(){if(li.target&&(li.target.getAttribute("class"),"check-rect"==li.target.getAttribute("class")))return;En.selected_horse=null,EN()}),ow={y:En.y,x:En.x,background:En.chart_bg},aw=function(t,e){e=Cp(e);var n={},r=function(t){var e,n=(e=t&&t.select&&t.selectAll?kg(t.node()):kg(t)).node();if(!n)throw new Error("Chart layout instance must have a target");var r=Mg(n);return{container:e,getSvg:function(){if(r)return e;for(var t=n.parentElement;t&&!Mg(t);)t=t.parentElement;if(!Mg(t))throw new Error("target must be an SVG or a descendant of an SVG");return kg(t)}}}(t);Object.defineProperty(n,"svg",{get:r.getSvg}),n.container=r.container,n.chart=function(t){var e=t.container.append("g").attr("class","fl-chart");return function(t){t.append("rect").attr("class","fl-chart-debug-rectangle").attr("x",0).attr("y",0).style("stroke-width","1px").style("fill","none").style("display","none")}(e),e.append("clipPath").attr("class","fl-data-clip-path").append("rect"),e.append("clipPath").attr("class","fl-grid-clip-path").append("rect"),function(t){var e=t.append("g").attr("class","fl-chart-background");e.append("rect").attr("class","fl-chart-fill"),e.append("image").attr("class","fl-chart-image"),e.append("rect").attr("class","fl-chart-interaction").style("opacity",0)}(e),e.append("g").attr("class","fl-data-background"),function(t){var e=t.append("g").attr("class","fl-gridlines").style("pointer-events","none");e.append("g").attr("class","fl-gridlines-vertical"),e.append("g").attr("class","fl-gridlines-horizontal")}(e),function(t){var e=t.append("g").attr("class","fl-axes"),n=e.append("g").attr("class","fl-x-axes"),r=e.append("g").attr("class","fl-y-axes"),i=n.append("g").attr("class","fl-axis fl-x-axis fl-bottom-axis");i.append("g").attr("class","fl-axis-line"),i.append("g").attr("class","fl-axis-ticks"),i.append("g").attr("class","fl-axis-title");var o=n.append("g").attr("class","fl-axis fl-x-axis fl-top-axis");o.append("g").attr("class","fl-axis-line"),o.append("g").attr("class","fl-axis-ticks"),o.append("g").attr("class","fl-axis-title");var a=r.append("g").attr("class","fl-axis fl-y-axis fl-left-axis");a.append("g").attr("class","fl-axis-line"),a.append("g").attr("class","fl-axis-ticks"),a.append("g").attr("class","fl-axis-title");var u=r.append("g").attr("class","fl-axis fl-y-axis fl-right-axis");u.append("g").attr("class","fl-axis-line"),u.append("g").attr("class","fl-axis-ticks"),u.append("g").attr("class","fl-axis-title")}(e),e.append("g").attr("class","fl-data-foreground"),e}(n),n.data_background=n.chart.select("g.fl-data-background"),n.data_foreground=n.chart.select("g.fl-data-foreground"),n.identifier=function(e){var n="fl-chart-layout-"+Tg++;return function(t){return void 0===t?n:(n=t,e)}}(n),n.debug=function(e){var n=!1;return function(t){return void 0===t?n:(n=!!t,e)}}(n),n.debugColor=function(e){var n="red";return function(t){return void 0===t?n:(n=t,e)}}(n),n.clip=function(e){var n=Sg;return function(t){return void 0===t?n:(n=t?"object"!==Li(t)?Sg:Object.freeze({left:!!t.left,top:!!t.top,right:!!t.right,bottom:!!t.bottom}):Ag,e)}}(n),n.animationDuration=function(e){var n=0;return function(t){return void 0===t?n:(n=t,e)}}(n);var i=function(e){var n={},r=null,i=null,o=null;return n.width=function(t){return void 0===t?null!==r?r:e.svg.node().getBoundingClientRect().width:(r=t,e)},n.height=function(t){return void 0===t?null!==i?i:null!==o?n.plotHeight()+e.margins.top+e.margins.bottom:e.svg.node().getBoundingClientRect().height:(i=t,o=null,e)},n.plotAspect=function(t){return void 0===t?null!==o?o:n.plotWidth()/n.plotHeight():(i=null,o=t,e)},n.plotWidth=function(){return e.width()-(e.margins.right+e.margins.left)},n.plotHeight=function(){return null===o?n.height()-(e.margins.top+e.margins.bottom):n.plotWidth()/o},n.xLeft=function(){return e.margins.left},n.xRight=function(){return e.width()-e.margins.right},n.yBottom=function(){return e.height()-e.margins.bottom},n.yTop=function(){return e.margins.top},n}(n);return n.width=i.width,n.height=i.height,n.plotAspect=i.plotAspect,Object.defineProperty(n,"plot_width",{get:i.plotWidth}),Object.defineProperty(n,"plot_height",{get:i.plotHeight}),Object.defineProperty(n,"x_left",{get:i.xLeft}),Object.defineProperty(n,"x_right",{get:i.xRight}),Object.defineProperty(n,"y_bottom",{get:i.yBottom}),Object.defineProperty(n,"y_top",{get:i.yTop}),n.offsetLeft=function(e){var n=0;return function(t){return void 0===t?n:(n=t,e)}}(n),n.offsetTop=function(e){var n=0;return function(t){return void 0===t?n:(n=t,e)}}(n),n.margins=Mb(n,e),n.xData=fb(n),n.yData=fb(n),n.y2Data=fb(n),n.xFormat=Jg(n),n.yFormat=Jg(n),n.y2Format=Jg(n),n.xNumberParse=_m(n),n.yNumberParse=_m(n),n.y2NumberParse=_m(n),n.xDatetimeParse=gm(n),n.yDatetimeParse=gm(n),n.y2DatetimeParse=gm(n),n.xTitle=function(t,e){return t.xAutoTitle=mb(t),t.xAutoTitle("X"),function(){return("auto"===e.x.title_mode?t.xAutoTitle():e.x.title).trim()}}(n,e),n.yTitle=function(t,e){return t.yAutoTitle=mb(t),t.yAutoTitle("Y"),function(){return("auto"===e.y.title_mode?t.yAutoTitle():e.y.title).trim()}}(n,e),n.y2Title=function(t,e){return t.y2AutoTitle=mb(t),t.y2AutoTitle("Y2"),function(){return("auto"===e.y2.title_mode?t.y2AutoTitle():e.y2.title).trim()}}(n,e),n.xTicks=function(r,t){function e(){return i}var S=t.x,i=Object.freeze([]),o=r.chart.select(".fl-x-axes");return e._update=function(t){var m,b=r.xData().string_array?"string":"numeric",e=Km(kg(".fl-x-axes"),S.tick_label_size,S.tick_label_weight),x="default"===S.tick_label_position?+S.tick_label_angle:90,w=0,k=r.xFormat(),M=Zm(S.tick_label_size);o.append("text").style("opacity",0).style("font",e).each(function(){var t=kg(this).text(hb).node().getBoundingClientRect();m=t.height}).remove(),"object"===Li(t[0])&&(t=pb(t,k));var n=Zm(S.tick_label_space);"auto"===S.tick_label_space_mode&&(n=r.xTicks.autoLabelSpace().px);var T=_b({text_height:m,max_space:n,font:e,angle:90-x,max_lines:S.tick_label_max_lines});return(i=t.map(function(t,e){var n,r,i,o,a,u,c=T(k(t)),l=c.lines,s=c.text_width,f=0,h=m*l.length+(l.length-1)*S.tick_label_line_height;if(0==x||90==x)i=o=(n=0==x?s+Zm(.5):h)/2,u=a=r=0==x?h:s,90==x&&(f=l.length<2?0:(l.length-1)/2*(M*S.tick_label_line_height));else{var d=db(x),p=Math.sin(d),_=Math.cos(d);n=(i=s*_)+(o=h*p),r=(a=s*p)+(u=h*_)}if("top"===S.axis_position||"float-above"===S.axis_position){var g=i;i=o,o=g,g=a,a=u,u=g,0!=x&&90!=x&&(f=l.length<2?0:(l.length-1)*(M*S.tick_label_line_height))}w=Math.max(w,r);var y="numeric"==b?ib(t):null,v="numeric"==b?rb(t):null;return Object.freeze({index:e,value:t,lines:l,significant_digits:y,exponent:v,text_width:s,text_height:m,box_width:n,box_height:r,box_width_left:i,box_width_right:o,box_height_left:a,box_height_right:u,multiline_offset:f})})).type=b,i.max_box_height="fixed"===S.tick_label_space_mode?Zm(S.tick_label_space):w,Object.freeze(i),r},e.autoLabelSpace=gb(r,"height"),e}(n,e),n.yTicks=function(t,e){return yb(t,e,"y")}(n,e),n.y2Ticks=function(t,e){return yb(t,e,"y2")}(n,e),n.xAutoTicks=function(t){var e=vb(t,"x");return function(t){return e(t)}}(n),n.yAutoTicks=function(t){var e=vb(t,"y");return function(t){return e(t)}}(n),n.y2AutoTicks=function(t){var e=vb(t,"y2");return function(t){return e(t)}}(n),n.xScale=Ax(n,e),n.yScale=Ex(n,e),n.y2Scale=Nx(n,e),n.xPadding=function(o){var a=["px","steps"],u=0,c=0,l="px";return function(t){if(void 0===t)return{left:u,right:c,unit:l};var e=t.unit;if(e&&!a.includes(e))throw new Error('Unit "'.concat(e,'" not recognised'));var n=t.left;u=void 0===n?u:n;var r=t.right;c=void 0===r?c:r;var i=t.unit;return l=void 0===i?l:i,o}}(n),n.yPadding=function(o){var a=["px","steps"],u=0,c=0,l="px";return function(t){if(void 0===t)return{bottom:u,top:c,unit:l};var e=t.unit;if(e&&!a.includes(e))throw new Error('Unit "'.concat(e,'" not recognised'));var n=t.bottom;u=void 0===n?u:n;var r=t.top;c=void 0===r?c:r;var i=t.unit;return l=void 0===i?l:i,o}}(n),n.y2Padding=function(o){var a=["px","steps"],u=0,c=0,l="px";return function(t){if(void 0===t)return{bottom:u,top:c,unit:l};var e=t.unit;if(e&&!a.includes(e))throw new Error('Unit "'.concat(e,'" not recognised'));var n=t.bottom;u=void 0===n?u:n;var r=t.top;c=void 0===r?c:r;var i=t.unit;return l=void 0===i?l:i,o}}(n),n.xMinStep=function(t){return function(){return Sx(t.xData(),t.xScale())}}(n),n.yMinStep=function(t){return function(){return Sx(t.yData(),t.yScale())}}(n),n.y2MinStep=function(t){return function(){return Sx(t.y2Data(),t.y2Scale())}}(n),n.xFlipAxis=Ox(n),n.yFlipAxis=Ox(n),n.y2FlipAxis=Ox(n),n.xZeroAxis=Cx(n),n.yZeroAxis=Cx(n),n.y2ZeroAxis=Cx(n),n.xHide=zx(n),n.yHide=zx(n),n.y2Hide=zx(n),n.y2Hide(!0),n.update=qx(n,e),n}(iw,ow);function uw(){Xx=vi(nw.getSection("controls")).append("div").attr("id","viz-ui"),aw.clip(!1),(Yx=aw.data_foreground).append("clipPath").attr("id","clip").append("rect").attr("width",0),Yx.append("clipPath").attr("id","circleClip").append("circle"),Wx=Yx.append("g").attr("class","g-checks"),Bx=Yx.append("g").attr("class","g-lines").attr("clip-path","url(#clip)"),Vx=Yx.append("g").attr("class","g-start-circles"),$x=Yx.append("g").attr("class","g-labels").style("direction","ltr"),rw.container($x.node()).duration(0).delay(0);var t=vi(nw.getSection("primary")).append("div").attr("id","caption");t.append("div").attr("id","text"),t.append("div").attr("id","image").append("img"),IE=Xx.append("div").attr("id","horse-controls"),HE=IE.append("div").attr("class","fl-controls-container").attr("id","replay-container").append("div").attr("class","fl-control fl-control-buttons").append("div").attr("class","button").attr("id","replay").text(En.label_replay).on("click",DE),uN.appendTo(IE.node()).on("change",function(t){En.value_type=t===En.label_scores?"scores":"ranks",EN()}),LE=Xx.append("div").attr("id","filter-control").node(),aN.appendTo(LE).on("change",function(t){En.filter_value=t,EN()})}var cw=Math.ceil,lw=Math.floor;function sw(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function fw(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function hw(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}ft({target:"Math",stat:!0},{trunc:function(t){return(0<t?lw:cw)(t)}});var dw,pw,_w,gw,yw,vw,mw,bw,xw,ww,kw,Mw,Tw,Sw,Aw,Ew,Nw,Cw,Ow,zw,jw,Dw,Fw,Pw,Lw,Rw={"-":"",_:" ",0:"0"},Uw=/^\s*\d+/,Iw=/^%/,Hw=/[\\^$*+?|[\]().{}]/g;function qw(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function Yw(t){return t.replace(Hw,"\\$&")}function Bw(t){return new RegExp("^(?:"+t.map(Yw).join("|")+")","i")}function $w(t){for(var e={},n=-1,r=t.length;++n<r;)e[t[n].toLowerCase()]=n;return e}function Vw(t,e,n){var r=Uw.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Ww(t,e,n){var r=Uw.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Xw(t,e,n){var r=Uw.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function Gw(t,e,n){var r=Uw.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Zw(t,e,n){var r=Uw.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function Qw(t,e,n){var r=Uw.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function Jw(t,e,n){var r=Uw.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(68<+r[0]?1900:2e3),n+r[0].length):-1}function Kw(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function tk(t,e,n){var r=Uw.exec(e.slice(n,n+1));return r?(t.q=3*r[0]-3,n+r[0].length):-1}function ek(t,e,n){var r=Uw.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function nk(t,e,n){var r=Uw.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function rk(t,e,n){var r=Uw.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function ik(t,e,n){var r=Uw.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function ok(t,e,n){var r=Uw.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function ak(t,e,n){var r=Uw.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function uk(t,e,n){var r=Uw.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function ck(t,e,n){var r=Uw.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function lk(t,e,n){var r=Iw.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function sk(t,e,n){var r=Uw.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function fk(t,e,n){var r=Uw.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function hk(t,e){return qw(t.getDate(),e,2)}function dk(t,e){return qw(t.getHours(),e,2)}function pk(t,e){return qw(t.getHours()%12||12,e,2)}function _k(t,e){return qw(1+ay.count(hy(t),t),e,3)}function gk(t,e){return qw(t.getMilliseconds(),e,3)}function yk(t,e){return gk(t,e)+"000"}function vk(t,e){return qw(t.getMonth()+1,e,2)}function mk(t,e){return qw(t.getMinutes(),e,2)}function bk(t,e){return qw(t.getSeconds(),e,2)}function xk(t){var e=t.getDay();return 0===e?7:e}function wk(t,e){return qw(cy.count(hy(t)-1,t),e,2)}function kk(t){var e=t.getDay();return 4<=e||0===e?sy(t):sy.ceil(t)}function Mk(t,e){return t=kk(t),qw(sy.count(hy(t),t)+(4===hy(t).getDay()),e,2)}function Tk(t){return t.getDay()}function Sk(t,e){return qw(ly.count(hy(t)-1,t),e,2)}function Ak(t,e){return qw(t.getFullYear()%100,e,2)}function Ek(t,e){return qw((t=kk(t)).getFullYear()%100,e,2)}function Nk(t,e){return qw(t.getFullYear()%1e4,e,4)}function Ck(t,e){var n=t.getDay();return qw((t=4<=n||0===n?sy(t):sy.ceil(t)).getFullYear()%1e4,e,4)}function Ok(t){var e=t.getTimezoneOffset();return(0<e?"-":(e*=-1,"+"))+qw(e/60|0,"0",2)+qw(e%60,"0",2)}function zk(t,e){return qw(t.getUTCDate(),e,2)}function jk(t,e){return qw(t.getUTCHours(),e,2)}function Dk(t,e){return qw(t.getUTCHours()%12||12,e,2)}function Fk(t,e){return qw(1+dy.count(vy(t),t),e,3)}function Pk(t,e){return qw(t.getUTCMilliseconds(),e,3)}function Lk(t,e){return Pk(t,e)+"000"}function Rk(t,e){return qw(t.getUTCMonth()+1,e,2)}function Uk(t,e){return qw(t.getUTCMinutes(),e,2)}function Ik(t,e){return qw(t.getUTCSeconds(),e,2)}function Hk(t){var e=t.getUTCDay();return 0===e?7:e}function qk(t,e){return qw(_y.count(vy(t)-1,t),e,2)}function Yk(t){var e=t.getUTCDay();return 4<=e||0===e?yy(t):yy.ceil(t)}function Bk(t,e){return t=Yk(t),qw(yy.count(vy(t),t)+(4===vy(t).getUTCDay()),e,2)}function $k(t){return t.getUTCDay()}function Vk(t,e){return qw(gy.count(vy(t)-1,t),e,2)}function Wk(t,e){return qw(t.getUTCFullYear()%100,e,2)}function Xk(t,e){return qw((t=Yk(t)).getUTCFullYear()%100,e,2)}function Gk(t,e){return qw(t.getUTCFullYear()%1e4,e,4)}function Zk(t,e){var n=t.getUTCDay();return qw((t=4<=n||0===n?yy(t):yy.ceil(t)).getUTCFullYear()%1e4,e,4)}function Qk(){return"+0000"}function Jk(){return"%"}function Kk(t){return+t}function tM(t){return Math.floor(+t/1e3)}function eM(c,l){return function(t){var e,n,r,i=[],o=-1,a=0,u=c.length;for(t instanceof Date||(t=new Date(+t));++o<u;)37===c.charCodeAt(o)&&(i.push(c.slice(a,o)),null!=(n=Rw[e=c.charAt(++o)])?e=c.charAt(++o):n="e"===e?" ":"0",(r=l[e])&&(e=r(t,n)),i.push(e),a=o+1);return i.push(c.slice(a,o)),i.join("")}}function nM(i,o){return function(t){var e,n,r=hw(1900,void 0,1);if(rM(r,i,t+="",0)!=t.length)return null;if("Q"in r)return new Date(r.Q);if("s"in r)return new Date(1e3*r.s+("L"in r?r.L:0));if(!o||"Z"in r||(r.Z=0),"p"in r&&(r.H=r.H%12+12*r.p),void 0===r.m&&(r.m="q"in r?r.q:0),"V"in r){if(r.V<1||53<r.V)return null;"w"in r||(r.w=1),"Z"in r?(e=4<(n=(e=fw(hw(r.y,0,1))).getUTCDay())||0===n?gy.ceil(e):gy(e),e=dy.offset(e,7*(r.V-1)),r.y=e.getUTCFullYear(),r.m=e.getUTCMonth(),r.d=e.getUTCDate()+(r.w+6)%7):(e=4<(n=(e=sw(hw(r.y,0,1))).getDay())||0===n?ly.ceil(e):ly(e),e=ay.offset(e,7*(r.V-1)),r.y=e.getFullYear(),r.m=e.getMonth(),r.d=e.getDate()+(r.w+6)%7)}else("W"in r||"U"in r)&&("w"in r||(r.w="u"in r?r.u%7:"W"in r?1:0),n="Z"in r?fw(hw(r.y,0,1)).getUTCDay():sw(hw(r.y,0,1)).getDay(),r.m=0,r.d="W"in r?(r.w+6)%7+7*r.W-(n+5)%7:r.w+7*r.U-(n+6)%7);return"Z"in r?(r.H+=r.Z/100|0,r.M+=r.Z%100,fw(r)):sw(r)}}function rM(t,e,n,r){for(var i,o,a=0,u=e.length,c=n.length;a<u;){if(c<=r)return-1;if(37===(i=e.charCodeAt(a++))){if(i=e.charAt(a++),!(o=Lw[i in Rw?e.charAt(a++):i])||(r=o(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}function iM(t){throw new TypeError("Expected a value of type string but got a value of type "+Li(t))}function oM(e){return function(t){return"string"!=typeof t&&iM(t),(t=t.trim())?e(t):null}}yw=(gw={dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}).dateTime,vw=gw.date,mw=gw.time,bw=gw.periods,xw=gw.days,ww=gw.shortDays,kw=gw.months,Mw=gw.shortMonths,Tw=Bw(bw),Sw=$w(bw),Aw=Bw(xw),Ew=$w(xw),Nw=Bw(ww),Cw=$w(ww),Ow=Bw(kw),zw=$w(kw),jw=Bw(Mw),Dw=$w(Mw),Pw={a:function(t){return ww[t.getUTCDay()]},A:function(t){return xw[t.getUTCDay()]},b:function(t){return Mw[t.getUTCMonth()]},B:function(t){return kw[t.getUTCMonth()]},c:null,d:zk,e:zk,f:Lk,g:Xk,G:Zk,H:jk,I:Dk,j:Fk,L:Pk,m:Rk,M:Uk,p:function(t){return bw[+(12<=t.getUTCHours())]},q:function(t){return 1+~~(t.getUTCMonth()/3)},Q:Kk,s:tM,S:Ik,u:Hk,U:qk,V:Bk,w:$k,W:Vk,x:null,X:null,y:Wk,Y:Gk,Z:Qk,"%":Jk},Lw={a:function(t,e,n){var r=Nw.exec(e.slice(n));return r?(t.w=Cw[r[0].toLowerCase()],n+r[0].length):-1},A:function(t,e,n){var r=Aw.exec(e.slice(n));return r?(t.w=Ew[r[0].toLowerCase()],n+r[0].length):-1},b:function(t,e,n){var r=jw.exec(e.slice(n));return r?(t.m=Dw[r[0].toLowerCase()],n+r[0].length):-1},B:function(t,e,n){var r=Ow.exec(e.slice(n));return r?(t.m=zw[r[0].toLowerCase()],n+r[0].length):-1},c:function(t,e,n){return rM(t,yw,e,n)},d:nk,e:nk,f:ck,g:Jw,G:Qw,H:ik,I:ik,j:rk,L:uk,m:ek,M:ok,p:function(t,e,n){var r=Tw.exec(e.slice(n));return r?(t.p=Sw[r[0].toLowerCase()],n+r[0].length):-1},q:tk,Q:sk,s:fk,S:ak,u:Ww,U:Xw,V:Gw,w:Vw,W:Zw,x:function(t,e,n){return rM(t,vw,e,n)},X:function(t,e,n){return rM(t,mw,e,n)},y:Jw,Y:Qw,Z:Kw,"%":lk},(Fw={a:function(t){return ww[t.getDay()]},A:function(t){return xw[t.getDay()]},b:function(t){return Mw[t.getMonth()]},B:function(t){return kw[t.getMonth()]},c:null,d:hk,e:hk,f:yk,g:Ek,G:Ck,H:dk,I:pk,j:_k,L:gk,m:vk,M:mk,p:function(t){return bw[+(12<=t.getHours())]},q:function(t){return 1+~~(t.getMonth()/3)},Q:Kk,s:tM,S:bk,u:xk,U:wk,V:Mk,w:Tk,W:Sk,x:null,X:null,y:Ak,Y:Nk,Z:Ok,"%":Jk}).x=eM(vw,Fw),Fw.X=eM(mw,Fw),Fw.c=eM(yw,Fw),Pw.x=eM(vw,Pw),Pw.X=eM(mw,Pw),Pw.c=eM(yw,Pw),pw=(dw={format:function(t){var e=eM(t+="",Fw);return e.toString=function(){return t},e},parse:function(t){var e=nM(t+="",!1);return e.toString=function(){return t},e},utcFormat:function(t){var e=eM(t+="",Pw);return e.toString=function(){return t},e},utcParse:function(t){var e=nM(t+="",!0);return e.toString=function(){return t},e}}).format,_w=dw.parse,dw.utcFormat,dw.utcParse;var aM=new Date(1972,3,27,19,45,5),uM={"%b %d":[{regex:/^june\s(30|[12][0-9]|0?[1-9])$/i,toDate:function(t){return new Date(null,5,t.split(/\s/)[1])}},{regex:/^july\s(3[01]|[12][0-9]|0?[1-9])$/i,toDate:function(t){return new Date(null,6,t.split(/\s/)[1])}},{regex:/^sept\s(30|[12][0-9]|0?[1-9])$/i,toDate:function(t){return new Date(null,8,t.split(/\s/)[1])}}],"%d %b":[{regex:/^(0?[1-9]|[1-9][0-9])\sjune$/i,toDate:function(t){return new Date(null,5,t.split(/\s/)[0])}},{regex:/^(0?[1-9]|[1-9][0-9])\sjuly$/i,toDate:function(t){return new Date(null,6,t.split(/\s/)[0])}},{regex:/^(0?[1-9]|[1-9][0-9])\ssept$/i,toDate:function(t){return new Date(null,8,t.split(/\s/)[0])}}]};function cM(t){return function(e){var n=null;return t.forEach(function(t){e.match(t.regex)&&(n=t.toDate(e))}),n}}function lM(e,n){var t,r=_w(e),i=pw(e);return t=oM("function"==typeof n?function(t){return n(t,null!==r(t))}:function(t){return null!==r(t)}),Object.freeze({test:t,parse:oM(function(t){return r(t)||(uM[e]?cM(uM[e])(t):null)}),format:function(t){return i(t)},type:"datetime",description:e,id:"datetime$"+e,example:i(aM)})}var sM=Object.freeze([lM("%Y-%m-%dT%H:%M:%S.%LZ"),lM("%d/%m/%Y",function(t,e){if(!e)return!1;var n=t.split("/").map(parseFloat);return 0<n[0]&&n[0]<=31&&0<n[1]&&n[1]<=12&&1e3<=n[2]}),lM("%d/%m/%y",function(t,e){if(!e)return!1;var n=t.split("/").map(parseFloat);return 0<n[0]&&n[0]<=31&&0<n[1]&&n[1]<=12&&!isNaN(n[2])}),lM("%m/%d/%Y",function(t,e){if(!e)return!1;var n=t.split("/").map(parseFloat);return 0<n[0]&&n[0]<=12&&0<n[1]&&n[1]<=31&&1e3<=n[2]}),lM("%m/%d/%y",function(t,e){if(!e)return!1;var n=t.split("/").map(parseFloat);return 0<n[0]&&n[0]<=12&&0<n[1]&&n[1]<=31&&!isNaN(n[2])}),lM("%Y/%m/%d",function(t,e){if(!e)return!1;var n=t.split("/").map(parseFloat);return 1e3<=n[0]&&0<n[1]&&n[1]<=12&&0<n[2]&&n[2]<=31}),lM("%d-%m-%Y",function(t,e){if(!e)return!1;var n=t.split("-").map(parseFloat);return 0<n[0]&&n[0]<=31&&0<n[1]&&n[1]<=12&&1e3<=n[2]}),lM("%d-%m-%y",function(t,e){if(!e)return!1;var n=t.split("-").map(parseFloat);return 0<n[0]&&n[0]<=31&&0<n[1]&&n[1]<=12&&!isNaN(n[2])}),lM("%m-%d-%Y",function(t,e){if(!e)return!1;var n=t.split("-").map(parseFloat);return 0<n[0]&&n[0]<=12&&0<n[1]&&n[1]<=31&&1e3<=n[2]}),lM("%m-%d-%y",function(t,e){if(!e)return!1;var n=t.split("-").map(parseFloat);return 0<n[0]&&n[0]<=12&&0<n[1]&&n[1]<=31&&!isNaN(n[2])}),lM("%Y-%m-%d",function(t,e){if(!e)return!1;var n=t.split("-").map(parseFloat);return 1e3<=n[0]&&0<n[1]&&n[1]<=12&&0<n[2]&&n[2]<=31}),lM("%d %b %Y",function(t,e){if(!e)return!1;var n=t.split(" ").map(parseFloat);return 0<n[0]&&n[0]<=31&&1e3<=n[2]}),lM("%d %B %Y",function(t,e){if(!e)return!1;var n=t.split(" ").map(parseFloat);return 0<n[0]&&n[0]<=31&&1e3<=n[2]}),lM("%d %b %y"),lM("%d %B %y"),lM("%d-%b-%Y",function(t,e){if(!e)return!1;var n=t.split("-").map(parseFloat);return 0<n[0]&&n[0]<=31&&1e3<=n[2]}),lM("%d-%B-%Y",function(t,e){if(!e)return!1;var n=t.split("-").map(parseFloat);return 0<n[0]&&n[0]<=31&&1e3<=n[2]}),lM("%d-%b-%y"),lM("%d-%B-%y"),lM("%m/%Y",function(t,e){if(!e)return!1;var n=t.split("/").map(parseFloat);return 0<n[0]&&n[0]<=12&&1e3<=n[1]}),lM("%m/%y"),lM("%b %Y",function(t,e){return!!e&&1e3<=t.split(" ").map(parseFloat)[1]}),lM("%B %Y",function(t,e){return!!e&&1e3<=t.split(" ").map(parseFloat)[1]}),lM("%b %y"),lM("%B %y"),lM("%d %b",function(t,e){return!!e||!!cM(uM["%d %b"])(t)}),lM("%d %B"),lM("%b %d",function(t,e){return!!e||!!cM(uM["%b %d"])(t)}),lM("%B %d"),lM("%d-%m",function(t,e){if(!e)return!1;var n=t.split("-").map(parseFloat);return 0<n[0]&&n[0]<=31&&0<n[1]&&n[1]<=12}),lM("%m-%d"),lM("%d/%m"),lM("%m/%d"),lM("%Y",function(t,e){if(!e)return!1;var n=parseFloat(t);return 1499<n&&n<2200}),lM("%B"),lM("%b"),lM("%X"),lM("%I:%M %p"),lM("%H:%M"),lM("%H:%M:%S"),lM("%-I%p"),lM("Q%q %Y",function(t,e){return!!e&&6===t.replace(/\s/g,"").length}),lM("%Y Q%q",function(t,e){return!!e&&6===t.replace(/\s/g,"").length})]);function fM(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[1<r.length?r[0]+r.slice(2):r,+t.slice(n+1)]}var hM,dM=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function pM(t){if(!(e=dM.exec(t)))throw new Error("invalid format: "+t);var e;return new _M({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function _M(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function gM(t,e){var n=fM(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}pM.prototype=_M.prototype,_M.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var yM={"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return 1e21<=Math.abs(t=Math.round(t))?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return gM(100*t,e)},r:gM,s:function(t,e){var n=fM(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(hM=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:a<o?r+new Array(o-a+1).join("0"):0<o?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+fM(t,Math.max(0,e+o-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}};function vM(t){return t}var mM=Array.prototype.map,bM=["y","z","a","f","p","n","Âµ","m","","k","M","G","T","P","E","Z","Y"];function xM(t){var w=void 0===t.grouping||void 0===t.thousands?vM:function(u,c){return function(t,e){for(var n=t.length,r=[],i=0,o=u[0],a=0;0<n&&0<o&&(e<a+o+1&&(o=Math.max(1,e-a)),r.push(t.substring(n-=o,n+o)),!((a+=o+1)>e));)o=u[i=(i+1)%u.length];return r.reverse().join(c)}}(mM.call(t.grouping,Number),t.thousands+""),r=void 0===t.currency?"":t.currency[0]+"",i=void 0===t.currency?"":t.currency[1]+"",k=void 0===t.decimal?".":t.decimal+"",M=void 0===t.numerals?vM:function(e){return function(t){return t.replace(/[0-9]/g,function(t){return e[+t]})}}(mM.call(t.numerals,String)),o=void 0===t.percent?"%":t.percent+"",T=void 0===t.minus?"-":t.minus+"",S=void 0===t.nan?"NaN":t.nan+"";function a(t){var l=(t=pM(t)).fill,s=t.align,f=t.sign,e=t.symbol,h=t.zero,d=t.width,p=t.comma,_=t.precision,g=t.trim,y=t.type;"n"===y?(p=!0,y="g"):yM[y]||(void 0===_&&(_=12),g=!0,y="g"),(h||"0"===l&&"="===s)&&(h=!0,l="0",s="=");var v="$"===e?r:"#"===e&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",m="$"===e?i:/[%p]/.test(y)?o:"",b=yM[y],x=/[defgprs%]/.test(y);function n(t){var e,n,r,i=v,o=m;if("c"===y)o=b(t)+o,t="";else{var a=(t=+t)<0||1/t<0;if(t=isNaN(t)?S:b(Math.abs(t),_),g&&(t=function(t){t:for(var e,n=t.length,r=1,i=-1;r<n;++r)switch(t[r]){case".":i=e=r;break;case"0":0===i&&(i=r),e=r;break;default:if(!+t[r])break t;0<i&&(i=0)}return 0<i?t.slice(0,i)+t.slice(e+1):t}(t)),a&&0==+t&&"+"!==f&&(a=!1),i=(a?"("===f?f:T:"-"===f||"("===f?"":f)+i,o=("s"===y?bM[8+hM/3]:"")+o+(a&&"("===f?")":""),x)for(e=-1,n=t.length;++e<n;)if((r=t.charCodeAt(e))<48||57<r){o=(46===r?k+t.slice(e+1):t.slice(e))+o,t=t.slice(0,e);break}}p&&!h&&(t=w(t,1/0));var u=i.length+t.length+o.length,c=u<d?new Array(d-u+1).join(l):"";switch(p&&h&&(t=w(c+t,c.length?d-o.length:1/0),c=""),s){case"<":t=i+t+o+c;break;case"=":t=i+c+t+o;break;case"^":t=c.slice(0,u=c.length>>1)+i+t+o+c.slice(u);break;default:t=c+i+t+o}return M(t)}return _=void 0===_?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_)),n.toString=function(){return t+""},n}return{format:a,formatPrefix:function(t,e){var n=a(((t=pM(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(function(t){return(t=fM(Math.abs(t)))?t[1]:NaN}(e)/3))),i=Math.pow(10,-r),o=bM[8+r/3];return function(t){return n(i*t)+o}}}}var wM={test:oM(function(t){return/^(\+|-)?\d{1,3}(,\d{3})*(\.\d+)?((e|E)(\+|-)?\d+)?$/.test(t.trim())}),parse:oM(function(t){return parseFloat(t.replace(/,/g,""))}),description:"Comma thousand separator, point decimal mark",thousand_separator:",",decimal_mark:".",id:"number$comma_point",example:"12,235.56"},kM={test:oM(function(t){return/^(\+|-)?\d{1,3}(\s\d{3})*(\.\d+)?((e|E)(\+|-)?\d+)?$/.test(t.trim())}),parse:oM(function(t){return parseFloat(t.replace(/\s/g,""))}),description:"Space thousand separator, point decimal mark",thousand_separator:" ",decimal_mark:".",id:"number$space_point",example:"12 235.56"},MM={test:oM(function(t){return/^(\+|-)?\d+(\.\d+)?((e|E)(\+|-)?\d+)?$/.test(t.trim())}),parse:oM(function(t){return parseFloat(t)}),description:"No thousand separator, point decimal mark",thousand_separator:"",decimal_mark:".",id:"number$none_point",example:"12235.56"},TM={test:oM(function(t){return/^(\+|-)?\d{1,3}(\.\d{3})*(,\d+)?((e|E)(\+|-)?\d+)?$/.test(t.trim())}),parse:oM(function(t){return parseFloat(t.replace(/\./g,"").replace(/,/,"."))}),description:"Point thousand separator, comma decimal mark",thousand_separator:".",decimal_mark:",",id:"number$point_comma",example:"12.235,56"},SM={test:oM(function(t){return/^(\+|-)?\d{1,3}(\s\d{3})*(,\d+)?((e|E)(\+|-)?\d+)?$/.test(t.trim())}),parse:oM(function(t){return parseFloat(t.replace(/\s/g,"").replace(/,/,"."))}),description:"Space thousand separator, comma decimal mark",thousand_separator:" ",decimal_mark:",",id:"number$space_comma",example:"12 235,56"},AM={test:oM(function(t){return/^(\+|-)?\d+(,\d+)?((e|E)(\+|-)?\d+)?$/.test(t.trim())}),parse:oM(function(t){return parseFloat(t.replace(/,/,"."))}),description:"No thousand separator, comma decimal mark",thousand_separator:"",decimal_mark:",",id:"number$none_comma",example:"12235,56"},EM=Object.freeze([wM,kM,TM,SM,MM,AM]);EM.forEach(function(t){t.type="number",t.format=function(t){var n,r,i=xM({decimal:t.decimal_mark,thousands:t.thousand_separator,grouping:[3],currency:["",""]});return function(t,e){return(e=e||",.2f")!==r&&(r=e,n=i.format(r)),n(t)}}(t),Object.freeze(t)});var NM,CM=Object.freeze({test:function(t){return"string"==typeof t||iM(t)},parse:function(t){return"string"==typeof t?t:iM(t)},format:function(t){if("string"==typeof t)return t},type:"string",description:"Arbitrary string",id:"string$arbitrary_string"}),OM=Object.freeze({datetime:sM,number:EM}),zM=Object.freeze(["datetime","number","string"]),jM=Object.freeze({n_max:250,n_failing_values:0,failure_fraction:.05,sort:!0}),DM=Object.freeze(Object.keys(jM));function FM(t,e){return t.index-e.index}function PM(t,e){return e.n_success-t.n_success||FM(t,e)}function LM(t){return(""+t).trim()}function RM(n){return void 0===n?function(t){return LM(t)}:"function"==typeof n?function(t,e){return LM(n(t,e))}:function(t){return LM(t[""+n])}}function UM(t){t?Array.isArray(t)||(t=[t]):t=zM;function n(t,e){e=RM(e);var c=t.map(e).filter(function(t){return t});if(!c.length)return o?[CM]:[];var l=Math.min(a.n_max,c.length),s=Math.floor(l*a.failure_fraction),f=a.n_failing_values,n=a.sort?PM:FM,r=i.slice().reduce(function(t,e,n){for(var r=a=0,i=[],o=!1,a=0;a<l;a++){var u=c[a];if(!e.test(u)&&(++r>s?o=!0:-1===i.indexOf(u)&&(i.push(u),i.length>f&&(o=!0)),o))break}return o||t.push({interp:e,n_success:l-r,index:n}),t},[]).sort(n).map(function(t){return t.interp});return o&&r.push(CM),r}var i=t.reduce(function(t,e){var n=OM[e];return n&&Array.prototype.push.apply(t,n),t},[]),o=-1!==t.indexOf("string"),a=DM.reduce(function(t,e){return t[e]=jM[e],t},{});return DM.forEach(function(e){n[function(t){return t.replace(/_(\w)/g,function(t,e){return e.toUpperCase()})}(e)]=function(t){return void 0===t?a[e]:(a[e]=t,n)}}),n}UM.DATETIME_IDS=Object.freeze(sM.map(function(t){return t.id})),UM.NUMBER_IDS=Object.freeze(EM.map(function(t){return t.id})),UM.STRING_IDS=Object.freeze([CM.id]),UM.getInterpretation=(NM=sM.concat(EM,CM).reduce(function(t,e){return t[e.id]=e,t},{}),function(t){return NM[t]}),UM._createAccessorFunction=RM;var IM=UM.getInterpretation,HM=Object.freeze({transform_labels:!1,transform:"multiply",multiply_divide_constant:1,exponentiate_constant:0,multiplier:1,prefix:"",n_dec:2,suffix:"",strip_zeros:!0,strip_separator:!0,negative_sign:"-$nk"});function qM(a,t){var e=IM(t);if(!e)throw new Error("format_id ".concat(t," not recognised"));if("number"!==e.type)throw new Error("format_id ".concat(t,"not a number format"));var u=e.format,n=e.decimal_mark,c=e.thousand_separator,l=Math.trunc(a.n_dec),s=(c?",":"")+"."+l+"f",f=a.strip_zeros&&0<l?new RegExp("\\"+n+"?0+$"):null,h=a.strip_separator&&c,d=a.negative_sign,p=function(t){var e=1;return t.transform_labels&&(e="multiply"===t.transform?t.multiply_divide_constant:"divide"===t.transform?1/t.multiply_divide_constant:Math.pow(10,t.exponentiate_constant)),function(t){return t*e}}(a);return function(t){var e=0<=l?p(t):function(t,e){if(!(e=0<e?Math.floor(e):Math.ceil(e)))return Math.round(t);var n=Math.pow(10,Math.abs(e));return 0<e?Math.round(t*n)/n:Math.round(t/n)*n}(p(t),l),n=e<0,r=Math.abs(e),i=h&&c&&1e3<=r&&r<1e4,o=function(t){return u(t,s)}(r);return f&&(o=o.replace(f,"")),i&&(o=o.replace(c,"")),n&&"none"!==d?"-$nk"===d?"-"+a.prefix+o+a.suffix:"$-nk"===d?a.prefix+"-"+o+a.suffix:"($nk)"===d?"("+a.prefix+o+a.suffix+")":a.prefix+"("+o+")"+a.suffix:a.prefix+o+a.suffix}}var YM=Object.freeze({categorical_type:"palette",categorical_palette:["#4328E7","#9654E5","#FF6283","#FF8800","#FFC502","#007D8E","#1AA7EE","#29DAE4","#88E99A","#019C00","#C11F1F","#730000"],categorical_extend:!0,categorical_custom_palette:"",numeric_type:"sequential",sequential_palette:"Blues",sequential_custom_min:"#F7F7F7",sequential_custom_max:"#FF6283",sequential_color_space:"rgb",sequential_reverse:!1,sequential_custom_domain:!1,sequential_domain_min:0,sequential_domain_max:1,diverging_palette:"RdBu",diverging_custom_min:"#1AA7EE",diverging_custom_mid:"#F7F7F7",diverging_custom_max:"#FF6283",diverging_color_space:"rgb",diverging_reverse:!1,diverging_custom_domain:!1,diverging_domain_min:0,diverging_domain_mid:.5,diverging_domain_max:1,binning:!1,bin_count:4,bin_mode:"fixed",bin_thresholds:""}),BM=360/((1+Math.sqrt(5))/2),$M="#FF0000";function VM(l,s,f){return function(t,e){Array.isArray(t)||(t=t?[t]:[$M]),e=void 0!==e?e:BM;var n=t.map(function(t){return l(t)}).filter(function(t){return!isNaN(t[s])&&!isNaN(t[f])});n.length||(n=[l($M)]);for(var r,i=n.length,o=n.reduce(function(t,e){return t+e[s]},0)/i,a=n.reduce(function(t,e){return t+e[f]},0)/i,u=i;r=n[--u].h,isNaN(r)&&0<u;);var c=0;return function(){var t=++c*e;return aa(l((r+t)%360,o,a)).hex()}}}var WM={hcl:VM(Pa,"c","l"),hsl:VM(ya,"s","l")};function XM(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}function GM(t,e){switch(arguments.length){case 0:break;case 1:this.interpolator(t);break;default:this.interpolator(e).domain(t)}return this}var ZM=Array.prototype,QM=ZM.map,JM=ZM.slice;function KM(t){return+t}var tT=[0,1];function eT(t){return t}function nT(e,n){return(n-=e=+e)?function(t){return(t-e)/n}:function(t){return function(){return t}}(isNaN(n)?NaN:.5)}function rT(t){var e,n=t[0],r=t[t.length-1];return r<n&&(e=n,n=r,r=e),function(t){return Math.max(n,Math.min(r,t))}}function iT(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return o=i<r?(r=nT(i,r),n(a,o)):(r=nT(r,i),n(o,a)),function(t){return o(r(t))}}function oT(n,t,e){var r=Math.min(n.length,t.length)-1,i=new Array(r),o=new Array(r),a=-1;for(n[r]<n[0]&&(n=n.slice().reverse(),t=t.slice().reverse());++a<r;)i[a]=nT(n[a],n[a+1]),o[a]=e(t[a],t[a+1]);return function(t){var e=Cf(n,t,1,r)-1;return o[e](i[e](t))}}function aT(t,e){return function(){var n,r,e,i,o,a,u=tT,c=tT,l=au,s=eT;function f(){return i=2<Math.min(u.length,c.length)?oT:iT,o=a=null,h}function h(t){return isNaN(t=+t)?e:(o=o||i(u.map(n),c,l))(n(s(t)))}return h.invert=function(t){return s(r((a=a||i(c,u.map(n),nu))(t)))},h.domain=function(t){return arguments.length?(u=QM.call(t,KM),s===eT||(s=rT(u)),f()):u.slice()},h.range=function(t){return arguments.length?(c=JM.call(t),f()):c.slice()},h.rangeRound=function(t){return c=JM.call(t),l=uu,f()},h.clamp=function(t){return arguments.length?(s=t?rT(u):eT,h):s!==eT},h.interpolate=function(t){return arguments.length?(l=t,f()):l},h.unknown=function(t){return arguments.length?(e=t,h):e},function(t,e){return n=t,r=e,f()}}()(t,e)}function uT(u){var c=u.domain;return u.ticks=function(t){var e=c();return Lf(e[0],e[e.length-1],null==t?10:t)},u.tickFormat=function(t,e){var n=c();return function(t,e,n,r){var i,o=Uf(t,e,n);switch((r=Rh(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(t),Math.abs(e));return null!=r.precision||isNaN(i=od(o,a))||(r.precision=i),td(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=ad(o,Math.max(Math.abs(t),Math.abs(e))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=id(o))||(r.precision=i-2*("%"===r.type))}return Kh(r)}(n[0],n[n.length-1],null==t?10:t,e)},u.nice=function(t){null==t&&(t=10);var e,n=c(),r=0,i=n.length-1,o=n[r],a=n[i];return a<o&&(e=o,o=a,a=e,e=r,r=i,i=e),0<(e=Rf(o,a,t))?e=Rf(o=Math.floor(o/e)*e,a=Math.ceil(a/e)*e,t):e<0&&(e=Rf(o=Math.ceil(o*e)/e,a=Math.floor(a*e)/e,t)),0<e?(n[r]=Math.floor(o/e)*e,n[i]=Math.ceil(a/e)*e,c(n)):e<0&&(n[r]=Math.ceil(o*e)/e,n[i]=Math.floor(a*e)/e,c(n)),u},u}function cT(){var e,i=[],n=[],r=[];function o(){var t=0,e=Math.max(1,n.length);for(r=new Array(e-1);++t<e;)r[t-1]=If(i,t/e);return a}function a(t){return isNaN(t=+t)?e:n[Cf(r,t)]}return a.invertExtent=function(t){var e=n.indexOf(t);return e<0?[NaN,NaN]:[0<e?r[e-1]:i[0],e<r.length?r[e]:i[i.length-1]]},a.domain=function(t){if(!arguments.length)return i.slice();i=[];for(var e,n=0,r=t.length;n<r;++n)null==(e=t[n])||isNaN(e=+e)||i.push(e);return i.sort(Af),o()},a.range=function(t){return arguments.length?(n=JM.call(t),o()):n.slice()},a.unknown=function(t){return arguments.length?(e=t,a):e},a.quantiles=function(){return r.slice()},a.copy=function(){return cT().domain(i).range(n).unknown(e)},XM.apply(a,arguments)}function lT(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function sT(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function fT(t){return{y:t,m:0,d:1,H:0,M:0,S:0,L:0}}var hT,dT,pT,_T,gT,yT,vT,mT,bT,xT,wT,kT,MT,TT,ST,AT,ET,NT,CT,OT,zT,jT,DT,FT,PT,LT={"-":"",_:" ",0:"0"},RT=/^\s*\d+/,UT=/^%/,IT=/[\\^$*+?|[\]().{}]/g;function HT(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function qT(t){return t.replace(IT,"\\$&")}function YT(t){return new RegExp("^(?:"+t.map(qT).join("|")+")","i")}function BT(t){for(var e={},n=-1,r=t.length;++n<r;)e[t[n].toLowerCase()]=n;return e}function $T(t,e,n){var r=RT.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function VT(t,e,n){var r=RT.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function WT(t,e,n){var r=RT.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function XT(t,e,n){var r=RT.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function GT(t,e,n){var r=RT.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function ZT(t,e,n){var r=RT.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function QT(t,e,n){var r=RT.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(68<+r[0]?1900:2e3),n+r[0].length):-1}function JT(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function KT(t,e,n){var r=RT.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function tS(t,e,n){var r=RT.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function eS(t,e,n){var r=RT.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function nS(t,e,n){var r=RT.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function rS(t,e,n){var r=RT.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function iS(t,e,n){var r=RT.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function oS(t,e,n){var r=RT.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function aS(t,e,n){var r=RT.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function uS(t,e,n){var r=UT.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function cS(t,e,n){var r=RT.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function lS(t,e,n){var r=RT.exec(e.slice(n));return r?(t.Q=1e3*+r[0],n+r[0].length):-1}function sS(t,e){return HT(t.getDate(),e,2)}function fS(t,e){return HT(t.getHours(),e,2)}function hS(t,e){return HT(t.getHours()%12||12,e,2)}function dS(t,e){return HT(1+ay.count(hy(t),t),e,3)}function pS(t,e){return HT(t.getMilliseconds(),e,3)}function _S(t,e){return pS(t,e)+"000"}function gS(t,e){return HT(t.getMonth()+1,e,2)}function yS(t,e){return HT(t.getMinutes(),e,2)}function vS(t,e){return HT(t.getSeconds(),e,2)}function mS(t){var e=t.getDay();return 0===e?7:e}function bS(t,e){return HT(cy.count(hy(t),t),e,2)}function xS(t,e){var n=t.getDay();return t=4<=n||0===n?sy(t):sy.ceil(t),HT(sy.count(hy(t),t)+(4===hy(t).getDay()),e,2)}function wS(t){return t.getDay()}function kS(t,e){return HT(ly.count(hy(t),t),e,2)}function MS(t,e){return HT(t.getFullYear()%100,e,2)}function TS(t,e){return HT(t.getFullYear()%1e4,e,4)}function SS(t){var e=t.getTimezoneOffset();return(0<e?"-":(e*=-1,"+"))+HT(e/60|0,"0",2)+HT(e%60,"0",2)}function AS(t,e){return HT(t.getUTCDate(),e,2)}function ES(t,e){return HT(t.getUTCHours(),e,2)}function NS(t,e){return HT(t.getUTCHours()%12||12,e,2)}function CS(t,e){return HT(1+dy.count(vy(t),t),e,3)}function OS(t,e){return HT(t.getUTCMilliseconds(),e,3)}function zS(t,e){return OS(t,e)+"000"}function jS(t,e){return HT(t.getUTCMonth()+1,e,2)}function DS(t,e){return HT(t.getUTCMinutes(),e,2)}function FS(t,e){return HT(t.getUTCSeconds(),e,2)}function PS(t){var e=t.getUTCDay();return 0===e?7:e}function LS(t,e){return HT(_y.count(vy(t),t),e,2)}function RS(t,e){var n=t.getUTCDay();return t=4<=n||0===n?yy(t):yy.ceil(t),HT(yy.count(vy(t),t)+(4===vy(t).getUTCDay()),e,2)}function US(t){return t.getUTCDay()}function IS(t,e){return HT(gy.count(vy(t),t),e,2)}function HS(t,e){return HT(t.getUTCFullYear()%100,e,2)}function qS(t,e){return HT(t.getUTCFullYear()%1e4,e,4)}function YS(){return"+0000"}function BS(){return"%"}function $S(t){return+t}function VS(t){return Math.floor(+t/1e3)}function WS(c,l){return function(t){var e,n,r,i=[],o=-1,a=0,u=c.length;for(t instanceof Date||(t=new Date(+t));++o<u;)37===c.charCodeAt(o)&&(i.push(c.slice(a,o)),null!=(n=LT[e=c.charAt(++o)])?e=c.charAt(++o):n="e"===e?" ":"0",(r=l[e])&&(e=r(t,n)),i.push(e),a=o+1);return i.push(c.slice(a,o)),i.join("")}}function XS(i,o){return function(t){var e,n,r=fT(1900);if(GS(r,i,t+="",0)!=t.length)return null;if("Q"in r)return new Date(r.Q);if("p"in r&&(r.H=r.H%12+12*r.p),"V"in r){if(r.V<1||53<r.V)return null;"w"in r||(r.w=1),"Z"in r?(e=4<(n=(e=sT(fT(r.y))).getUTCDay())||0===n?gy.ceil(e):gy(e),e=dy.offset(e,7*(r.V-1)),r.y=e.getUTCFullYear(),r.m=e.getUTCMonth(),r.d=e.getUTCDate()+(r.w+6)%7):(e=4<(n=(e=o(fT(r.y))).getDay())||0===n?ly.ceil(e):ly(e),e=ay.offset(e,7*(r.V-1)),r.y=e.getFullYear(),r.m=e.getMonth(),r.d=e.getDate()+(r.w+6)%7)}else("W"in r||"U"in r)&&("w"in r||(r.w="u"in r?r.u%7:"W"in r?1:0),n="Z"in r?sT(fT(r.y)).getUTCDay():o(fT(r.y)).getDay(),r.m=0,r.d="W"in r?(r.w+6)%7+7*r.W-(n+5)%7:r.w+7*r.U-(n+6)%7);return"Z"in r?(r.H+=r.Z/100|0,r.M+=r.Z%100,sT(r)):o(r)}}function GS(t,e,n,r){for(var i,o,a=0,u=e.length,c=n.length;a<u;){if(c<=r)return-1;if(37===(i=e.charCodeAt(a++))){if(i=e.charAt(a++),!(o=PT[i in LT?e.charAt(a++):i])||(r=o(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}gT=(_T={dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}).dateTime,yT=_T.date,vT=_T.time,mT=_T.periods,bT=_T.days,xT=_T.shortDays,wT=_T.months,kT=_T.shortMonths,MT=YT(mT),TT=BT(mT),ST=YT(bT),AT=BT(bT),ET=YT(xT),NT=BT(xT),CT=YT(wT),OT=BT(wT),zT=YT(kT),jT=BT(kT),FT={a:function(t){return xT[t.getUTCDay()]},A:function(t){return bT[t.getUTCDay()]},b:function(t){return kT[t.getUTCMonth()]},B:function(t){return wT[t.getUTCMonth()]},c:null,d:AS,e:AS,f:zS,H:ES,I:NS,j:CS,L:OS,m:jS,M:DS,p:function(t){return mT[+(12<=t.getUTCHours())]},Q:$S,s:VS,S:FS,u:PS,U:LS,V:RS,w:US,W:IS,x:null,X:null,y:HS,Y:qS,Z:YS,"%":BS},PT={a:function(t,e,n){var r=ET.exec(e.slice(n));return r?(t.w=NT[r[0].toLowerCase()],n+r[0].length):-1},A:function(t,e,n){var r=ST.exec(e.slice(n));return r?(t.w=AT[r[0].toLowerCase()],n+r[0].length):-1},b:function(t,e,n){var r=zT.exec(e.slice(n));return r?(t.m=jT[r[0].toLowerCase()],n+r[0].length):-1},B:function(t,e,n){var r=CT.exec(e.slice(n));return r?(t.m=OT[r[0].toLowerCase()],n+r[0].length):-1},c:function(t,e,n){return GS(t,gT,e,n)},d:tS,e:tS,f:aS,H:nS,I:nS,j:eS,L:oS,m:KT,M:rS,p:function(t,e,n){var r=MT.exec(e.slice(n));return r?(t.p=TT[r[0].toLowerCase()],n+r[0].length):-1},Q:cS,s:lS,S:iS,u:VT,U:WT,V:XT,w:$T,W:GT,x:function(t,e,n){return GS(t,yT,e,n)},X:function(t,e,n){return GS(t,vT,e,n)},y:QT,Y:ZT,Z:JT,"%":uS},(DT={a:function(t){return xT[t.getDay()]},A:function(t){return bT[t.getDay()]},b:function(t){return kT[t.getMonth()]},B:function(t){return wT[t.getMonth()]},c:null,d:sS,e:sS,f:_S,H:fS,I:hS,j:dS,L:pS,m:gS,M:yS,p:function(t){return mT[+(12<=t.getHours())]},Q:$S,s:VS,S:vS,u:mS,U:bS,V:xS,w:wS,W:kS,x:null,X:null,y:MS,Y:TS,Z:SS,"%":BS}).x=WS(yT,DT),DT.X=WS(vT,DT),DT.c=WS(gT,DT),FT.x=WS(yT,FT),FT.X=WS(vT,FT),FT.c=WS(gT,FT),hT={format:function(t){var e=WS(t+="",DT);return e.toString=function(){return t},e},parse:function(t){var e=XS(t+="",lT);return e.toString=function(){return t},e},utcFormat:function(t){var e=WS(t+="",FT);return e.toString=function(){return t},e},utcParse:function(t){var e=XS(t,sT);return e.toString=function(){return t},e}},dT=hT.utcFormat,pT=hT.utcParse;var ZS="%Y-%m-%dT%H:%M:%S.%LZ";function QS(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function JS(){var t=uT(function(){var e,n,r,i,o,a=0,u=1,c=eT,l=!1;function s(t){return isNaN(t=+t)?o:c(0===r?.5:(t=(i(t)-e)*r,l?Math.max(0,Math.min(1,t)):t))}return s.domain=function(t){return arguments.length?(e=i(a=+t[0]),n=i(u=+t[1]),r=e===n?0:1/(n-e),s):[a,u]},s.clamp=function(t){return arguments.length?(l=!!t,s):l},s.interpolator=function(t){return arguments.length?(c=t,s):c},s.unknown=function(t){return arguments.length?(o=t,s):o},function(t){return e=(i=t)(a),n=t(u),r=e===n?0:1/(n-e),s}}()(eT));return t.copy=function(){return QS(t,JS())},GM.apply(t,arguments)}function KS(){var t=uT(function(){var e,n,r,i,o,a,u,c=0,l=.5,s=1,f=eT,h=!1;function d(t){return isNaN(t=+t)?u:(t=.5+((t=+a(t))-n)*(t<n?i:o),f(h?Math.max(0,Math.min(1,t)):t))}return d.domain=function(t){return arguments.length?(e=a(c=+t[0]),n=a(l=+t[1]),r=a(s=+t[2]),i=e===n?0:.5/(n-e),o=n===r?0:.5/(r-n),d):[c,l,s]},d.clamp=function(t){return arguments.length?(h=!!t,d):h},d.interpolator=function(t){return arguments.length?(f=t,d):f},d.unknown=function(t){return arguments.length?(u=t,d):u},function(t){return e=(a=t)(c),n=t(l),r=t(s),i=e===n?0:.5/(n-e),o=n===r?0:.5/(r-n),d}}()(eT));return t.copy=function(){return QS(t,KS())},GM.apply(t,arguments)}function tA(t){for(var e=t.length/6|0,n=new Array(e),r=0;r<e;)n[r]="#"+t.slice(6*r,6*++r);return n}function eA(t){return eu(t[t.length-1])}Date.prototype.toISOString||dT(ZS),+new Date("2000-01-01T00:00:00.000Z")||pT(ZS);var nA=eA(new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(tA)),rA=eA(new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(tA)),iA=eA(new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(tA)),oA=eA(new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(tA)),aA=eA(new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(tA)),uA=eA(new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(tA)),cA=eA(new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(tA)),lA=eA(new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(tA)),sA=eA(new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(tA)),fA=eA(new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(tA)),hA=eA(new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(tA)),dA=eA(new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(tA)),pA=eA(new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(tA)),_A=eA(new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(tA)),gA=eA(new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(tA)),yA=eA(new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(tA)),vA=eA(new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(tA)),mA=eA(new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(tA)),bA=eA(new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(tA)),xA=eA(new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(tA)),wA=eA(new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(tA)),kA=eA(new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(tA)),MA=eA(new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(tA)),TA=eA(new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(tA)),SA=eA(new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(tA)),AA=eA(new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(tA)),EA=eA(new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(tA)),NA=Mu(Va(300,.5,0),Va(-240,.5,1)),CA=Mu(Va(-100,.75,.35),Va(80,1.5,.8)),OA=Mu(Va(260,.75,.35),Va(80,1.5,.8));function zA(e){var n=e.length;return function(t){return e[Math.max(0,Math.min(n-1,Math.floor(t*n)))]}}Va();var jA=zA(tA("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),DA=zA(tA("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),FA=zA(tA("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),PA=zA(tA("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function LA(t,e){return t-e}function RA(t,e){var n=e[0],r=e[e.length-1],i=function t(){var e,n=0,r=1,i=1,o=[.5],a=[0,1];function u(t){return t<=t?a[Cf(o,t,0,i)]:e}function c(){var t=-1;for(o=new Array(i);++t<i;)o[t]=((t+1)*r-(t-i)*n)/(i+1);return u}return u.domain=function(t){return arguments.length?(n=+t[0],r=+t[1],c()):[n,r]},u.range=function(t){return arguments.length?(i=(a=JM.call(t)).length-1,c()):a.slice()},u.invertExtent=function(t){var e=a.indexOf(t);return e<0?[NaN,NaN]:e<1?[n,o[0]]:i<=e?[o[i-1],r]:[o[e-1],o[e]]},u.unknown=function(t){return arguments.length&&(e=t),u},u.thresholds=function(){return o.slice()},u.copy=function(){return t().domain([n,r]).range(a).unknown(e)},XM.apply(uT(u),arguments)}().domain([n,r]),o=Math.floor(t.bin_count);return i.range(jf(o)),i.thresholds()}function UA(t,e,n){return"fixed"==t.bin_mode?RA(t,e):"quantile"==t.bin_mode?function(t,e,n){var r=cT().domain(n),i=Math.floor(t.bin_count);return r.range(jf(i)),r.quantiles()}(t,0,n):function(t){return t.bin_thresholds.split(";").map(parseFloat).filter(function(t){return!isNaN(t)&&null!==t}).sort(LA)}(t)}function IA(t,e,n,r,i){for(var o=1+e;o<=t+e;o++)i.push(r(n(o)))}function HA(t,e,n){var r=e.length,i=function t(){var e=aT(eT,eT);return e.copy=function(){return function(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}(e,t())},XM.apply(e,arguments),uT(e)}(),o=[];if(1===r)o.push(n(.5));else if(2===t.length)i.domain([1,r]).range([0,1]),IA(r,0,i,n,o);else if(2===r)o.push(n(0)),o.push(n(1));else{var a,u,c=t[1],l=function(t,n){var r;return t.forEach(function(t,e){Math.abs(t-n)<.001&&(r=e)}),r}(e,c);l?(u=r-(a=l)-1,i.domain([1,a+1]).range([0,.5]),IA(a,0,i,n,o),o.push(n(.5))):(u=r-(a=function(t,e){var n=0;return t.forEach(function(t){t<e&&n++}),n}(e,c)),i.domain([1,a+1]).range([0,.5]),IA(a,0,i,n,o)),i.domain([1,u+1]).range([.5,1]),IA(u,1,i,n,o)}return o}function qA(t,e,n,r){var i,o=UA(t,e,n),a=function(t,e,n){var r=[];if(0===e.length)return[.5*(t+n)];r.push(.5*(t+e[0]));for(var i=0;i<e.length-1;i++)r.push(.5*(e[i]+e[i+1]));return r.push(.5*(n+e[e.length-1])),r}(e[0],o,e[e.length-1]),u=HA(e,a,r);(i="quantile"==t.bin_mode?cT().domain(n):function t(){var e,n=[.5],r=[0,1],i=1;function o(t){return t<=t?r[Cf(n,t,0,i)]:e}return o.domain=function(t){return arguments.length?(n=JM.call(t),i=Math.min(n.length,r.length-1),o):n.slice()},o.range=function(t){return arguments.length?(r=JM.call(t),i=Math.min(n.length,r.length-1),o):r.slice()},o.invertExtent=function(t){var e=r.indexOf(t);return[n[e-1],n[e]]},o.unknown=function(t){return arguments.length?(e=t,o):e},o.copy=function(){return t().domain(n).range(r).unknown(e)},XM.apply(o,arguments)}().domain(o)).range(u);function c(t){return isNaN(t)||null===t?null:i(t)}return c.domain=Object.freeze(e),c.thresholds=Object.freeze(o),c.centers=Object.freeze(a),c}function YA(t){return Array.isArray(t)?zf(t):[0,1]}var BA=Object.freeze(["#efeca4","#e9e28f","#dccf64","#e3b23c","#e49547","#e37746","#dc5b36","#cb4144","#bb2244","#972545","#6a2c4f"]),$A=Object.freeze({Blues:kA,BuGn:fA,BuPu:hA,Carrots:eu(BA),Cool:OA,CubehelixDefault:NA,GnBu:dA,Greens:MA,Greys:TA,Inferno:FA,Magma:DA,Oranges:EA,OrRd:pA,Plasma:PA,PuBu:gA,PuBuGn:_A,PuRd:yA,Purples:SA,RdPu:vA,Reds:AA,Viridis:jA,Warm:CA,YlGn:bA,YlGnBu:mA,YlOrBr:xA,YlOrRd:wA}),VA={hcl:wu,hsl:mu,lab:bu,rgb:Ka};function WA(n,t){function e(t){var e=$A[n.sequential_palette]||function(t){var e=t.sequential_color_space,n=t.sequential_custom_min,r=t.sequential_custom_max;return VA[e](n,r)}(n);return n.sequential_reverse?e(1-t):e(t)}var r=n.sequential_custom_domain?[n.sequential_domain_min,n.sequential_domain_max]:YA(t);if(n.binning)return qA(n,r,t,e);function i(t){return isNaN(t)||null===t?null:o(t)}var o=JS(e).domain(r);return i.domain=Object.freeze(r),i}var XA=Object.freeze({BrBG:nA,PiYG:iA,PRGn:rA,PuOr:oA,RdBu:aA,RdGy:uA,RdYlBu:cA,RdYlGn:lA,Spectral:sA}),GA={hcl:wu,hsl:mu,lab:bu,rgb:Ka};function ZA(t){var e=t.diverging_color_space,n=t.diverging_custom_min,r=t.diverging_custom_mid,i=t.diverging_custom_max;return function(t,e){for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(t){var e=Math.max(0,Math.min(r-1,Math.floor(t*=r)));return o[e](t-e)}}(GA[e],[n,r,i])}var QA,JA=function(e){var n=null;for(var t in YM)void 0===e[t]&&(e[t]=YM[t]);var r=null,i=function(t){return n&&n(t)||r};return{getColor:i,updateColorScale:function(t){return"number"!=typeof t[0]?n=function(t,e){var i={},n=Xf(e).values(),r=t.categorical_palette,o=r.length;if(t.categorical_extend){var a=YM.rotation_angle,u=WM.hcl(r,a);n.forEach(function(t,e){i[t]=e<o?r[e]:u()})}else n.forEach(function(t,e){i[t]=r[e%o]});function c(t){return i[t]}return t.categorical_custom_palette.split("\n").filter(function(t){return t}).forEach(function(t){var e=t.lastIndexOf(":");if(-1!==e){var n=t.slice(0,e).trim(),r=t.slice(e+1).trim();n&&r&&(i[n]=r)}}),c.domain=n.slice(),c.colors=n.map(function(t){return i[t]}),c.items=n.map(function(t){return{label:t,color:i[t]}}),c}(e,t):"sequential"===e.numeric_type?n=WA(e,t):"diverging"===e.numeric_type&&(n=function(n,t){var e=YA(t),r=e[0]<0&&0<e[1]?0:(e[0]+e[1])/2,i=[e[0],r,e[1]];function o(t){var e=XA[n.diverging_palette]||ZA(n);return n.diverging_reverse?e(1-t):e(t)}if(n.diverging_custom_domain&&(i=[n.diverging_domain_min,n.diverging_domain_mid,n.diverging_domain_max]),n.binning)return qA(n,i,t,o);function a(t){return isNaN(t)||null===t?null:u(t)}var u=KS(o).domain(i);return a.domain=Object.freeze(i),a.midpoint=n.diverging_custom_domain?n.diverging_domain_mid:r,a}(e,t)),i.thresholds=n.thresholds,i.centers=n.centers,i.midpoint=n.midpoint,i.domain=n.domain,i.colors=n.colors,i.items=n.items,this},fallback:function(t){return void 0===t?r:(r="default"===t?null:t,this)}}}(En.color);function KA(){JA.updateColorScale(eE()),QA={},En.color_single_overrides.split("\n").filter(function(t){return t.trim()}).forEach(function(t){var e=t.lastIndexOf(":");if(-1!==e){var n=t.slice(0,e).trim(),r=t.slice(e+1).trim();n&&r&&void 0===QA[n]&&(QA[n]=r)}})}function tE(t){var e="category"==En.color_mode?"category":"name",n="string"==typeof t?t:t[e];return"single"==En.color_mode?QA[n]||En.color_single:JA.getColor(n)}function eE(){var t=[];return"single"!=En.color_mode&&(t=An.horserace.map(function(t){return"line"==En.color_mode?t.name:t.category})),t}var nE,rE,iE,oE,aE,uE,cE,lE,sE,fE,hE,dE,pE,_E,gE,yE=function(e){for(var t in HM)void 0===e[t]&&(e[t]=HM[t]);return function(t){return qM(e,t)}}(En.formatting);function vE(i,o){var a=!oN||"zoom"==En.play_mode;return iN.map(function(t){return{text:function(t){var e=En.rank_outside_picture?xE(t,i,o):"",n=t.name,r=En.rank_outside_picture?En.label_divider:"";return a?n+r+e:e+r+n}(t),x:function(t){var e=bE(t).x,n=-iE-oE/2-4;a&&(n=iE+oE/2+4);return e+n}(t),y:bE(t).y,color:tE(t),opacity:wN(t,"label"),datum:t,id:t.unfiltered_index,alignment:a?"right":"left"}})}function mE(t){var e=jE<t.start_circle.i?0:1,n=Math.floor(jE),r=t.line[n].value,i=t.line[n+1]?t.line[n+1].value:null,o=jE-Math.floor(jE),a=Math.floor(jE),u=r;if(null==r||n<t.stages.length&&null==i&&0<o){var c=mN(t);a=c,u=t.line[c].value}else a=jE,u=r+(i-r)*o;var l=dE(u);return isFinite(l)||(l=0),"translate(".concat(hE(a),", ").concat(l,") scale(").concat(e,")")}function bE(t){var e=Math.floor(jE),n=t.line[e].value,r=t.line[e+1]?t.line[e+1].value:null,i=jE-Math.floor(jE),o=Math.floor(jE),a=n;if(null==n||e<t.stages.length&&null==r&&0<i){var u=mN(t);o=u,a=t.line[u].value}else o=jE,a=n+(r-n)*i;var c=dE(a);return isFinite(c)||(c=0),{x:hE(o),y:c}}function xE(t,e,n){var r,i,o=t.line[Math.floor(jE)],a=t.line[Math.floor(jE+1)],u=null===o.value?t.line[mN(t)]:o,c=null,l="scores"===En.value_type&&En.animate_scores;"ahead"==e?l?c=null===a.value?null:a:u=a:"behind"==e&&(l&&(c=o),u=a),c&&(r=(c.value-u.value)*n,i=u.value+r);var s=(c?i:u.value)||t.line[mN(t)].value;return""===s?"":("ranks"===En.value_type?s:nE(s))+" "}function wE(t,e){!function(t){var e=An.horserace.column_names.stages.length,n="zoom"!=En.play_mode?0:Math.max(0,t-En.zoom_steps_to_show),r=Math.min(e,En.zoom_steps_to_show),i=e-1;"reveal"==En.play_mode?i=Math.max(n+r,Math.min(t,e-1)):"zoom"==En.play_mode&&(i=Math.max(t+r,2*r));_E=[n,i]}(t),function(t){var e,n;if("ranks"==En.value_type)gE=[1,iN.max_rank];else{if("all"!=En.play_mode&&En.zoom_y_axis){var r=Math.floor(t),i=Math.ceil(t),o=iN.timeslices[r].min_score,a=iN.timeslices[r].max_score,u=iN.timeslices[i].min_score,c=iN.timeslices[i].max_score,l=(n=a+(c-a)*(t-r))-(e=o+(u-o)*(t-r));e-=0*l,n+=0*l}else n=En.zoom_y_axis?(e=qf(An.horserace,function(t){return RE!=En.filter_all_label&&RE!=t.filter?null:qf(t.stages)}),Hf(An.horserace,function(t){return RE!=En.filter_all_label&&RE!=t.filter?null:Hf(t.stages)})):(e=qf(An.horserace,function(t){return qf(t.stages)}),Hf(An.horserace,function(t){return Hf(t.stages)}));gE=[e,n]}}(t);for(var n=[],r=Math.max(En.y.linear_max||0,iN.max_rank),i=0;i<r;i++)n.push(i+1);var o=iE+oE;aw.xData(_E).yData(gE).animationDuration(e).xAutoTicks(An.horserace.column_names.stages.map(function(t,e){return e})).xFormat(function(t){return An.horserace.column_names.stages[t]}).xPadding({right:oN||"zoom"==En.play_mode?o:o+nw.remToPx(En.padding_right),left:oN&&"zoom"!=En.play_mode?nw.remToPx(En.padding_left):0}).yFlipAxis("ranks"==En.value_type).yAutoTicks("scores"==En.value_type?null:n).yFormat("scores"==En.value_type?nE:null).yZeroAxis("scores"==En.value_type).yPadding({top:.5*sE+nw.remToPx(En.padding_top),bottom:.5*sE+nw.remToPx(En.padding_bottom)}).update(),hE=aw.xScale(),dE=aw.yScale()}var kE="A-Za-zÂªÂµÂºÃ-ÃÃ-Ã¶Ã¸-ËË-ËË -Ë¤Ë¬Ë®Í°-Í´Í¶Í·Íº-Í½ÎÎ-ÎÎÎ-Î¡Î£-ÏµÏ·-ÒÒ-Ô§Ô±-ÕÕÕ¡-Ö×-×ª×°-×²Ø -ÙÙ®Ù¯Ù±-ÛÛÛ¥Û¦Û®Û¯Ûº-Û¼Û¿ÜÜ-Ü¯Ý-Þ¥Þ±ß-ßªß´ßµßºà -à à à ¤à ¨à¡-à¡à¢ à¢¢-à¢¬à¤-à¤¹à¤½à¥à¥-à¥¡à¥±-à¥·à¥¹-à¥¿à¦-à¦à¦à¦à¦-à¦¨à¦ª-à¦°à¦²à¦¶-à¦¹à¦½à§à§à§à§-à§¡à§°à§±à¨-à¨à¨à¨à¨-à¨¨à¨ª-à¨°à¨²à¨³à¨µà¨¶à¨¸à¨¹à©-à©à©à©²-à©´àª-àªàª-àªàª-àª¨àªª-àª°àª²àª³àªµ-àª¹àª½à«à« à«¡à¬-à¬à¬à¬à¬-à¬¨à¬ª-à¬°à¬²à¬³à¬µ-à¬¹à¬½à­à­à­-à­¡à­±à®à®-à®à®-à®à®-à®à®à®à®à®à®à®£à®¤à®¨-à®ªà®®-à®¹à¯à°-à°à°-à°à°-à°¨à°ª-à°³à°µ-à°¹à°½à±à±à± à±¡à²-à²à²-à²à²-à²¨à²ª-à²³à²µ-à²¹à²½à³à³ à³¡à³±à³²à´-à´à´-à´à´-à´ºà´½àµàµ àµ¡àµº-àµ¿à¶-à¶à¶-à¶±à¶³-à¶»à¶½à·-à·à¸-à¸°à¸²à¸³à¹-à¹àºàºàºàºàºàºàºàº-àºàº-àºàº¡-àº£àº¥àº§àºªàº«àº­-àº°àº²àº³àº½à»-à»à»à»-à»à¼à½-à½à½-à½¬à¾-à¾á-áªá¿á-áá-áá¡á¥á¦á®-á°áµ-ááá -áááá-áºá¼-áá-áá-ááá-áá -áá-áá-á°á²-áµá¸-á¾áá-áá-áá-áá-áá-áá-áá -á´á-á¬á¯-á¿á-áá -áªá-áá-áá -á±á-áá -á¬á®-á°á-á³ááá  -á¡·á¢-á¢¨á¢ªá¢°-á£µá¤-á¤á¥-á¥­á¥°-á¥´á¦-á¦«á§-á§á¨-á¨á¨ -á©áª§á¬-á¬³á­-á­á®-á® á®®á®¯á®º-á¯¥á°-á°£á±-á±á±-á±½á³©-á³¬á³®-á³±á³µá³¶á´-á¶¿á¸-á¼á¼-á¼á¼ -á½á½-á½á½-á½á½á½á½á½-á½½á¾-á¾´á¾¶-á¾¼á¾¾á¿-á¿á¿-á¿á¿-á¿á¿-á¿á¿ -á¿¬á¿²-á¿´á¿¶-á¿¼â±â¿â-ââââ-âââ-ââ¤â¦â¨âª-â­â¯-â¹â¼-â¿â-âââââ°-â°®â°°-â±â± -â³¤â³«-â³®â³²â³³â´-â´¥â´§â´­â´°-âµ§âµ¯â¶-â¶â¶ -â¶¦â¶¨-â¶®â¶°-â¶¶â¶¸-â¶¾â·-â·â·-â·â·-â·â·-â·â¸¯ããã±-ãµã»ã¼ã-ãã-ãã¡-ãºã¼-ã¿ã-ã­ã±-ãã -ãºã°-ã¿ã-ä¶µä¸-é¿ê-êê-ê½ê-êê-êêªê«ê-ê®ê¿-êê -ê¥ê-êê¢-êê-êê-êê -êªê¸-ê ê -ê ê -ê ê -ê ¢ê¡-ê¡³ê¢-ê¢³ê£²-ê£·ê£»ê¤-ê¤¥ê¤°-ê¥ê¥ -ê¥¼ê¦-ê¦²ê§ê¨-ê¨¨ê©-ê©ê©-ê©ê© -ê©¶ê©ºêª-êª¯êª±êªµêª¶êª¹-êª½ê«ê«ê«-ê«ê« -ê«ªê«²-ê«´ê¬-ê¬ê¬-ê¬ê¬-ê¬ê¬ -ê¬¦ê¬¨-ê¬®ê¯-ê¯¢ê°-í£í°-íí-í»ï¤-ï©­ï©°-ï«ï¬-ï¬ï¬-ï¬ï¬ï¬-ï¬¨ï¬ª-ï¬¶ï¬¸-ï¬¼ï¬¾ï­ï­ï­ï­ï­-ï®±ï¯-ï´½ïµ-ï¶ï¶-ï·ï·°-ï·»ï¹°-ï¹´ï¹¶-ï»¼ï¼¡-ï¼ºï½-ï½ï½¦-ï¾¾ï¿-ï¿ï¿-ï¿ï¿-ï¿ï¿-ï¿",ME="fl-spanner",TE=ME+"-";function SE(n){("string"==typeof n||n instanceof HTMLElement)&&(n=vi(n));function r(t,e){var n=a.text(t,e);if(!n||"string"!=typeof n)return null;var r=n.trim();return r?{original:n,trimmed:r,length:r.length,d:t,i:e}:null}function e(){var t=n.node(),e=n.text(),o=a.element;return o=o||(t instanceof SVGElement||"svg"===t.nodeName.toLowerCase()?"tspan":"span"),a.data.map(r).filter(function(t){return t}).sort(function(t,e){return e.length-t.length||t.i-e.i}).forEach(function(i){var t=function(t,e){var n=e.trimmed.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),r="<"+t+".*?<\\/"+t+">"+"|(?:"+("(^|[^"+kE+"])"+"("+n+")"+("($|[^"+kE+"])"))+")",i=a.ignore_case?"gi":"g";return new RegExp(r,i)}(o,i);e=e.replace(t,function(t,e,n,r){return n?e+function(t,e,n){return"<"+t+" class='"+TE+n+"'>"+e+"</"+t+">"}(o,n,i.i)+r:t})}),n.html(e),n.selectAll(o).each(function(){var t=a.data[this.getAttribute("class").slice(TE.length)];vi(this).datum(t).attr("class",a.class)})}var a={data:[],element:null,ignore_case:!0,text:function(t){return t},class:ME};return e.data=function(t){return void 0===t?a.data:(a.data=Array.isArray(t)?t:[t],e)},e.element=function(t){return void 0===t?a.element:(a.element=t,e)},e.ignoreCase=function(t){return void 0===t?a.ignore_case:(a.ignore_case=!!t,e)},e.text=function(t){return void 0===t?a.text:(a.text=t,e)},e.class=function(t){return void 0===t?a.class:(a.class=t,e)},e}var AE,EE=450,NE=null,CE=null;function OE(){var t=Math.floor(jE);if(t!==NE){AE=AE||vi("#caption");var e=An.horserace.column_names.stages[t],n=iN.captions[e];n!=CE&&(n?AE.style("opacity",1).html(n):AE.style("opacity",0),zE(),"text_legend"==En.caption_mode&&function(){var t=eE();SE(AE.select("#text")).data(t)().style("color",function(t){tE(t)})}(),CE=n),NE=t}}function zE(){AE=AE||vi("#caption");var t=En.caption_position.split("-")[0],e=En.caption_position.split("-")[1],n=nw.getPrimaryWidth()<EE,r=0==En.caption_image_position.indexOf("column")||n,i=En.caption_background_color||En.layout.background_color;AE.select("#text").style("max-width",En.caption_text_width+"rem").style("text-align",En.caption_text_align_h).style("align-self",En.caption_text_align_v).style("font-weight",En.caption_text_weight),AE.select("#image").style("max-height",r?En.caption_image_width+"%":null).style("width",En.caption_image_width+"rem"),AE.style("flex-direction",function(){return n?"column":En.caption_image_position}).style("gap",function(){return this.querySelector("img")?En.caption_space_between+"rem":0}).style("font-size",En.caption_font_size+"rem").style("padding",En.caption_padding+"rem").style("border-radius",En.caption_border_radius+"rem").style("align-items",0==En.caption_image_position.indexOf("column")?En.caption_text_align:null).style("background",function(){var t=i.replace("#","");return"rgba("+parseInt(t.substring(0,t.length/3),16)+","+parseInt(t.substring(t.length/3,2*t.length/3),16)+","+parseInt(t.substring(2*t.length/3,3*t.length/3),16)+","+En.caption_opacity+")"}).style("color",En.caption_text_color||En.layout.font_color).style("border","1px solid "+En.caption_border_color).style("top",function(){return"top"===t?"5%":"bottom"===t?null:"50%"}).style("left",function(){return"left"===e?"5%":"right"===e?null:"50%"}).style("right",function(){return"right"===e?"5%":null}).style("bottom",function(){return"bottom"===t?"5%":null}).style("transform",function(){return"translate("+("center"==e?"-50%":0)+", "+("center"==t?"-50%":0)+")"})}var jE=0;function DE(){En.target_position=0,jE=0,En.target_position=An.horserace.column_names.stages.length,WE()}var FE,PE,LE,RE,UE,IE,HE,qE,YE,BE,$E=null;function VE(t){var e,n=SN();if(!FE)return FE=t,$E=requestAnimationFrame(VE),void(PE=jE<n);(e=PE?n<(jE+=(t-FE)/En.stage_duration):(jE-=(t-FE)/En.stage_duration)<n)&&(jE=n),"all"!=En.play_mode&&wE(jE,0);var r=jE-Math.floor(jE),i=e?null:PE?"ahead":"behind";vN(0);var o=vE(i,r);rw.data(o).duration(0).update(),rE.interrupt().attr("transform",mE).select("text").text(function(t){return En.rank_outside_picture?"":xE(t,i,r)}),OE(),"all"!=En.play_mode&&(bN(),gN(0),yN(0)),e?$E=null:($E=requestAnimationFrame(VE),FE=t)}function WE(){FE=null,$E&&cancelAnimationFrame($E),$E=requestAnimationFrame(VE)}var XE,GE,ZE,QE,JE,KE,tN,eN,nN,rN,iN,oN,aN=md(En.filter_control),uN=md(En.toggle_control);function cN(){(UE=function(){if(void 0===An.horserace.column_names.filter)return null;var t=Xf(An.horserace,function(t){return t.filter}),e=[];t.each(function(t){e.push(t)}),1<e.length&&En.filter_include_all&&e.push(En.filter_all_label);return e}())?(lN(),aN.options(UE).value(RE).update()):(lN(),aN.options([]).update())}function lN(){RE=UE?En.filter_value?En.filter_value:En.filter_include_all?En.filter_all_label:UE[0]:null}function sN(){uN.options(En.show_buttons?[En.label_scores,En.label_ranks]:[]).value("scores"===En.value_type?En.label_scores:En.label_ranks).update(),HE.text(En.label_replay),vi("#replay-container").style("display",En.show_replay?null:"none"),cN(),qE.update(),YE.update(),BE.update(),Xx.style("display",En.show_buttons||En.show_replay||UE?null:"none")}function fN(){var a=[];rN=0,An.horserace.forEach(function(t,e){t.unfiltered_index=e});var o,u={};o=RE&&RE!==En.filter_all_label?An.horserace.filter(function(t){return t.filter===RE}):An.horserace;An.horserace.column_names.stages.forEach(function(t,r){var i=[];u[t]=null,o.forEach(function(t,e){if(void 0!==t.stages[r]){var n=t.stages[r];t.index=e,i.push({name:t.name,index:e,score:n})}}),i.sort(function(t,e){return En.higher_scores_win?function(t,e){return e<t?-1:t<e?1:t<=e?0:NaN}(t.score,e.score):Af(t.score,e.score)}),("dense"===En.ties_mode?function(t){var e=void 0,n=0;t.forEach(function(t){null==t.score?t.rank=null:t.score==e?t.rank=n:t.rank=++n,e=t.score,rN=Math.max(rN,t.rank)})}:function(t){var e=void 0,n=0,r=0;t.forEach(function(t){null==t.score?t.rank=null:t.score==e?(t.rank=n,r++):(t.rank=n+r+1,n=t.rank,r=0),e=t.score,rN=Math.max(rN,t.rank)})})(i);var e={};i.forEach(function(t){e[t.index]=t}),a.push(e);var n=zf(i.map(function(t){return t.score}));a[r].min_score=Math.min(1/0,n[0]),a[r].max_score=Math.max(-1/0,n[1])});var t=o.map(function(n,o){var r=null;return n.ranks=n.stages.map(function(t,e){return a[e][o].rank}),n.line=n.stages.map(function(t,e){var n=a[e][o],r="log"===En.y.numeric_scale_type,i=n.score;return 0===i&&r&&(i=null),{i:e,value:"ranks"==En.value_type?n.rank:i}}),n.missing_line=n.line.map(function(t,e){return null!==t.value||0===e?null!==t.value&&r?(r=null,t):{i:t.i,value:null}:r?void 0:(r=!0,{i:t.i-1,value:n.line[e-1].value})}).filter(function(t){return void 0!==t}),n.start_circle=n.line.filter(function(t){return null!=t.value})[0],n}).filter(function(t){return t.start_circle});t.max_rank=rN,t.timeslices=a;for(var e=An.captions||[],n=0;n<e.length;n++){var r=e[n],i=!1;for(var c in u)if(c==r.from&&(i=!0),i&&(u[c]="<div id='text'>"+r.text+"</div><div id='image' style='display: "+(r.image?"inline-block":"none")+";'><img src='"+r.image+"' /></div>",c==r.to))break}return t.captions=u,An.horserace.processed?t.new_data=!1:(t.new_data=!0,An.horserace.processed=!0),t}tN=En.controls_style,eN=".fl-control",nN=En.layout,qE=new kd(tN,eN,nN),QE=En.button_style,JE=".fl-control-buttons",KE=En.layout,YE=new Sd(QE,JE,KE),XE=En.dropdown_style,GE=".fl-control-dropdown",ZE=En.layout,BE=new Nd(XE,GE,ZE);var hN,dN=null,pN=[],_N=Pl().x(function(t){return hE(t.i)}).y(function(t){return dE(t.value)}).defined(function(t){return null!=t.value});function gN(t){var e=Bx.selectAll(".line-group").data(iN,function(t,e){return t.name||"horse-"+e}),n=e.enter().append("g").attr("class","horse line-group").on("mouseenter",kN).on("mouseleave",MN).on("click",TN).attr("clip-path","url(#clip)").attr("stroke-linejoin","round").attr("stroke-linecap","round").attr("fill","none");n.append("path").attr("class","missing"),n.append("path").attr("class","line"),n.append("path").attr("class","shade"),(hN=e.merge(n)).attr("opacity",wN).attr("stroke",tE),hN.select(".line").transition().duration(t).attr("d",function(t){return _N(t.line)}).attr("opacity",En.line_opacity).attr("stroke-width",uE),hN.select(".shade").transition().duration(t).attr("d",function(t){return _N(t.line)}).attr("display",En.shade?"block":"none").attr("opacity",En.shade_opacity).attr("stroke-width",cE),hN.select(".missing").transition().duration(t).attr("d",function(t){return _N(t.missing_line)}).attr("opacity",En.missing?En.missing_opacity:0).attr("stroke-dasharray",nw.remToPx(En.missing_stroke_dash)+","+nw.remToPx(En.missing_stroke_dash)).attr("stroke-width",lE),e.exit().remove()}function yN(t){var e=Vx.selectAll(".start-circle").data(iN,function(t,e){return t.name||"horse-"+e}),n=e.enter().append("circle").attr("class","horse start-circle").attr("cy",function(t){return dE(t.start_circle.value)}).attr("cx",function(t){return hE(t.start_circle.i)}).attr("clip-path","url(#clip)");e.merge(n).attr("opacity",wN).transition().duration(t).attr("cy",function(t){return dE(t.start_circle.value)}).attr("cx",function(t){return hE(t.start_circle.i)}).attr("r",aE).attr("fill",tE),e.exit().remove()}function vN(t){var e="all"!=En.play_mode?0:Math.max(aE,cE);vi("#clip rect").attr("x",aw.margins().left-e).transition().duration(t).attr("width",hE(jE)-aw.margins().left+e)}function mN(t){for(var e=0,n=Math.floor(jE);0<n;n--)if(null!=t.line[n].value){e=n;break}return e}function bN(){var n=hE(1)/2;"zoom"==En.play_mode&&(n=hE(Math.max(jE-En.zoom_steps_to_show+1,1)));var t=aw.margins().top,e=aw.plot_height,r=t;"bottom"==En.x.axis_position?r=t+e:"float-below"!=En.x.axis_position&&"float-above"!=En.x.axis_position||(r=dE(En.x.y_axis_position)||0);var i=Wx.selectAll(".check").data(An.horserace.column_names.stages),o=i.enter().append("g").attr("class","check");o.append("rect").attr("class","check-rect"),o.append("line"),o.append("circle");var a=i.merge(o);a.on("mouseenter",function(t,e){dN="check-"+An.horserace.column_names.stages.indexOf(e),vi(this).select("line").attr("opacity","1"),vi(this).select("circle").attr("opacity","1")}).on("mouseleave",function(){dN=null,vi(this).select("line").attr("opacity","0"),vi(this).select("circle").attr("opacity","0")}).on("click",function(t,e){var n=An.horserace.column_names.stages.indexOf(e);En.target_position=n+1,EN()}),a.attr("transform",function(t,e){return"translate("+(hE(e)-n/2)+", 0)"}),a.select("rect").attr("x",0).attr("y",0).attr("height",e).attr("fill","none").style("pointer-events","all").attr("width",n),a.select("line").attr("x1",n/2).attr("x2",n/2).attr("y1",t).attr("y2",e+t).attr("stroke",En.x.line_and_tick_color).attr("stroke-width",nw.remToPx(En.x.gridline_width)).attr("opacity",function(t,e){return"check-"+e===dN?1:0}).style("pointer-events","none"),a.select("circle").attr("r",4).attr("cx",n/2).attr("cy",r).attr("fill",En.x.line_and_tick_color).attr("opacity",function(t,e){return"check-"+e===dN?1:0}).style("pointer-events","none"),i.exit().remove()}function xN(t){iw.style("fill","currentColor").attr("font-family",En.layout.body_font.name),gN(t),yN(t),function(t){var e=vE();rw.data(e).on("mouseover",function(t,e){kN(t,e.datum)}).on("click",function(t,e){TN(t,e.datum)}).on("mouseleave",MN).backgroundColor(En.layout.background_color).update();var n=$x.selectAll(".end-circle-container").data(iN,function(t){return t.name}),r=n.enter().append("g").attr("class","end-circle-container");if(r.append("circle").attr("class","circle bg"),r.append("circle").attr("class","end circle"),r.append("image").attr("clip-path","url(#circleClip)").attr("preserveAspectRatio","xMidYMid slice").style("display","inherit"),r.attr("transform",mE),r.append("text"),(rE=n.merge(r)).on("mouseenter",kN).on("mouseleave",MN).on("click",TN).each(function(t){var e=!1;0<pN.length&&-1<pN.indexOf(String(t.unfiltered_index))&&(e=!0),0==pN.length&&null!=En.mouseover_horse&&t.unfiltered_index==En.mouseover_horse&&(e=!0),e&&this.parentNode.appendChild(this)}).transition().duration(t).attr("transform",mE),rE.select(".end.circle").attr("r",iE).attr("fill",tE).attr("opacity",wN).attr("stroke-width",oE).attr("stroke",function(t){return En.end_circle_stroke_bg&&En.layout.background_color_enabled?En.layout.background_color:tE(t)}),rE.select(".bg.circle").attr("r",iE).attr("fill",En.layout.background_color_enabled?En.layout.background_color:"#ffffff"),En.horse_images){var i=2*iE-oE;rE.select("image").attr("xlink:href",function(t){if(t.pic&&t.pic.match(/^https:\/\//))return t.pic}).attr("opacity",wN).attr("height",i).attr("width",i).attr("x",-i/2).attr("y",-i/2).style("display","block"),Yx.select("#circleClip circle").attr("r",iE-oE/2)}else n.select("image").style("display","none");rE.select("text").text(function(t){return En.rank_outside_picture?"":xE(t)}).style("text-anchor","middle").style("dominant-baseline","middle").style("font-size",En.labels.text_size+"rem").style("font-weight",En.labels.text_weight).style("fill",function(t){return En.rank_inside_color?En.rank_inside_color:tE(t)}),n.exit().remove()}(t),bN()}function wN(t,e){if("label"!=e)return 0<pN.length?-1<pN.indexOf(String(t.unfiltered_index))?1:.1:null!=En.mouseover_horse?t.unfiltered_index==En.mouseover_horse?1:.1:1;var n=jE<t.start_circle.i?0:1;if(En.hide_labels&&!(t.unfiltered_index==En.mouseover_horse))return 0;return n}function kN(t,n){n.unfiltered_index!==En.mouseover_horse&&(En.mouseover_horse=n.unfiltered_index,0==pN.length&&(rE.select(".end.circle").attr("opacity",wN),rE.select("image").attr("opacity",wN),rw.data(vE()).update(),rE.each(function(t,e){n.unfiltered_index===e&&this.parentNode.appendChild(this)}),hN.attr("opacity",wN),Ti(".start-circle").attr("opacity",wN)))}function MN(){En.mouseover_horse=null,0==pN.length&&(rE.select(".end.circle").attr("opacity",wN),rE.select("image").attr("opacity",wN),rw.data(vE()).update(),hN.attr("opacity",wN),Ti(".start-circle").attr("opacity",wN))}function TN(t,e){(En.mouseover_horse=null,t.stopPropagation(),null==En.selected_horse)?pN=[String(e.unfiltered_index)]:-1<pN.indexOf(String(e.unfiltered_index))?1<pN.length?pN.splice(pN.indexOf(String(e.unfiltered_index)),1):pN=[]:pN.push(String(e.unfiltered_index));En.selected_horse=pN.join(),EN()}function SN(){var t=An.horserace.column_names.stages.length;return null==En.target_position?t-1:Math.max(0,Math.min(t-1,En.target_position-1))}function AN(t){oN=window.innerWidth<=420,function(){var e=parseFloat(getComputedStyle(document.documentElement).fontSize)||16;ew=function(t){return t*e}}(),nE=An.horserace.metadata.stages.length?yE(An.horserace.metadata.stages[0].output_format_id):function(t){return t},vi("#viz-ui").style("margin-top",En.show_buttons||En.show_replay?null:0),Ti(".axis").style("font-family",En.layout.body_font.name),sN(),nw.update(),iN=fN(),pN=En.selected_horse?En.selected_horse.split(","):[],function(t){var e=An.horserace.column_names.stages.length;e-1<jE&&(jE=e-1),t&&(jE=0===En.stage_duration?e-1:0)}(iN.new_data),function(t,e,n){pE=pE||document.getElementById("viz-ui"),aE=ew(En.start_circle_r),iE=ew(En.end_circle_r),oE=ew(En.end_circle_stroke),cE=ew(En.shade_width),uE=ew(En.line_width),lE=ew(En.missing_width),sE=Math.max(2*iE+oE,2*aE,uE,cE);var r="ranks"==En.value_type&&null!=En.y.linear_max&&""!=En.y.linear_max?En.y.linear_max:An.horserace.length,i=r*sE+ew(En.circle_space_between)*r;!Flourish.fixed_height&&("flexible"==En.height_mode||"auto"==En.height_mode&&i>nw.getDefaultPrimaryHeight())?nw.setHeight(i):nw.setHeight(null);var o=nw.getPrimaryHeight(),a=nw.getPrimaryWidth();iw.attr("width",a).attr("height",o),Math.max(0,aw.width()),fE=Math.max(0,aw.height()),wE(t,n),vi("#clip rect").attr("height",fE),vN(n)}(jE,iN.max_rank,t),_N.curve(mf[En.curve]),KA(),xN(t),zE(),jE!=SN()&&WE()}function EN(){AN(En.update_duration)}return t.data=An,t.draw=function(){window.onresize=function(){AN(0)},function(e){document.fonts&&(e=e||function(){window.template.update()},document.fonts.ready.then(function(t){e(t),document.fonts.addEventListener("loadingdone",function(){e(t)})}).catch(function(t){console.log("Error loading fonts",t)}))}(function(){AN(0)}),uw(),EN()},t.state=En,t.update=EN,Object.defineProperty(t,"__esModule",{value:!0}),t}({});
//# sourceMappingURL=template.js.map
</script><script>
var path = document.location.href.match(/\/visualisation\/(\d+)/);
if (path) {
	path = path[0];
	const script = document.createElement("script");
	script.async = true;
	script.src = "https://www.googletagmanager.com/gtag/js?id=G-KW52XHYN9H";
	document.head.appendChild(script);

	window.dataLayer = window.dataLayer || [];
	window.gtag = function () { dataLayer.push(arguments); };

	gtag("js", new Date());
	gtag("config", "G-KW52XHYN9H");

	gtag("consent", "default", {
		ad_storage: "denied",
		analytics_storage: "denied",
		functionality_storage: "denied",
		personalization_storage: "denied",
		security_storage: "denied",
	});

	gtag("set", { "dimension1": path.substr(1) });
	gtag("set", { "dimension2": new Date().toISOString() });
}
</script><script>!function(){"use strict";var e,t,n=!1;function i(e){if(n&&window.top!==window.self){var t=window;"srcdoc"===t.location.pathname&&(t=t.parent);var i,o=(i={},window._Flourish_template_id&&(i.template_id=window._Flourish_template_id),window.Flourish&&window.Flourish.app&&window.Flourish.app.loaded_template_id&&(i.template_id=window.Flourish.app.loaded_template_id),window._Flourish_visualisation_id&&(i.visualisation_id=window._Flourish_visualisation_id),window.Flourish&&window.Flourish.app&&window.Flourish.app.loaded_visualisation&&(i.visualisation_id=window.Flourish.app.loaded_visualisation.id),window.Flourish&&window.Flourish.app&&window.Flourish.app.story&&(i.story_id=window.Flourish.app.story.id,i.slide_count=window.Flourish.app.story.slides.length),window.Flourish&&window.Flourish.app&&window.Flourish.app.current_slide&&(i.slide_index=window.Flourish.app.current_slide.index+1),i),r={sender:"Flourish",method:"customerAnalytics"};for(var a in o)o.hasOwnProperty(a)&&(r[a]=o[a]);for(var a in e)e.hasOwnProperty(a)&&(r[a]=e[a]);t.parent.postMessage(JSON.stringify(r),"*")}}function o(e){if("function"!=typeof e)throw new Error("Analytics callback is not a function");window.Flourish._analytics_listeners.push(e)}function r(){n=!0;[{event_name:"click",action_name:"click",use_capture:!0},{event_name:"keydown",action_name:"key_down",use_capture:!0},{event_name:"mouseenter",action_name:"mouse_enter",use_capture:!1},{event_name:"mouseleave",action_name:"mouse_leave",use_capture:!1}].forEach((function(e){document.body.addEventListener(e.event_name,(function(){i({action:e.action_name})}),e.use_capture)}))}function a(){if(null==e){var t=function(){var e=window.location;"about:srcdoc"==e.href&&(e=window.parent.location);var t={};return function(e,n,i){for(;i=n.exec(e);)t[decodeURIComponent(i[1])]=decodeURIComponent(i[2])}(e.search.substring(1).replace(/\+/g,"%20"),/([^&=]+)=?([^&]*)/g),t}();e="referrer"in t?/^https:\/\/medium.com\//.test(t.referrer):!("auto"in t)}return e}function s(e){var t=e||window.innerWidth;return t>999?650:t>599?575:400}function l(e){if(e&&window.top!==window.self){var t=window;"srcdoc"==t.location.pathname&&(t=t.parent);var n={sender:"Flourish",method:"scrolly"};if(e)for(var i in e)n[i]=e[i];t.parent.postMessage(JSON.stringify(n),"*")}}function d(e,n){if(window.top!==window.self){var i=window;if("srcdoc"==i.location.pathname&&(i=i.parent),t)return e=parseInt(e,10),void i.parent.postMessage({sentinel:"amp",type:"embed-size",height:e},"*");var o={sender:"Flourish",context:"iframe.resize",method:"resize",height:e,src:i.location.toString()};if(n)for(var r in n)o[r]=n[r];i.parent.postMessage(JSON.stringify(o),"*")}}function u(){return(-1!==navigator.userAgent.indexOf("Safari")||-1!==navigator.userAgent.indexOf("iPhone"))&&-1==navigator.userAgent.indexOf("Chrome")}function c(e){return"string"==typeof e||e instanceof String}function h(e){return"warn"!==e.method?(console.warn("BUG: validateWarnMessage called for method"+e.method),!1):!(null!=e.message&&!c(e.message))&&!(null!=e.explanation&&!c(e.explanation))}function f(e){return"resize"!==e.method?(console.warn("BUG: validateResizeMessage called for method"+e.method),!1):!!c(e.src)&&(!!c(e.context)&&!!("number"==typeof(t=e.height)?!isNaN(t)&&t>=0:c(t)&&/\d/.test(t)&&/^[0-9]*(\.[0-9]*)?(cm|mm|Q|in|pc|pt|px|em|ex|ch|rem|lh|vw|vh|vmin|vmax|%)?$/i.test(t)));var t}function p(e){throw new Error("Validation for setSetting is not implemented yet; see issue #4328")}function m(e){return"scrolly"!==e.method?(console.warn("BUG: validateScrolly called for method"+e.method),!1):!!Array.isArray(e.slides)}function w(e){return"customerAnalytics"===e.method||(console.warn("BUG: validateCustomerAnalyticsMessage called for method"+e.method),!1)}function g(e){return"request-upload"!==e.method?(console.warn("BUG: validateResizeMessage called for method"+e.method),!1):!!c(e.name)&&!(null!=e.accept&&!c(e.accept))}function y(e,t){var n=function(e){for(var t={warn:h,resize:f,setSetting:p,customerAnalytics:w,"request-upload":g,scrolly:m},n={},i=0;i<e.length;i++){var o=e[i];if(!t[o])throw new Error("No validator found for method "+o);n[o]=t[o]}return n}(t);window.addEventListener("message",(function(t){if(null!=t.source&&(t.origin===document.location.origin||t.origin.match(/\/\/localhost:\d+$|\/\/(?:public|app)\.flourish.devlocal$|\/\/flourish-api\.com$|\.flourish\.(?:local(:\d+)?|net|rocks|studio)$|\.uri\.sh$|\/\/flourish-user-templates\.com$/))){var i;try{i=JSON.parse(t.data)}catch(e){return void console.warn("Unexpected non-JSON message: "+JSON.stringify(t.data))}if("Flourish"===i.sender)if(i.method)if(Object.prototype.hasOwnProperty.call(n,i.method))if(n[i.method](i)){for(var o=document.querySelectorAll("iframe"),r=0;r<o.length;r++)if(o[r].contentWindow==t.source||o[r].contentWindow==t.source.parent)return void e(i,o[r]);console.warn("could not find frame",i)}else console.warn("Validation failed for the message",i);else console.warn("No validator implemented for message",i);else console.warn("The 'method' property was missing from message",i)}})),u()&&(window.addEventListener("resize",v),v())}function v(){for(var e=document.querySelectorAll(".flourish-embed"),t=0;t<e.length;t++){var n=e[t];if(!n.getAttribute("data-width")){var i=n.querySelector("iframe");if(i){var o=window.getComputedStyle(n),r=n.offsetWidth-parseFloat(o.paddingLeft)-parseFloat(o.paddingRight);i.style.width=r+"px"}}}}function _(e,t){var n=e.parentNode;if(n.classList.contains("fl-scrolly-wrapper"))console.warn("createScrolly is being called more than once per story. This should not happen.");else{n.classList.add("fl-scrolly-wrapper"),n.style.position="relative",n.style.paddingBottom="1px",n.style.transform="translate3d(0, 0, 0)",e.style.position="sticky";var i=n.getAttribute("data-height")||null;i||(i="80vh",e.style.height=i),e.style.top="calc(50vh - "+i+"/2)";var o=n.querySelector(".flourish-credit");o&&(o.style.position="sticky",o.style.top="calc(50vh + "+i+"/2)"),t.forEach((function(e,t){var i=document.createElement("div");i.setAttribute("data-slide",t),i.classList.add("fl-scrolly-caption"),i.style.position="relative",i.style.transform="translate3d(0,0,0)",i.style.textAlign="center",i.style.maxWidth="500px",i.style.height="auto",i.style.marginTop="0",i.style.marginBottom="100vh",i.style.marginLeft="auto",i.style.marginRight="auto";var o=document.createElement("div");o.innerHTML=e,o.style.display="inline-block",o.style.paddingTop="1.25em",o.style.paddingRight="1.25em",o.style.paddingBottom="1.25em",o.style.paddingLeft="1.25em",o.style.background="rgba(255,255,255,0.9)",o.style.boxShadow="0px 0px 10px rgba(0,0,0,0.2)",o.style.borderRadius="10px",o.style.textAlign="center",o.style.maxWidth="100%",o.style.margin="0 20px",o.style.overflowX="hidden",i.appendChild(o),n.appendChild(i)})),function(e){for(var t=new IntersectionObserver((function(t){t.forEach((function(t){if(t.isIntersecting){var n=e.querySelector("iframe");if(n){var i="#slide-"+t.target.getAttribute("data-slide");n.src=n.src.replace(/#slide-.*/,"")+i;var o=n.contentDocument.body.querySelector("#content-frame");o&&(o.contentWindow.location.hash=i)}}}))}),{rootMargin:"0px 0px -0% 0px"}),n=e.querySelectorAll(".fl-scrolly-caption"),i=0;i<n.length;i++)t.observe(n[i]);e.querySelectorAll(".fl-scrolly-caption img").forEach((function(e){e.style.maxWidth="100%"}))}(n)}}function F(e,t,n,i,o){var r=document.createElement("iframe");if(r.setAttribute("scrolling","no"),r.setAttribute("frameborder","0"),r.setAttribute("title","Interactive or visual content"),r.setAttribute("sandbox","allow-same-origin allow-forms allow-scripts allow-downloads allow-popups allow-popups-to-escape-sandbox allow-top-navigation-by-user-activation"),t.appendChild(r),r.offsetParent||"fixed"===getComputedStyle(r).position)x(e,t,r,n,i,o);else{var a={embed_url:e,container:t,iframe:r,width:n,height:i,play_on_load:o};if(window._flourish_poll_items?window._flourish_poll_items.push(a):window._flourish_poll_items=[a],window._flourish_poll_items.length>1)return r;var s=setInterval((function(){window._flourish_poll_items=window._flourish_poll_items.filter((function(e){return!e.iframe.offsetParent||(x(e.embed_url,e.container,e.iframe,e.width,e.height,e.play_on_load),!1)})),window._flourish_poll_items.length||clearInterval(s)}),500)}return r}function x(e,t,n,i,o,r){var a;return i&&"number"==typeof i?(a=i,i+="px"):i&&i.match(/^[ \t\r\n\f]*([+-]?\d+|\d*\.\d+(?:[eE][+-]?\d+)?)(?:\\?[Pp]|\\0{0,4}[57]0(?:\r\n|[ \t\r\n\f])?)(?:\\?[Xx]|\\0{0,4}[57]8(?:\r\n|[ \t\r\n\f])?)[ \t\r\n\f]*$/)&&(a=parseFloat(i)),o&&"number"==typeof o&&(o+="px"),i?n.style.width=i:u()?n.style.width=t.offsetWidth+"px":n.style.width="100%",!!o||(e.match(/\?/)?e+="&auto=1":e+="?auto=1",o=s(a||n.offsetWidth)+"px"),o&&("%"===o.charAt(o.length-1)&&(o=parseFloat(o)/100*t.parentNode.offsetHeight+"px"),n.style.height=o),n.setAttribute("src",e+(r?"#play-on-load":"")),n}function b(e){return!Array.isArray(e)&&"object"==typeof e&&null!=e}function A(e,t){for(var n in t)b(e[n])&&b(t[n])?A(e[n],t[n]):e[n]=t[n];return e}!function(){var e,n=window.top===window.self,c=n?null:(t="#amp=1"==window.location.hash,{createEmbedIframe:F,isFixedHeight:a,getHeightForBreakpoint:s,startEventListeners:y,notifyParentWindow:d,initScrolly:l,createScrolly:_,isSafari:u,initCustomerAnalytics:r,addAnalyticsListener:o,sendCustomerAnalyticsMessage:i}),h=!0;function f(){var t;Flourish.fixed_height||(null!=e?t=e:h&&(t=c.getHeightForBreakpoint()),t!==window.innerHeight&&c.notifyParentWindow(t))}function p(){-1!==window.location.search.indexOf("enable_customer_analytics=1")&&Flourish.enableCustomerAnalytics(),f(),window.addEventListener("resize",f)}Flourish.warn=function(e){if("string"==typeof e&&(e={message:e}),n||"editor"!==Flourish.environment)console.warn(e.message);else{var t={sender:"Flourish",method:"warn",message:e.message,explanation:e.explanation};window.parent.postMessage(JSON.stringify(t),"*")}},Flourish.uploadImage=function(e){if(n||"story_editor"!==Flourish.environment)throw"Invalid upload request";var t={sender:"Flourish",method:"request-upload",name:e.name,accept:e.accept};window.parent.postMessage(JSON.stringify(t),"*")},Flourish.setSetting=function(e,t){if("editor"===Flourish.environment||"sdk"===Flourish.environment){var n={sender:"Flourish",method:"setSetting",name:e,value:t};window.parent.postMessage(JSON.stringify(n),"*")}else if("story_editor"===Flourish.environment){var i={};i[e]=t,A(window.template.state,function(e){var t={};for(var n in e){for(var i=t,o=n.indexOf("."),r=0;o>=0;o=n.indexOf(".",r=o+1)){var a=n.substring(r,o);a in i||(i[a]={}),i=i[a]}i[n.substring(r)]=e[n]}return t}(i))}},Flourish.setHeight=function(t){Flourish.fixed_height||(e=t,h=null==t,f())},Flourish.checkHeight=function(){if(!n){var e=Flourish.__container_height;null!=e?(Flourish.fixed_height=!0,c.notifyParentWindow(e)):c.isFixedHeight()?Flourish.fixed_height=!0:(Flourish.fixed_height=!1,f())}},Flourish.fixed_height=n||c.isFixedHeight(),Flourish.enableCustomerAnalytics=function(){c&&c.initCustomerAnalytics()},"loading"===document.readyState?document.addEventListener("DOMContentLoaded",p):p()}()}();
//# sourceMappingURL=embedded.js.map
</script><script>
		function _Flourish_unflattenInto(dest, src) {
			dest = dest || {};
			for (var k in src) {
				var t = dest;
				for (var i = k.indexOf("."), p = 0; i >= 0; i = k.indexOf(".", p = i+1)) {
					var s = k.substring(p, i);
					if (!(s in t)) t[s] = {};
					t = t[s];
				}
				t[k.substring(p)] = src[k];
			}
			return dest;
		}
		var _Flourish_settings = {"animate_scores":false,"button_style.background_selected":"#b32929","button_style.button_styles_advanced":false,"circle_space_between":0,"color.categorical_palette":["#c11f1f"],"color_mode":"line","controls_style.font_weight":"bold","end_circle_r":0.2,"end_circle_stroke":0,"end_circle_stroke_bg":false,"filter_control.slider_font_color":null,"height_mode":"auto","hide_labels":true,"horse_images":true,"label_ranks":"","label_scores":"","labels.hide_overlaps":true,"labels.lines":"off","labels.max_width":0,"labels.position":"none","labels.text_line_height":0.4,"labels.text_weight":"400","layout.background_image_enabled":true,"layout.background_image_size":"cover","layout.background_image_src":"https://public.flourish.studio/uploads/1319517/a4117404-cd03-4f62-8e9b-ed8fc1160bae.jpg","layout.body_font":{"name":"Coda","url":"https://fonts.googleapis.com/css?family=Coda:400,700"},"layout.border.bottom.width":5,"layout.border.enabled":false,"layout.border.left.width":1,"layout.border.right.width":1,"layout.border.top.width":5,"layout.footer_font":{"name":"Source Sans Pro","url":"https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,700"},"layout.footer_logo_enabled":false,"layout.footer_note":"PhotoAC","layout.footer_note_secondary":"","layout.footer_styling":true,"layout.header_align":"center","layout.layout_order":"stack-default","layout.margin_bottom":1.25,"layout.margin_left":3,"layout.margin_right":3,"layout.margin_top":1.5,"layout.multiple_sources":true,"layout.screenreader_hide_primary":true,"layout.source_name":"CrimeInfo","layout.source_name_2":"based on Annual Report of Prosecutor's Statistics, Annual Report of the Execution Statistics and White Paper on Crime of Japan","layout.source_name_3":"","layout.source_url":"https://www.crimeinfo.jp/data/toukei/execution/","layout.space_between_sections":"1","layout.subtitle":"Death Penalty Records since 1882","layout.subtitle_font":null,"layout.subtitle_styling":true,"layout.title":"Capital Punishment has been carried out in Japan","layout.title_font":{"name":"Coda","url":"https://fonts.googleapis.com/css?family=Coda:400,700"},"layout.title_size":"2","layout.title_styling":true,"padding_right":0,"play_mode":"all","rank_inside_color":"#000000","rank_outside_picture":true,"show_buttons":false,"show_replay":true,"stage_duration":5,"start_circle_r":0.2,"ties_mode":"dense","update_duration":100,"value_type":"scores","x.axis_position":"bottom","x.edge_padding":50,"x.gridlines_styling":false,"x.gridlines_visible":false,"x.line_and_tick_color":"#000000","x.line_and_tick_width":0.025,"x.line_visible":true,"x.tick_label_color":"#000000","x.tick_label_position":"default","x.tick_label_size":1,"x.tick_label_styling":true,"x.tick_label_weight":"normal","x.tick_length":0.4,"x.tick_side":"out","x.title":"Year","x.title_color":"#000000","x.title_padding":0,"x.title_size":1.5,"x.title_styling":true,"x.title_weight":"bold","y.axis_visible":true,"y.edge_padding":75,"y.gridline_category_dividers":false,"y.gridline_color":"#ffffff","y.gridlines_styling":true,"y.gridline_style":"solid","y.gridlines_visible":false,"y.line_and_tick_color":"#000000","y.linear_max":150,"y.linear_min":0,"y.line_visible":true,"y.show_scale_settings":true,"y.tick_label_color":"#000000","y.tick_label_position":"default","y.tick_label_size":1,"y.tick_label_styling":true,"y.tick_length":0.4,"y.tick_mode":"number","y.tick_number":3,"y.tick_padding":0.5,"y.tick_side":"out","y.title":"Number of Execution","y.title_color":"#000000","y.title_padding":0.5,"y.title_position":"end","y.title_size":1.5,"y.title_styling":true,"y.title_weight":"bold","y.zero_axis":"on"};
		_Flourish_unflattenInto(window.template.state, _Flourish_settings);

		var _Flourish_data_column_names = {"captions":{"from":"From","image":"Image","text":"Caption","to":"To"},"horserace":{"name":"Year","stages":["1882","1883","1884","1885","1886","1887","1888","1889","1890","1891","1892","1893","1894","1895","1896","1897","1898","1899","1900","1901","1902","1903","1904","1905","1906","1907","1908","1909","1910","1911","1912","1913","1914","1915","1916","1917","1918","1919","1920","1921","1922","1923","1924","1925","1926","1927","1928","1929","1930","1931","1932","1933","1934","1935","1936","1937","1938","1939","1940","1941","1942","1943","1944","1945","1946","1947","1948","1949","1950","1951","1952","1953","1954","1955","1956","1957","1958","1959","1960","1961","1962","1963","1964","1965","1966","1967","1968","1969","1970","1971","1972","1973","1974","1975","1976","1977","1978","1979","1980","1981","1982","1983","1984","1985","1986","1987","1988","1989","1990","1991","1992","1993","1994","1995","1996","1997","1998","1999","2000","2001","2002","2003","2004","2005","2006","2007","2008","2009","2010","2011","2012","2013","2014","2015","2016","2017","2018","2019","2020","2021"]}},
		    _Flourish_data_metadata = {"captions":{"from":{"type":"string","type_id":"string$arbitrary_string","output_format_id":"string$arbitrary_string"},"image":{"type":"string","type_id":"string$arbitrary_string","output_format_id":"string$arbitrary_string"},"text":{"type":"string","type_id":"string$arbitrary_string","output_format_id":"string$arbitrary_string"},"to":{"type":"string","type_id":"string$arbitrary_string","output_format_id":"string$arbitrary_string"}},"horserace":{"name":{"type":"string","type_id":"string$arbitrary_string","output_format_id":"string$arbitrary_string"},"stages":[{"type":"number","type_id":"number$comma_point","output_format_id":"number$comma_point"},{"type":"number","type_id":"number$comma_point","output_format_id":"number$comma_point"},{"type":"number","type_id":"number$comma_point","output_format_id":"number$comma_point"},{"type":"number","type_id":"number$comma_point","output_format_id":"number$comma_point"},{"type":"number","type_id":"number$comma_point","output_format_id":"number$comma_point"},{"type":"number","type_id":"number$comma_point","output_format_id":"number$comma_point"},{"type":"number","type_id":"number$comma_point","output_format_id":"number$comma_point"},{"type":"number","type_id":"number$comma_point","output_format_id":"number$comma_point"},{"type":"number","type_id":"number$comma_point","output_format_id":"number$comma_point"},{"type":"number","type_id":"number$comma_point","output_format_id":"number$comma_point"},{"type":"number","type_id":"number$comma_point","output_format_id":"number$comma_point"},{"type":"number","type_id":"number$comma_point","output_format_id":"number$comma_point"},{"type":"number","type_id":"number$comma_point","output_format_id":"number$comma_point"},{"type":"number","type_id":"number$comma_point","output_format_id":"number$comma_point"},{"type":"number","type_id":"number$comma_point","output_format_id":"number$comma_point"},{"type":"number","type_id":"number$comma_point","output_format_id":"number$comma_point"},{"type":"number","type_id":"number$comma_point","output_format_id":"number$comma_point"},{"type":"number","type_id":"number$comma_point","output_format_id":"number$comma_point"},{"type":"number","type_id":"number$comma_point","output_format_id":"number$comma_point"},{"type":"number","type_id":"number$comma_point","output_format_id":"number$comma_point"},{"type":"number","type_id":"number$comma_point","output_format_id":"number$comma_point"},{"type":"number","type_id":"number$comma_point","output_format_id":"number$comma_point"},{"type":"number","type_id":"number$comma_point","output_format_id":"number$comma_point"},{"type":"number","type_id":"number$comma_point","output_format_id":"number$comma_point"},{"type":"number","type_id":"number$comma_point","output_format_id":"number$comma_point"},{"type":"number","type_id":"number$comma_point","output_format_id":"number$comma_point"},{"type":"number","type_id":"number$comma_point","output_format_id":"number$comma_point"},{"type":"number","type_id":"number$comma_point","output_format_id":"number$comma_point"},{"type":"number","type_id":"number$comma_point","output_format_id":"number$comma_point"},{"type":"number","type_id":"number$comma_point","output_format_id":"number$comma_point"},{"type":"number","type_id":"number$comma_point","output_format_id":"number$comma_point"},{"type":"number","type_id":"number$comma_point","output_format_id":"number$comma_point"},{"type":"number","type_id":"number$comma_point","output_format_id":"number$comma_point"},{"type":"number","type_id":"number$comma_point","output_format_id":"number$comma_point"},{"type":"number","type_id":"number$comma_point","output_format_id":"number$comma_point"},{"type":"number","type_id":"number$comma_point","output_format_id":"number$comma_point"},{"type":"number","type_id":"number$comma_point","output_format_id":"number$comma_point"},{"type":"number","type_id":"number$comma_point","output_format_id":"number$comma_point"},{"type":"number","type_id":"number$comma_point","output_format_id":"number$comma_point"},{"type":"number","type_id":"number$comma_point","output_format_id":"number$comma_point"},{"type":"number","type_id":"number$comma_point","output_format_id":"number$comma_point"},{"type":"number","type_id":"number$comma_point","output_format_id":"number$comma_point"},{"type":"number","type_id":"number$comma_point","output_format_id":"number$comma_point"},{"type":"number","type_id":"number$comma_point","output_format_id":"number$comma_point"},{"type":"number","type_id":"number$comma_point","output_format_id":"number$comma_point"},{"type":"number","type_id":"number$comma_point","output_format_id":"number$comma_point"},{"type":"number","type_id":"number$comma_point","output_format_id":"number$comma_point"},{"type":"number","type_id":"number$comma_point","output_format_id":"number$comma_point"},{"type":"number","type_id":"number$comma_point","output_format_id":"number$comma_point"},{"type":"number","type_id":"number$comma_point","output_format_id":"number$comma_point"},{"type":"number","type_id":"number$comma_point","output_format_id":"number$comma_point"},{"type":"number","type_id":"number$comma_point","output_format_id":"number$comma_point"},{"type":"number","type_id":"number$comma_point","output_format_id":"number$comma_point"},{"type":"number","type_id":"number$comma_point","output_format_id":"number$comma_point"},{"type":"number","type_id":"number$comma_point","output_format_id":"number$comma_point"},{"type":"number","type_id":"number$comma_point","output_format_id":"number$comma_point"},{"type":"number","type_id":"number$comma_point","output_format_id":"number$comma_point"},{"type":"number","type_id":"number$comma_point","output_format_id":"number$comma_point"},{"type":"number","type_id":"number$comma_point","output_format_id":"number$comma_point"},{"type":"number","type_id":"number$comma_point","output_format_id":"number$comma_point"},{"type":"number","type_id":"number$comma_point","output_format_id":"number$comma_point"},{"type":"number","type_id":"number$comma_point","output_format_id":"number$comma_point"},{"type":"number","type_id":"number$comma_point","output_format_id":"number$comma_point"},{"type":"number","type_id":"number$comma_point","output_format_id":"number$comma_point"},{"type":"number","type_id":"number$comma_point","output_format_id":"number$comma_point"},{"type":"number","type_id":"number$comma_point","output_format_id":"number$comma_point"},{"type":"number","type_id":"number$comma_point","output_format_id":"number$comma_point"},{"type":"number","type_id":"number$comma_point","output_format_id":"number$comma_point"},{"type":"number","type_id":"number$comma_point","output_format_id":"number$comma_point"},{"type":"number","type_id":"number$comma_point","output_format_id":"number$comma_point"},{"type":"number","type_id":"number$comma_point","output_format_id":"number$comma_point"},{"type":"number","type_id":"number$comma_point","output_format_id":"number$comma_point"},{"type":"number","type_id":"number$comma_point","output_format_id":"number$comma_point"},{"type":"number","type_id":"number$comma_point","output_format_id":"number$comma_point"},{"type":"number","type_id":"number$comma_point","output_format_id":"number$comma_point"},{"type":"number","type_id":"number$comma_point","output_format_id":"number$comma_point"},{"type":"number","type_id":"number$comma_point","output_format_id":"number$comma_point"},{"type":"number","type_id":"number$comma_point","output_format_id":"number$comma_point"},{"type":"number","type_id":"number$comma_point","output_format_id":"number$comma_point"},{"type":"number","type_id":"number$comma_point","output_format_id":"number$comma_point"},{"type":"number","type_id":"number$comma_point","output_format_id":"number$comma_point"},{"type":"number","type_id":"number$comma_point","output_format_id":"number$comma_point"},{"type":"number","type_id":"number$comma_point","output_format_id":"number$comma_point"},{"type":"number","type_id":"number$comma_point","output_format_id":"number$comma_point"},{"type":"number","type_id":"number$comma_point","output_format_id":"number$comma_point"},{"type":"number","type_id":"number$comma_point","output_format_id":"number$comma_point"},{"type":"number","type_id":"number$comma_point","output_format_id":"number$comma_point"},{"type":"number","type_id":"number$comma_point","output_format_id":"number$comma_point"},{"type":"number","type_id":"number$comma_point","output_format_id":"number$comma_point"},{"type":"number","type_id":"number$comma_point","output_format_id":"number$comma_point"},{"type":"number","type_id":"number$comma_point","output_format_id":"number$comma_point"},{"type":"number","type_id":"number$comma_point","output_format_id":"number$comma_point"},{"type":"number","type_id":"number$comma_point","output_format_id":"number$comma_point"},{"type":"number","type_id":"number$comma_point","output_format_id":"number$comma_point"},{"type":"number","type_id":"number$comma_point","output_format_id":"number$comma_point"},{"type":"number","type_id":"number$comma_point","output_format_id":"number$comma_point"},{"type":"number","type_id":"number$comma_point","output_format_id":"number$comma_point"},{"type":"number","type_id":"number$comma_point","output_format_id":"number$comma_point"},{"type":"number","type_id":"number$comma_point","output_format_id":"number$comma_point"},{"type":"number","type_id":"number$comma_point","output_format_id":"number$comma_point"},{"type":"number","type_id":"number$comma_point","output_format_id":"number$comma_point"},{"type":"number","type_id":"number$comma_point","output_format_id":"number$comma_point"},{"type":"number","type_id":"number$comma_point","output_format_id":"number$comma_point"},{"type":"number","type_id":"number$comma_point","output_format_id":"number$comma_point"},{"type":"number","type_id":"number$comma_point","output_format_id":"number$comma_point"},{"type":"number","type_id":"number$comma_point","output_format_id":"number$comma_point"},{"type":"number","type_id":"number$comma_point","output_format_id":"number$comma_point"},{"type":"number","type_id":"number$comma_point","output_format_id":"number$comma_point"},{"type":"number","type_id":"number$comma_point","output_format_id":"number$comma_point"},{"type":"number","type_id":"number$comma_point","output_format_id":"number$comma_point"},{"type":"number","type_id":"number$comma_point","output_format_id":"number$comma_point"},{"type":"number","type_id":"number$comma_point","output_format_id":"number$comma_point"},{"type":"number","type_id":"number$comma_point","output_format_id":"number$comma_point"},{"type":"number","type_id":"number$comma_point","output_format_id":"number$comma_point"},{"type":"number","type_id":"number$comma_point","output_format_id":"number$comma_point"},{"type":"number","type_id":"number$comma_point","output_format_id":"number$comma_point"},{"type":"number","type_id":"number$comma_point","output_format_id":"number$comma_point"},{"type":"number","type_id":"number$comma_point","output_format_id":"number$comma_point"},{"type":"number","type_id":"number$comma_point","output_format_id":"number$comma_point"},{"type":"number","type_id":"number$comma_point","output_format_id":"number$comma_point"},{"type":"number","type_id":"number$comma_point","output_format_id":"number$comma_point"},{"type":"number","type_id":"number$comma_point","output_format_id":"number$comma_point"},{"type":"number","type_id":"number$comma_point","output_format_id":"number$comma_point"},{"type":"number","type_id":"number$comma_point","output_format_id":"number$comma_point"},{"type":"number","type_id":"number$comma_point","output_format_id":"number$comma_point"},{"type":"number","type_id":"number$comma_point","output_format_id":"number$comma_point"},{"type":"number","type_id":"number$comma_point","output_format_id":"number$comma_point"},{"type":"number","type_id":"number$comma_point","output_format_id":"number$comma_point"},{"type":"number","type_id":"number$comma_point","output_format_id":"number$comma_point"},{"type":"number","type_id":"number$comma_point","output_format_id":"number$comma_point"},{"type":"number","type_id":"number$comma_point","output_format_id":"number$comma_point"},{"type":"number","type_id":"number$comma_point","output_format_id":"number$comma_point"},{"type":"number","type_id":"number$comma_point","output_format_id":"number$comma_point"},{"type":"number","type_id":"number$comma_point","output_format_id":"number$comma_point"},{"type":"number","type_id":"number$comma_point","output_format_id":"number$comma_point"},{"type":"number","type_id":"number$comma_point","output_format_id":"number$comma_point"},{"type":"number","type_id":"number$comma_point","output_format_id":"number$comma_point"},{"type":"number","type_id":"number$comma_point","output_format_id":"number$comma_point"},{"type":"number","type_id":"number$comma_point","output_format_id":"number$comma_point"},{"type":"number","type_id":"number$comma_point","output_format_id":"number$comma_point"}]}},
		    _Flourish_data = {"captions":[],"horserace":[{"name":"Number","stages":[51,61,52,130,131,97,60,49,39,66,51,46,52,75,72,21,48,37,33,29,28,41,45,36,19,12,51,18,39,40,24,60,5,94,63,53,56,41,41,25,32,32,13,19,29,12,21,13,15,19,22,28,35,14,11,23,15,14,20,22,11,13,25,8,11,12,33,33,31,24,18,24,30,32,11,39,7,30,39,6,26,12,0,4,4,23,0,18,26,17,7,3,4,17,12,4,3,1,1,1,1,1,1,3,2,2,2,1,0,0,0,7,2,6,6,4,6,5,3,2,2,1,2,1,4,9,15,7,2,0,7,8,3,3,3,4,15,3,0,3]}]},
		    _Flourish_visualisation_id = 14522277,
		    _Flourish_visualisation_version_number = 827,
		    _Flourish_template_id = 6348;
		for (var _Flourish_dataset in _Flourish_data) {
				window.template.data[_Flourish_dataset] = _Flourish_data[_Flourish_dataset];
				window.template.data[_Flourish_dataset].column_names = _Flourish_data_column_names[_Flourish_dataset];
				window.template.data[_Flourish_dataset].metadata = _Flourish_data_metadata[_Flourish_dataset];
		}

		
		window.template.draw();
	</script></body></html>